"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[6198],{3632:(P,S,_)=>{_.d(S,{U:()=>M});var m=_(467),R=_(7328),i=_(6996),o=_(8974),b=_(7157),k=_(9884),F=_(177),E=_(9417),p=_(9664);function t(h,I){if(1&h&&(i.j41(0,"ion-select-option",15),i.EFF(1),i.k0s()),2&h){const a=I.$implicit;i.FS9("value",a.value),i.R7$(1),i.JRh(a.name)}}function T(h,I){if(1&h){const a=i.RV6();i.j41(0,"section")(1,"ion-item")(2,"ion-label",8),i.EFF(3,"Antenna Radious (m)"),i.k0s(),i.j41(4,"ion-input",9),i.bIt("ngModelChange",function(r){i.eBV(a);const d=i.XpG();return i.Njj(d.ant_radius=r)}),i.k0s()(),i.j41(5,"ion-item")(6,"ion-label",8),i.EFF(7,"Antenna L1 Height (m)"),i.k0s(),i.j41(8,"ion-input",9),i.bIt("ngModelChange",function(r){i.eBV(a);const d=i.XpG();return i.Njj(d.ant_l1_height=r)}),i.k0s()(),i.j41(9,"ion-item")(10,"ion-label",8),i.EFF(11,"Antenna L2 Height (m)"),i.k0s(),i.j41(12,"ion-input",9),i.bIt("ngModelChange",function(r){i.eBV(a);const d=i.XpG();return i.Njj(d.ant_l2_height=r)}),i.k0s()(),i.j41(13,"ion-item")(14,"ion-label",8),i.EFF(15,"Antenna ARP (m)"),i.k0s(),i.j41(16,"ion-input",9),i.bIt("ngModelChange",function(r){i.eBV(a);const d=i.XpG();return i.Njj(d.ant_arp_height=r)}),i.k0s()()()}if(2&h){const a=i.XpG();i.R7$(4),i.Y8G("ngModel",a.ant_radius),i.R7$(4),i.Y8G("ngModel",a.ant_l1_height),i.R7$(4),i.Y8G("ngModel",a.ant_l2_height),i.R7$(4),i.Y8G("ngModel",a.ant_arp_height)}}let M=(()=>{class h{constructor(a,c,r){this.modalController=a,this.navParams=c,this.dataService=r,this.use_slant_height=!1,this.ant_user_height=0,this.ant_radius=.073,this.ant_l1_height=.05,this.ant_l2_height=.05,this.ant_arp_height=.04,this.ant_calculated_height=0,this.ant_measure_type="pole",this.ant_measure_type_list=[{name:"Pole Height",value:"pole"},{name:"Phase Center",value:"phase center"},{name:"Slant Height",value:"slant"}],this.ant_type=[{name:"GN-GG0710",value:{radious:.07575,l1:.048,l2:.044,arp:.036}},{name:"GPS500",value:{radious:.076,l1:.054,l2:.0478,arp:.03}},{name:"PRB2",value:{radious:.0675,l1:.087,l2:.0824,arp:.078}},{name:"PRB3",value:{radious:.0675,l1:.087,l2:.0824,arp:.078}}],this.show_detail=!1}ngOnInit(){this.ant_user_height=this.navParams.get("ant_height"),this.ant_measure_type=this.navParams.get("measure_type"),"variscite"===this.dataService.info.platform?this.ant_model=typeof this.dataService.info.ant_model>"u"?"GN-GG0710":this.dataService.info.ant_model:this.dataService.isPRB2?this.ant_model=typeof this.dataService.info.ant_model>"u"?"PRB2":this.dataService.info.ant_model:this.dataService.isPRB3&&(this.ant_model=typeof this.dataService.info.ant_model>"u"?"PRB3":this.dataService.info.ant_model);let a=this.getAntInfo(this.ant_model);this.ant_radius=a.value.radious,this.ant_l1_height=a.value.l1,this.ant_l2_height=a.value.l2,this.ant_arp_height=a.value.arp}confirm_modal(){var a=this;return(0,m.A)(function*(){let c=(a.ant_l1_height+a.ant_l2_height)/2,r=c-a.ant_arp_height;switch(console.log("height_edge_phase_center",r),a.ant_measure_type){case"pole":a.ant_calculated_height=a.ant_user_height+c;break;case"phase center":a.ant_calculated_height=a.ant_user_height+r;break;case"slant":a.ant_calculated_height=Math.sqrt(a.ant_user_height**2-a.ant_radius**2)+r}a.ant_calculated_height=R.LIG(a.ant_calculated_height,4),console.log("Calculated Antenna Height",a.ant_calculated_height),yield a.modalController.dismiss(a.ant_measure_type,`${a.ant_calculated_height}`)})()}cancel_modal(){var a=this;return(0,m.A)(function*(){yield a.modalController.dismiss("cancel")})()}getAntInfo(a){return this.ant_type.find(r=>r.name==a)}showDetail(){this.show_detail=!this.show_detail}static{this.\u0275fac=function(c){return new(c||h)(i.rXU(o.W3),i.rXU(b.y8),i.rXU(k.f))}}static{this.\u0275cmp=i.VBU({type:h,selectors:[["app-modal-antenna"]],decls:35,vars:22,consts:[[1,"custom-header"],["color","darkblue",1,"ion-align-items-center","custom-toolbar"],["slot","end",1,"center-vertical",3,"click"],["slot","icon-only","name","close"],[3,"fullscreen"],[1,"mt-3"],["label","Antenna Measure Type",3,"ngModel","okText","cancelText","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],["position","floating"],["aria-label","","type","number",3,"ngModel","ngModelChange"],[3,"click"],[4,"ngIf"],[3,"translucent"],["expand","full","color","medium",3,"click"],["expand","full","color","success",3,"click"],[3,"value"]],template:function(c,r){1&c&&(i.j41(0,"ion-header",0)(1,"ion-toolbar",1)(2,"ion-title"),i.EFF(3,"Antenna Height"),i.k0s(),i.j41(4,"ion-buttons",2),i.bIt("click",function(){return r.cancel_modal()}),i.nrm(5,"ion-icon",3),i.k0s()()(),i.j41(6,"ion-content",4)(7,"ion-list")(8,"ion-item",5)(9,"ion-select",6),i.bIt("ngModelChange",function(f){return r.ant_measure_type=f}),i.nI1(10,"translate"),i.nI1(11,"translate"),i.DNE(12,t,2,2,"ion-select-option",7),i.k0s()(),i.j41(13,"ion-item")(14,"ion-label",8),i.EFF(15),i.nI1(16,"translate"),i.k0s(),i.j41(17,"ion-input",9),i.bIt("ngModelChange",function(f){return r.ant_user_height=f}),i.k0s()(),i.j41(18,"ion-item")(19,"ion-label",10),i.bIt("click",function(){return r.showDetail()}),i.EFF(20),i.k0s()(),i.DNE(21,T,17,4,"section",11),i.k0s()(),i.j41(22,"ion-footer",12)(23,"ion-grid")(24,"ion-row")(25,"ion-col")(26,"div")(27,"ion-button",13),i.bIt("click",function(){return r.cancel_modal()}),i.EFF(28),i.nI1(29,"translate"),i.k0s()()(),i.j41(30,"ion-col")(31,"div")(32,"ion-button",14),i.bIt("click",function(){return r.confirm_modal()}),i.EFF(33),i.nI1(34,"translate"),i.k0s()()()()()()),2&c&&(i.R7$(6),i.Y8G("fullscreen",!0),i.R7$(3),i.FS9("okText",i.bMT(10,12,"OK")),i.FS9("cancelText",i.bMT(11,14,"CANCEL")),i.Y8G("ngModel",r.ant_measure_type),i.R7$(3),i.Y8G("ngForOf",r.ant_measure_type_list),i.R7$(3),i.SpI("",i.bMT(16,16,"ANT_HEIGHT")," (m)"),i.R7$(2),i.Y8G("ngModel",r.ant_user_height),i.R7$(3),i.SpI(" Antenna Model ",r.ant_model," "),i.R7$(1),i.Y8G("ngIf",r.show_detail),i.R7$(1),i.Y8G("translucent",!0),i.R7$(6),i.JRh(i.bMT(29,18,"CANCEL")),i.R7$(5),i.JRh(i.bMT(34,20,"CONFIRM")))},dependencies:[F.Sq,F.bT,E.BC,E.vS,o.Jm,o.QW,o.hU,o.W9,o.M0,o.lO,o.eU,o.iq,o.$w,o.uz,o.he,o.nf,o.ln,o.Nm,o.Ip,o.BC,o.ai,o.su,o.Je,p.D9],styles:['@charset "UTF-8";.custom-header[_ngcontent-%COMP%]{position:relative;max-height:52px;height:52px}.custom-toolbar[_ngcontent-%COMP%]{position:absolute;top:50%;transform:translateY(-50%);width:100%;display:flex;align-items:center;justify-content:space-between}']})}}return h})()},6198:(P,S,_)=>{_.r(S),_.d(S,{HttpLoaderFactory:()=>x,Tab4PageModule:()=>D});var m=_(177),R=_(9417),i=_(1470),o=_(8974),b=_(467),k=_(3632),F=_(8062),E=_(1008),p=_(7328),t=_(6996),T=_(9884),M=_(7157),h=_(9664);function I(l,u){if(1&l&&(t.j41(0,"section")(1,"ion-card-subtitle",9),t.EFF(2),t.k0s()()),2&l){const e=t.XpG();t.R7$(2),t.Lme("",e.device_ip," ",e.device_serial,"")}}function a(l,u){if(1&l&&(t.j41(0,"section")(1,"ion-card-subtitle",9),t.EFF(2),t.k0s()()),2&l){const e=t.XpG();t.R7$(2),t.JRh(e.model_blue_name)}}function c(l,u){if(1&l&&(t.j41(0,"ion-card")(1,"ion-card-content")(2,"ion-row")(3,"ion-col",10)(4,"ion-card-subtitle",11),t.EFF(5),t.k0s()()()()()),2&l){const e=t.XpG();t.R7$(5),t.JRh(e.message)}}function r(l,u){if(1&l){const e=t.RV6();t.j41(0,"section")(1,"div",12),t.nrm(2,"hr",13),t.j41(3,"div",14)(4,"p",15),t.EFF(5),t.nI1(6,"translate"),t.k0s(),t.nrm(7,"hr",16),t.j41(8,"ion-item",17)(9,"ion-label")(10,"p",18),t.EFF(11," LLH - WGS84 "),t.k0s()()(),t.j41(12,"div",19)(13,"div",20)(14,"div",21)(15,"div")(16,"ion-item",22)(17,"ion-label")(18,"p",23),t.EFF(19),t.nI1(20,"translate"),t.k0s(),t.j41(21,"h5",24),t.EFF(22),t.k0s()()()(),t.j41(23,"div")(24,"ion-item",22)(25,"ion-label")(26,"p",23),t.EFF(27),t.nI1(28,"translate"),t.k0s(),t.j41(29,"H5",24),t.EFF(30),t.k0s()()()()(),t.j41(31,"div",21)(32,"div")(33,"ion-item",22)(34,"ion-label")(35,"p",25),t.EFF(36),t.nI1(37,"translate"),t.k0s(),t.j41(38,"H5",26),t.EFF(39),t.k0s()()()(),t.j41(40,"div")(41,"ion-item",22)(42,"ion-label")(43,"p",25),t.EFF(44),t.nI1(45,"translate"),t.k0s(),t.j41(46,"H5",26),t.EFF(47),t.k0s()()()()(),t.j41(48,"div",21)(49,"ion-item",22)(50,"ion-label")(51,"p",25),t.EFF(52),t.nI1(53,"translate"),t.k0s(),t.j41(54,"H5",27),t.EFF(55),t.k0s()()()(),t.j41(56,"div",21)(57,"ion-item",22)(58,"ion-label")(59,"p",25),t.EFF(60),t.nI1(61,"translate"),t.k0s(),t.j41(62,"H5",26),t.EFF(63),t.k0s()(),t.j41(64,"ion-button",28),t.bIt("click",function(){t.eBV(e);const n=t.XpG();return t.Njj(n.set_ant_height())}),t.EFF(65,"..."),t.k0s()()()()(),t.nrm(66,"hr",16),t.j41(67,"div")(68,"div",20)(69,"div",29)(70,"ion-item",30)(71,"ion-label",31)(72,"p",32),t.EFF(73),t.k0s()(),t.j41(74,"div",33)(75,"ion-label",31)(76,"p",34),t.EFF(77),t.k0s()()()()(),t.j41(78,"div",21)(79,"ion-item",22)(80,"ion-label")(81,"p",35),t.EFF(82),t.nI1(83,"translate"),t.k0s(),t.j41(84,"H5",36),t.EFF(85),t.k0s()()()(),t.j41(86,"div",21)(87,"ion-item",22)(88,"ion-label")(89,"p",35),t.EFF(90),t.nI1(91,"translate"),t.k0s(),t.j41(92,"H5",36),t.EFF(93),t.k0s()()()(),t.j41(94,"div",37),t.nrm(95,"hr",16),t.k0s(),t.j41(96,"div",38)(97,"ion-item",22)(98,"ion-label")(99,"p",39),t.EFF(100," PDOP "),t.k0s(),t.j41(101,"H5",40),t.EFF(102),t.k0s()()()(),t.j41(103,"div",38)(104,"ion-item",22)(105,"ion-label")(106,"p",39),t.EFF(107," HDOP "),t.k0s(),t.j41(108,"H5",40),t.EFF(109),t.k0s()()()(),t.j41(110,"div",38)(111,"ion-item",22)(112,"ion-label")(113,"p",39),t.EFF(114," VDOP "),t.k0s(),t.j41(115,"H5",40),t.EFF(116),t.k0s()()()(),t.j41(117,"div",38)(118,"ion-item",22)(119,"ion-label")(120,"p",39),t.EFF(121),t.nI1(122,"translate"),t.k0s(),t.j41(123,"H5",40),t.EFF(124),t.k0s()()()(),t.j41(125,"div",38)(126,"ion-item",22)(127,"ion-label")(128,"p",39),t.EFF(129),t.nI1(130,"translate"),t.k0s(),t.j41(131,"H5",40),t.EFF(132),t.k0s()()()(),t.j41(133,"div",38)(134,"ion-item",22)(135,"ion-label")(136,"p",39),t.EFF(137),t.nI1(138,"translate"),t.k0s(),t.j41(139,"H5",40),t.EFF(140),t.k0s()()()(),t.j41(141,"div",41)(142,"ion-item",22)(143,"ion-label")(144,"p",39),t.EFF(145),t.nI1(146,"translate"),t.k0s(),t.j41(147,"H5",40),t.EFF(148),t.k0s()()()(),t.j41(149,"div",41)(150,"ion-item",22)(151,"ion-label")(152,"p",39),t.EFF(153," bps "),t.k0s(),t.j41(154,"H5",40),t.EFF(155),t.k0s()()()(),t.j41(156,"div",41)(157,"ion-item",22)(158,"ion-label")(159,"p",39),t.EFF(160," Station ID "),t.k0s(),t.j41(161,"H5",40),t.EFF(162),t.k0s()()()()()()(),t.nrm(163,"hr",42),t.k0s()()}if(2&l){const e=t.XpG();t.R7$(5),t.Lme(" ",t.bMT(6,37,"ROVER_POS")," -- ",e.time_string," "),t.R7$(14),t.SpI(" ",t.bMT(20,39,"LATITUDE")," "),t.R7$(3),t.SpI(" ",e.ublox_lat_format," "),t.R7$(5),t.SpI(" ",t.bMT(28,41,"LONGITUDE")," "),t.R7$(3),t.SpI(" ",e.ublox_long_format," "),t.R7$(6),t.SpI(" ",t.bMT(37,43,"ELLIPSOID")," "),t.R7$(3),t.Lme(" ",e.ublox_h_elipsoid," ",e.ellipsoid_unit," "),t.R7$(5),t.Lme(" ",t.bMT(45,45,"GEOID")," - ",e.geoid_model," "),t.R7$(3),t.Lme(" ",e.ublox_h_geoid," ",e.geoid_unit," "),t.R7$(5),t.SpI(" ",t.bMT(53,47,"MSL")," "),t.R7$(3),t.Lme(" ",e.ublox_h_msl," ",e.msl_unit," "),t.R7$(5),t.SpI(" ",t.bMT(61,49,"ANT_HEIGHT")," "),t.R7$(3),t.SpI(" ",e.rover_ant_height," m "),t.R7$(10),t.SpI(" UTM - ",e.model_utm_format," "),t.R7$(4),t.SpI(" ",e.ublox_utm_zone," "),t.R7$(5),t.SpI(" ",t.bMT(83,51,"UTM_NORTH")," "),t.R7$(3),t.SpI(" ",e.ublox_utm_north," "),t.R7$(5),t.SpI(" ",t.bMT(91,53,"UTM_EAST")," "),t.R7$(3),t.SpI(" ",e.ublox_utm_east," "),t.R7$(9),t.SpI(" ",e.ublox_pdop," "),t.R7$(7),t.SpI(" ",e.ublox_hdop," "),t.R7$(7),t.SpI(" ",e.ublox_vdop," "),t.R7$(5),t.SpI(" ",t.bMT(122,55,"SAT")," "),t.R7$(3),t.SpI(" ",e.sat_valid," "),t.R7$(5),t.SpI(" ",t.bMT(130,57,"SPEED_KNOTS")," "),t.R7$(3),t.SpI(" ",e.sog_knots," "),t.R7$(5),t.SpI(" ",t.bMT(138,59,"SPEED_KMH")," "),t.R7$(3),t.SpI(" ",e.sog_kmh," "),t.R7$(5),t.SpI(" ",t.bMT(146,61,"BASELINE")," "),t.R7$(3),t.SpI(" ",e.baseline_format," "),t.R7$(7),t.SpI(" ",e.receiving," "),t.R7$(7),t.SpI(" ",e.base_station_id," ")}}function d(l,u){if(1&l&&(t.j41(0,"section")(1,"div",12),t.nrm(2,"hr",13),t.j41(3,"div",14)(4,"H2",43),t.EFF(5),t.nI1(6,"translate"),t.k0s(),t.nrm(7,"hr",16),t.j41(8,"ion-item",17)(9,"ion-label")(10,"p",18),t.EFF(11," LLH - WGS84 "),t.k0s()()(),t.j41(12,"div",19)(13,"div",20)(14,"div",21)(15,"div")(16,"ion-item",22)(17,"ion-label")(18,"p",23),t.EFF(19),t.nI1(20,"translate"),t.k0s(),t.j41(21,"h5",24),t.EFF(22),t.k0s()()()(),t.j41(23,"div")(24,"ion-item",22)(25,"ion-label")(26,"p",23),t.EFF(27),t.nI1(28,"translate"),t.k0s(),t.j41(29,"H5",24),t.EFF(30),t.k0s()()()()(),t.j41(31,"div",21)(32,"div")(33,"ion-item",22)(34,"ion-label")(35,"p",25),t.EFF(36),t.nI1(37,"translate"),t.k0s(),t.j41(38,"H5",26),t.EFF(39),t.k0s()()()(),t.j41(40,"div")(41,"ion-item",22)(42,"ion-label")(43,"p",25),t.EFF(44),t.nI1(45,"translate"),t.k0s(),t.j41(46,"H5",26),t.EFF(47),t.k0s()()()()(),t.j41(48,"div",21)(49,"ion-item",22)(50,"ion-label")(51,"p",25),t.EFF(52),t.nI1(53,"translate"),t.k0s(),t.j41(54,"H5",27),t.EFF(55),t.k0s()()()(),t.j41(56,"div",21)(57,"ion-item",22)(58,"ion-label")(59,"p",25),t.EFF(60),t.nI1(61,"translate"),t.k0s(),t.j41(62,"H5",26),t.EFF(63),t.k0s()()()()()(),t.nrm(64,"hr",16),t.j41(65,"div")(66,"div",20)(67,"div",29)(68,"ion-item",30)(69,"ion-label",31)(70,"p",18),t.EFF(71),t.k0s()(),t.j41(72,"div",33)(73,"ion-label",31)(74,"p",44),t.EFF(75),t.k0s()()()()(),t.j41(76,"div",21)(77,"ion-item",22)(78,"ion-label")(79,"p",35),t.EFF(80),t.nI1(81,"translate"),t.k0s(),t.j41(82,"H5",36),t.EFF(83),t.k0s()()()(),t.j41(84,"div",21)(85,"ion-item",22)(86,"ion-label")(87,"p",35),t.EFF(88),t.nI1(89,"translate"),t.k0s(),t.j41(90,"H5",36),t.EFF(91),t.k0s()()()(),t.j41(92,"div",37),t.nrm(93,"hr",16),t.k0s(),t.j41(94,"div",21)(95,"div")(96,"ion-item",17)(97,"ion-label")(98,"p",45),t.EFF(99," X,Y,Z Cordinate "),t.k0s()()()()(),t.j41(100,"div",21)(101,"div")(102,"ion-item",17)(103,"ion-label")(104,"p",45),t.EFF(105),t.nI1(106,"translate"),t.k0s()()()()(),t.j41(107,"div",21)(108,"div")(109,"ion-item",22)(110,"ion-label")(111,"H5",46),t.EFF(112),t.k0s(),t.j41(113,"p",39),t.EFF(114),t.k0s()()()(),t.j41(115,"div")(116,"ion-item",22)(117,"ion-label")(118,"H5",46),t.EFF(119),t.k0s(),t.j41(120,"p",39),t.EFF(121),t.k0s()()()(),t.j41(122,"div")(123,"ion-item",22)(124,"ion-label")(125,"H5",46),t.EFF(126),t.k0s(),t.j41(127,"p",39),t.EFF(128),t.k0s()()()()(),t.j41(129,"div",21)(130,"div")(131,"ion-item",22)(132,"ion-label")(133,"p",39),t.EFF(134),t.nI1(135,"translate"),t.k0s(),t.j41(136,"H5",46),t.EFF(137),t.k0s()()()(),t.j41(138,"div")(139,"ion-item",22)(140,"ion-label")(141,"p",39),t.EFF(142),t.nI1(143,"translate"),t.k0s(),t.j41(144,"H5",46),t.EFF(145),t.k0s()()()(),t.j41(146,"div")(147,"ion-item",22)(148,"ion-label")(149,"p",39),t.EFF(150),t.nI1(151,"translate"),t.k0s(),t.j41(152,"H5",46),t.EFF(153),t.k0s()()()()(),t.j41(154,"div",37),t.nrm(155,"hr",16),t.k0s()(),t.j41(156,"ion-item",17)(157,"ion-label")(158,"p",18),t.EFF(159),t.nI1(160,"translate"),t.k0s()()(),t.j41(161,"div",20)(162,"div",21)(163,"div")(164,"ion-item",22)(165,"ion-label")(166,"p",35),t.EFF(167),t.nI1(168,"translate"),t.k0s(),t.j41(169,"h5",46),t.EFF(170),t.k0s()()()(),t.j41(171,"div")(172,"ion-item",22)(173,"ion-label")(174,"p",35),t.EFF(175),t.nI1(176,"translate"),t.k0s(),t.j41(177,"H5",46),t.EFF(178),t.k0s()()()()(),t.j41(179,"div",21)(180,"div")(181,"ion-item",22)(182,"ion-label")(183,"p",39),t.EFF(184," X "),t.k0s(),t.j41(185,"H5",46),t.EFF(186),t.k0s()()()(),t.j41(187,"div")(188,"ion-item",22)(189,"ion-label")(190,"p",39),t.EFF(191," Y "),t.k0s(),t.j41(192,"H5",46),t.EFF(193),t.k0s()()()()(),t.j41(194,"div",21)(195,"ion-item",22)(196,"ion-label")(197,"p",39),t.EFF(198),t.nI1(199,"translate"),t.k0s(),t.j41(200,"H5",46),t.EFF(201),t.k0s()()()(),t.j41(202,"div",21)(203,"ion-item",22)(204,"ion-label")(205,"p",39),t.EFF(206," Z "),t.k0s(),t.j41(207,"H5",46),t.EFF(208),t.k0s()()()(),t.j41(209,"div",29)(210,"ion-item",22)(211,"ion-label")(212,"p",39),t.EFF(213),t.nI1(214,"translate"),t.k0s(),t.j41(215,"H5",46),t.EFF(216),t.k0s()()()(),t.j41(217,"div",37),t.nrm(218,"hr",16),t.k0s(),t.j41(219,"div",29)(220,"ion-item",17)(221,"ion-label")(222,"p",18),t.EFF(223),t.nI1(224,"translate"),t.k0s()()()(),t.j41(225,"div",38)(226,"ion-item",22)(227,"ion-label")(228,"p",39),t.EFF(229," AGE(S) "),t.k0s(),t.j41(230,"H5",40),t.EFF(231),t.k0s()()()(),t.j41(232,"div",38)(233,"ion-item",22)(234,"ion-label")(235,"p",39),t.EFF(236," AR RATIO "),t.k0s(),t.j41(237,"H5",40),t.EFF(238),t.k0s()()()(),t.j41(239,"div",38)(240,"ion-item",22)(241,"ion-label")(242,"p",39),t.EFF(243," SAT ROVER "),t.k0s(),t.j41(244,"H5",40),t.EFF(245),t.k0s()()()(),t.j41(246,"div",38)(247,"ion-item",22)(248,"ion-label")(249,"p",39),t.EFF(250," SAT BASE "),t.k0s(),t.j41(251,"H5",40),t.EFF(252),t.k0s()()()(),t.j41(253,"div",38)(254,"ion-item",22)(255,"ion-label")(256,"p",39),t.EFF(257," SAT VALID "),t.k0s(),t.j41(258,"H5",40),t.EFF(259),t.k0s()()()(),t.j41(260,"div",38)(261,"ion-item",22)(262,"ion-label")(263,"p",39),t.EFF(264," GDOP "),t.k0s(),t.j41(265,"H5",40),t.EFF(266),t.k0s()()()(),t.j41(267,"div",41)(268,"ion-item",22)(269,"ion-label")(270,"p",39),t.EFF(271," PDOP "),t.k0s(),t.j41(272,"H5",40),t.EFF(273),t.k0s()()()(),t.j41(274,"div",41)(275,"ion-item",22)(276,"ion-label")(277,"p",39),t.EFF(278," HDOP "),t.k0s(),t.j41(279,"H5",40),t.EFF(280),t.k0s()()()(),t.j41(281,"div",41)(282,"ion-item",22)(283,"ion-label")(284,"p",39),t.EFF(285," VDOP "),t.k0s(),t.j41(286,"H5",40),t.EFF(287),t.k0s()()()()()()(),t.nrm(288,"hr",42),t.k0s()()),2&l){const e=t.XpG();t.R7$(5),t.Lme(" ",t.bMT(6,55,"ROVER_POS")," - ",e.positioning_mode," "),t.R7$(14),t.SpI(" ",t.bMT(20,57,"LATITUDE")," "),t.R7$(3),t.SpI(" ",e.rover_lat_format," "),t.R7$(5),t.SpI(" ",t.bMT(28,59,"LONGITUDE")," "),t.R7$(3),t.SpI(" ",e.rover_long_format," "),t.R7$(6),t.SpI(" ",t.bMT(37,61,"ELLIPSOID")," "),t.R7$(3),t.SpI(" ",e.rover_height_ellipsoid," m "),t.R7$(5),t.SpI(" ",t.bMT(45,63,"GEOID")," "),t.R7$(3),t.SpI(" ",e.rover_height_geoid," m "),t.R7$(5),t.SpI(" ",t.bMT(53,65,"MSL")," "),t.R7$(3),t.SpI(" ",e.rover_height_msl," m "),t.R7$(5),t.SpI(" ",t.bMT(61,67,"ANT_HEIGHT")," "),t.R7$(3),t.SpI(" ",e.rover_ant_height," m "),t.R7$(8),t.SpI(" UTM - ",e.model_utm_format," "),t.R7$(4),t.SpI(" ",e.rover_utm_zone," "),t.R7$(5),t.SpI(" ",t.bMT(81,69,"UTM_NORTH")," "),t.R7$(3),t.SpI(" ",e.rover_utm_north," "),t.R7$(5),t.SpI(" ",t.bMT(89,71,"UTM_EAST")," "),t.R7$(3),t.SpI(" ",e.rover_utm_east," "),t.R7$(14),t.SpI(" ",t.bMT(106,73,"VELOCITY")," "),t.R7$(7),t.SpI(" ",e.rover_x," X (m) "),t.R7$(2),t.SpI(" \xb1 ",e.rover_std_x," "),t.R7$(5),t.SpI(" ",e.rover_y," Y (m) "),t.R7$(2),t.SpI(" \xb1 ",e.rover_std_y," "),t.R7$(5),t.SpI(" ",e.rover_z," Z (m) "),t.R7$(2),t.SpI(" \xb1 ",e.rover_std_z," "),t.R7$(6),t.SpI(" ",t.bMT(135,75,"VEL_EAST")," "),t.R7$(3),t.SpI(" ",e.e_vel," "),t.R7$(5),t.SpI(" ",t.bMT(143,77,"VEL_NORTH")," "),t.R7$(3),t.SpI(" ",e.n_vel," "),t.R7$(5),t.SpI(" ",t.bMT(151,79,"VEL_UP")," "),t.R7$(3),t.SpI(" ",e.u_vel," "),t.R7$(6),t.SpI(" ",t.bMT(160,81,"BASE_POS")," "),t.R7$(8),t.SpI(" ",t.bMT(168,83,"LATITUDE")," "),t.R7$(3),t.SpI(" ",e.base_lat_format," "),t.R7$(5),t.SpI(" ",t.bMT(176,85,"LONGITUDE")," "),t.R7$(3),t.SpI(" ",e.base_long_format," "),t.R7$(8),t.SpI(" ",e.base_x," "),t.R7$(7),t.SpI(" ",e.base_y," "),t.R7$(5),t.SpI(" ",t.bMT(199,87,"ELLIPSOID")," "),t.R7$(3),t.SpI(" ",e.base_height_format," "),t.R7$(7),t.SpI(" ",e.base_z," "),t.R7$(5),t.SpI(" ",t.bMT(214,89,"BASELINE")," "),t.R7$(3),t.SpI(" ",e.baseline," "),t.R7$(7),t.SpI(" ",t.bMT(224,91,"RTK_PARAMETER")," "),t.R7$(8),t.SpI(" ",e.age_s," "),t.R7$(7),t.SpI(" ",e.ar_ratio," "),t.R7$(7),t.SpI(" ",e.sat_rover," "),t.R7$(7),t.SpI(" ",e.sat_base," "),t.R7$(7),t.SpI(" ",e.sat_valid," "),t.R7$(7),t.SpI(" ",e.gdop," "),t.R7$(7),t.SpI(" ",e.pdop," "),t.R7$(7),t.SpI(" ",e.hdop," "),t.R7$(7),t.SpI(" ",e.vdop," ")}}function f(l,u){if(1&l){const e=t.RV6();t.j41(0,"section")(1,"div",12),t.nrm(2,"hr",13),t.j41(3,"div",14)(4,"ion-item",47)(5,"ion-label")(6,"p",48),t.EFF(7),t.nI1(8,"translate"),t.k0s(),t.j41(9,"p",49),t.EFF(10),t.k0s()()(),t.j41(11,"div",19)(12,"div",50)(13,"div",21)(14,"div")(15,"ion-item",22)(16,"ion-label")(17,"p",39),t.EFF(18),t.nI1(19,"translate"),t.k0s(),t.j41(20,"H5",40),t.EFF(21),t.k0s()()()(),t.j41(22,"div")(23,"ion-item",22)(24,"ion-label")(25,"p",39),t.EFF(26),t.nI1(27,"translate"),t.k0s(),t.j41(28,"H5",40),t.EFF(29),t.k0s()()()()(),t.j41(30,"div",21)(31,"div")(32,"ion-item",22)(33,"ion-label")(34,"p",39),t.EFF(35),t.nI1(36,"translate"),t.k0s(),t.j41(37,"H5",40),t.EFF(38),t.k0s()()()(),t.j41(39,"div",51)(40,"ion-button",52),t.bIt("click",function(){t.eBV(e);const n=t.XpG();return t.Njj(n.stopDialog())}),t.EFF(41),t.nI1(42,"translate"),t.k0s()()()()()(),t.nrm(43,"hr",42),t.k0s()()}if(2&l){const e=t.XpG();t.R7$(7),t.SpI(" ",t.bMT(8,9,"BASE_SERVER")," "),t.R7$(3),t.SpI(" ",e.base_server," "),t.R7$(8),t.SpI(" ",t.bMT(19,11,"SENDING")," "),t.R7$(3),t.SpI(" ",e.base_sending," "),t.R7$(5),t.SpI(" ",t.bMT(27,13,"DATETIME")," "),t.R7$(3),t.SpI(" ",e.base_date," "),t.R7$(6),t.SpI(" ",t.bMT(36,15,"SENT")," "),t.R7$(3),t.SpI(" ",e.base_send," "),t.R7$(3),t.SpI(" ",t.bMT(42,17,"STOP")," ")}}function y(l,u){if(1&l){const e=t.RV6();t.j41(0,"section")(1,"ion-fab",53)(2,"ion-fab-button",54),t.bIt("click",function(){t.eBV(e);const n=t.XpG();return t.Njj(n.reconnectNTRIP())}),t.nrm(3,"ion-icon",55),t.k0s()()()}if(2&l){const e=t.XpG();t.R7$(2),t.Y8G("disabled",e.ntrip_connecting)}}function C(l,u){if(1&l){const e=t.RV6();t.j41(0,"section")(1,"ion-fab",56)(2,"ion-fab-button",57),t.bIt("click",function(){t.eBV(e);const n=t.XpG();return t.Njj(n.type_page())}),t.nrm(3,"ion-icon",58),t.k0s()()()}if(2&l){const e=t.XpG();t.R7$(3),t.Y8G("src",e.icon_workmode)}}var j=0,v=0;let O=(()=>{class l{constructor(e,s,n,g,L){this.dataService=e,this.modalController=s,this.alertController=n,this.translate=g,this.platform=L,this.BaseMode=!1,this.UseNtripCLient=!1,this.solution_status="",this.rover_ant_measure_type="slant",this.baseline_format="",this.receiving=0,this.base_station_id="",this.ublox_lat_sign=0,this.ublox_long_sign=0,this.retry=5,this.error_conn=!1,this.request=!1,this.show_message=!1,this.device_ip="",this.device_serial="",this.model_utm_format="",this.connected=!1,this.started=!1,this.geoid_model="",this.label_alert="Alert",this.label_disconnect="Disonnect",this.label_ok="OK",this.label_cancel="CANCEL",this.label_stopbase="Stop Base?",this.label_connecting_ntrip="Connecting to NTRIP server",this.label_connected_ntrip="Connected to NTRIP server",this.label_ntrip_error="NTRIP Server error",this.label_unauthorized="Unauthorized Access",this.label_ant_height="",this.language="en",this.bluetoothMode=!1,this.model_blue_name="",this.hide_bt_charging=!0,this.hide_battery=!0,this.isPRB2=!1,this.isPRB3=!1,this.time_string="",this.isLowBatt=!1,this.isAndroid=!0,this.icon_workmode="assets/icons/engineer1.svg",this.ntrip_connecting=!1,g.setDefaultLang("en")}ngOnInit(){console.log("Status Page"),this.isAndroid=this.platform.is("android"),this.translationLanguage(),this.dataService.connected?$("#connection4").css("color","lightgreen"):($("#connection4").css("color","grey"),$("#icon_rtcm").css("color","gray"),$("#icon_internet").css("color","gray"),this.solution_color="medium",this.isLowBatt=!1,this.show_message=!1),setInterval(()=>{if(!$.isEmptyObject(this.dataService.info)&&(!$.isEmptyObject(this.dataService.status)&&this.dataService.connected&&(this.dataStatus=this.dataService.status,this.updatePage()),this.dataService.connected)){if(this.connected=this.dataService.connected,this.device_ip=this.dataService.ip,this.device_serial=`[${this.dataService.info.serial_number}]`,$("#connection4").css("color","orange"),this.model_utm_format=this.dataService.utm_format_text,$("#connection4").css("color","lightgreen"),this.dataInfo=this.dataService.info,this.BaseMode=this.dataService.info.base,this.UseNtripCLient="ntripcli"==this.dataService.config.rover.correction_input_type,this.rtk_engine=this.dataInfo.rtk_engine,this.isPRB2=this.dataService.isPRB2,this.isPRB3=this.dataService.isPRB3,this.updateBatt(),this.BaseMode){let e="";this.translate.get("BASE").subscribe(s=>{e=s}),this.solution_status=e,this.solution_color="warning"}(this.isPRB2||this.isPRB3)&&(this.isLowBatt=this.dataInfo.battery<=25),typeof this.dataInfo.message<"u"&&this.translateStartMessage(this.dataInfo.message),this.dataInfo.started?(this.started=!0,this.show_message=!1,(this.isPRB2||this.isPRB3)&&this.isLowBatt&&!this.dataService.info.b_charging&&-1!=this.dataInfo.message.indexOf("Baterry low")&&(this.show_message=!0),this.dataInfo.internet_access?$("#icon_internet").css("color","lightgreen"):$("#icon_internet").css("color","grey")):($("#icon_rtcm").css("color","grey"),v=0,j=0,typeof this.dataInfo.message<"u"&&this.translateStartMessage(this.dataInfo.message),this.started=!1,this.show_message=!0,this.solution_status="",this.solution_color="medium")}this.dataService.connected&&!this.request?(this.connected=this.dataService.connected,this.device_ip=this.dataService.ip,this.device_serial=`[${this.dataService.info.serial_number}]`,$("#connection4").css("color","orange"),this.request=!0,this.error_conn&&(this.error_conn=!1,this.request=!1,$("#connection4").css("color","red"),console.log("Retry",this.retry),this.retry--,0==this.retry&&(this.retry=5,this.dataService.connected=!1,$("#connection4").css("color","grey")))):(this.dataService.connected||($("#connection4").css("color","grey"),$("#icon_rtcm").css("color","gray"),$("#icon_internet").css("color","gray"),this.connected=!1,this.solution_status="",this.solution_color="medium",this.device_ip="",this.device_serial="",$("#bt_percent").removeClass(),$("#bt_percent").css("color","gray"),$("#bt_charging").removeClass()),this.request=!1)},1100)}ionViewDidEnter(){if(this.language!==this.dataService.language&&(this.translationLanguage(),this.language=this.dataService.language),this.bluetoothMode=this.dataService.bluetoothMode,this.bluetoothMode){let e=this.dataService.blueFindDevice(this.dataService.bluetooth_mac);e.length>0&&(this.model_blue_name=e[0].name)}this.isPRB2=this.dataService.isPRB2,this.isPRB3=this.dataService.isPRB3,this.isLowBatt=!1,this.show_message=!1,this.updateBatt(),this.ntrip_connecting=!1}updateBatt(){if((this.isPRB2||this.isPRB3)&&this.dataService.connected)switch(this.hide_battery=!1,this.hide_bt_charging=!this.dataService.info.b_charging,this.hide_bt_charging?$("#bt_charging").removeClass():$("#bt_charging").addClass("fa-solid fa-bolt fa-xs"),this.hide_battery?$("#bt_percent").removeClass():$("#bt_percent").addClass("fa-solid fa-battery-empty fa-sm"),this.dataService.info.battery){case 0:$("#bt_percent").removeClass(),$("#bt_percent").addClass("fa-solid fa-battery-empty fa-sm"),$("#bt_percent").css("color","red"),$("#bt_charging").css("color","orange");break;case 25:$("#bt_percent").removeClass(),$("#bt_percent").addClass("fa-solid fa-battery-quarter fa-sm"),$("#bt_percent").css("color","red"),$("#bt_charging").css("color","orange");break;case 50:$("#bt_percent").removeClass(),$("#bt_percent").addClass("fa-solid fa-battery-half fa-sm"),$("#bt_percent").css("color","orange"),$("#bt_charging").css("color","orange");break;case 75:$("#bt_percent").removeClass(),$("#bt_percent").addClass("fa-solid fa-battery-three-quarters fa-sm"),$("#bt_percent").css("color","lightgreen"),$("#bt_charging").css("color","orange");break;case 100:$("#bt_percent").removeClass(),$("#bt_percent").addClass("fa-solid fa-battery-full fa-sm"),$("#bt_percent").css("color","cyan"),$("#bt_charging").css("color","cyan")}else this.hide_battery=!0,this.hide_bt_charging=!0,$("#bt_percent").removeClass(),$("#bt_charging").removeClass()}updatePage(){if(this.BaseMode)if(typeof this.dataStatus.base<"u"){if(typeof this.dataStatus.base.sending<"u"){let e=+`${this.dataStatus.base.sending}`,s=+(""+this.dataStatus.base.bytes_sent/8);this.base_date=`${this.dataStatus.base.date}-${this.dataStatus.base.time}`,this.base_sending=`${e.toLocaleString()}`,this.base_send=`${this.getReadableBitrateString(s).toLocaleString()}`,this.base_server=`${this.dataStatus.base.status}`,Number(this.dataStatus.base.bytes_sent)!==v?$("#icon_rtcm").css("color","orange"):$("#icon_rtcm").css("color","lightgreen"),v=Number(this.dataStatus.base.bytes_sent)}}else if(typeof this.dataStatus.sending<"u"){if(!this.dataService.isPRB2&&!this.isPRB3||"off"!==this.dataService.config.base.base_type){let e=+`${this.dataStatus.sending}`,s=+`${this.dataStatus.bytes_sent}`;this.base_date=`${this.dataStatus.date}-${this.dataStatus.time}`,this.base_sending=`${e.toLocaleString()}`,this.base_send=`${this.getReadableBitrateString(s).toLocaleString()}`,this.base_server=`${this.dataStatus.status}`,s!==v?$("#icon_rtcm").css("color","orange"):$("#icon_rtcm").css("color","lightgreen"),v=s}}else this.base_date="N/A",this.base_sending="N/A",this.base_send="N/A";else if("rtklib"!=this.rtk_engine&&"ublox"==this.rtk_engine){if($.isEmptyObject(this.dataStatus)||!this.dataService.connected)return;if(typeof this.dataStatus.utc_date_time<"u"){let e=this.dataStatus.utc_date_time.split(" ");this.time_string=e[1]}if("1"==this.dataStatus.status?(this.solution_color="danger",this.solution_status="single"):"2"==this.dataStatus.status?(this.solution_color="primary",this.solution_status="dgnss"):"4"==this.dataStatus.status?(this.solution_color="success",this.solution_status="fix"):"5"==this.dataStatus.status&&(this.solution_color="warning",this.solution_status="float"),"A"==this.dataStatus.active){if(this.ublox_lat=Number(this.dataStatus.latitude),this.ublox_long=Number(this.dataStatus.longitude),"kinematic-survey"==this.dataService.config.rover.mode?(this.base_lat=this.dataStatus.base_latitude,this.base_long=this.dataStatus.base_longitude,this.base_height=this.dataStatus.base_msl,this.base_station_id="0"):(this.base_lat=this.dataService.base_latitude,this.base_long=this.dataService.base_longitude,this.base_height=this.dataService.base_msl,this.base_station_id=this.dataService.base_station_id),0!==this.base_lat&&0!==this.base_long){let s=p.zx7([this.ublox_long,this.ublox_lat]),n=p.zx7([this.base_long,this.base_lat]);this.baseline=p.IoC(s,n,{units:"meters"}),this.baseline=p.LIG(this.baseline,3),this.baseline_format=`${this.baseline}`}if("1"===this.dataService.config.latlon_format?(this.ublox_lat_format=this.ublox_lat.toFixed(8)+"\xb0",this.ublox_long_format=this.ublox_long.toFixed(8)+"\xb0"):(this.ublox_lat_format=this.dataService.ConvertLatitudeToDMSText(this.ublox_lat),this.ublox_long_format=this.dataService.ConvertLongitudeToDMSText(this.ublox_long)),$.isEmptyObject(this.dataService.config))return;this.rover_ant_height=this.dataService.config.rover.antenna_height,this.rover_ant_height=typeof this.rover_ant_height>"u"?0:this.rover_ant_height,this.N_S=this.dataStatus.N_S,this.E_W=this.dataStatus.E_W,this.ublox_lat_sign="N"===this.N_S?this.ublox_lat:-1*this.ublox_lat,this.ublox_long_sign="E"===this.E_W?this.ublox_long:-1*this.ublox_long;let e=E.b(this.ublox_lat_sign,this.ublox_long_sign);if(this.ublox_utm_east=e.easting.toLocaleString(),this.ublox_utm_north=e.northing.toString(),this.ublox_utm_zone=e.zoneNum+e.zoneLetter,-1!==this.dataService.config.utm_format){let s=this.dataService.convertWGS84toUTM(this.ublox_lat_sign,this.ublox_long_sign,this.ublox_utm_zone);0==s.length?(this.ublox_utm_east="N/A",this.ublox_utm_north="N/A"):(this.ublox_utm_east=s[0].toLocaleString(),this.ublox_utm_north=s[1].toLocaleString())}this.ublox_h_elipsoid=this.dataStatus.ellipsoid,this.ublox_h_geoid=this.dataStatus.geoid_sep,this.ublox_h_msl=Number((this.ublox_h_elipsoid-this.ublox_h_geoid-this.rover_ant_height).toFixed(3)),this.ellipsoid_unit=this.dataStatus.ellipsoid_unit,this.geoid_unit=this.dataStatus.geoid_unit,this.msl_unit=this.dataStatus.msl_unit,this.ublox_pdop=this.dataStatus.PDOP,this.ublox_hdop=this.dataStatus.HDOP,this.ublox_vdop=this.dataStatus.VDOP,this.sat_valid=this.dataStatus.sv_used,this.sog_knots=this.dataStatus.SOG_knots,this.sog_knots_unit=this.dataStatus.SOG_knots_unit,this.sog_kmh=this.dataStatus.SOG_kmh,this.sog_kmh_unit=this.dataStatus.SOG_kmh_unit,this.geoid_model=this.dataService.config.geoid_model.toUpperCase()}else this.ublox_lat="N/A",this.ublox_long="N/A",this.ublox_lat_format="N/A",this.ublox_long_format="N/A",this.N_S="",this.E_W="",this.ublox_h_elipsoid="N/A",this.ublox_h_geoid="N/A",this.ublox_h_msl="N/A",this.ellipsoid_unit="",this.geoid_unit="",this.msl_unit="",this.ublox_pdop="N/A",this.ublox_hdop="N/A",this.ublox_vdop="N/A",this.sat_valid="N/A",this.sog_knots="N/A",this.sog_knots_unit="",this.sog_kmh="N/A",this.sog_kmh_unit="",this.ublox_utm_east="N/A",this.ublox_utm_north="N/A",this.ublox_utm_zone="N/A";!$.isEmptyObject(this.dataStatus.ntrip_client)&&typeof this.dataStatus.ntrip_client.bytes_received<"u"?(-1!==this.dataStatus.ntrip_client.state.indexOf("[CC")?Number(this.dataStatus.ntrip_client.bytes_received)!==j?$("#icon_rtcm").css("color","orange"):$("#icon_rtcm").css("color","lightgreen"):$("#icon_rtcm").css("color","RED"),j=Number(this.dataStatus.ntrip_client.bytes_received),this.receiving=Number(this.dataStatus.ntrip_client.receiving)):(this.receiving!=this.dataService.ntrip_client_receiving&&(this.receiving=this.dataService.ntrip_client_receiving),0==this.dataService.ntrip_client_receiving&&(this.baseline_format="No Base"),0!=this.receiving?$("#icon_rtcm").css("color","orange"):$("#icon_rtcm").css("color","RED"))}}getReadableBitrateString(e){var s=-1;do{e/=1024,s++}while(e>1024);return Math.max(e,.1).toFixed(2)+[" KBytes"," MBytes"," GBytes"," TBytes"][s]}correction_status(){if(console.log(this.dataService.connected,this.dataStatus,this.started,this.BaseMode),!this.dataService.connected||typeof this.dataStatus>"u"||!this.started||this.BaseMode)return;let e=this.dataStatus.ntrip_client,s="...";typeof e<"u"&&typeof e.state<"u"&&("[CCC--]"===e.state?s=`${this.label_connected_ntrip}`:"[WCW--]"===e.state?s=this.label_connecting_ntrip:-1!==e.status.indexOf("address error")?s=this.label_ntrip_error:-1!==e.status.indexOf("HTTP/1.1 401")&&(s=this.label_unauthorized),this.alertDialog(s))}alertDialog(e){var s=this;return(0,b.A)(function*(){yield(yield s.alertController.create({header:s.label_alert,message:e,buttons:[{text:s.label_disconnect,handler:()=>{s.dataService.bluetoothMode?s.reconnectNTRIP():s.dataService.Stop()}},{text:s.label_ok,handler:()=>{}}]})).present()})()}stopDialog(){var e=this;return(0,b.A)(function*(){yield(yield e.alertController.create({header:e.label_alert,message:e.label_stopbase,buttons:[{text:e.label_cancel,handler:()=>{}},{text:e.label_ok,handler:()=>{e.show_message=!1,e.saveAndStopBase()}}]})).present()})()}saveAndStopBase(){var e=this;return(0,b.A)(function*(){yield e.dataService.NetNTRIPServerClose().then(s=>{},s=>{}),e.dataService.config.use_as_base=!1,e.dataService.config.rover.mode="single",e.dataService.config.rover.correction_input_type="ntripcli",e.dataService.config.rover.ntrip_client_format="rtcm3",e.dataService.bluetoothMode?e.dataService.blueRequesSaveRoverConfig():e.dataService.saveRoverConfig()})()}translationLanguage(){this.translate.get("DISCONNECT").subscribe(e=>{this.label_disconnect=e}),this.translate.get("ALERT").subscribe(e=>{this.label_alert=e}),this.translate.get("OK").subscribe(e=>{this.label_ok=e}),this.translate.get("CANCEL").subscribe(e=>{this.label_cancel=e}),this.translate.get("STOP_BASE").subscribe(e=>{this.label_stopbase=e}),this.translate.get("CONNECTING_NTRIP").subscribe(e=>{this.label_connecting_ntrip=e}),this.translate.get("CONNECTED_NTRIP").subscribe(e=>{this.label_connected_ntrip=e}),this.translate.get("NTRIP_ERROR").subscribe(e=>{this.label_ntrip_error=e}),this.translate.get("UNAUTHORIZED").subscribe(e=>{this.label_unauthorized=e})}translateStartMessage(e){-1!==e.indexOf("Wait for start")?this.translate.get("WAIT_START").subscribe(s=>{this.message=s}):-1!==e.indexOf("Starting")?this.translate.get("STARTING").subscribe(s=>{this.message=s}):-1!==e.indexOf("NO SAT")?this.translate.get("MSG_NO_ANT").subscribe(s=>{this.message=s}):-1!==e.indexOf("No USB0")?this.translate.get("MSG_BASE_NO_USB").subscribe(s=>{this.message=s}):-1!==e.indexOf("RTK Base Station have been started!")?this.translate.get("MSG_BASE_STARTED").subscribe(s=>{this.message=s}):-1!==e.indexOf("USB OTG device")?this.translate.get("MSG_ROVER_NO_USB").subscribe(s=>{this.message=s}):-1!==e.indexOf("Rover have been started!")?this.translate.get("MSG_ROVER_STARTED").subscribe(s=>{this.message=s}):-1!==e.indexOf("Wait for Satellite signal!")?this.translate.get("MSG_WAIT_SIGNAL").subscribe(s=>{this.message=s}):-1!==e.indexOf("Baterry low")?this.translate.get("MSG_BATTERY_LOW").subscribe(s=>{this.message=s}):this.message=e,this.translate.get("ANT_HEIGHT").subscribe(s=>{this.label_ant_height=s})}reconnectNTRIP(){this.base_station_id="",this.dataService.ntrip_client_receiving=0,$("#icon_rtcm").css("color","RED"),this.dataService.NetNTRIPReconnect(),this.presentAlertLoading();let e=setInterval(()=>{this.ntrip_connecting=this.dataService.isNTRIPConnecting(),this.dataService.isNTRIPConnecting()||(this.ntrip_connecting=!1,clearInterval(e),this.alertLoad.dismiss())},1e4)}set_ant_height(){var e=this;return(0,b.A)(function*(){const s=yield e.modalController.create({component:k.U,cssClass:"modal-css-70",componentProps:{ant_height:e.rover_ant_height,measure_type:e.rover_ant_measure_type}});return s.onDidDismiss().then(n=>{if(null!==n){let g=n.role;if(typeof g>"u"||"cancel"===n.data||"backdrop"===g)return;e.rover_ant_measure_type=n.data,e.rover_ant_height=Number(g),e.dataService.config.rover.antenna_height=e.rover_ant_height,e.dataService.config.rover.antenna_measure_type=e.rover_ant_measure_type}}),yield s.present()})()}type_page(){var e=this;return(0,b.A)(function*(){const s=yield e.modalController.create({component:F.T,cssClass:"modal-css-40"});return s.onDidDismiss().then(n=>{}),yield s.present()})()}presentAlertLoading(){var e=this;return(0,b.A)(function*(){e.alertLoad=yield e.alertController.create({message:'<ion-spinner name="circular" color="secondary"></ion-spinner>',mode:"ios"}),yield e.alertLoad.present()})()}static{this.\u0275fac=function(s){return new(s||l)(t.rXU(T.f),t.rXU(o.W3),t.rXU(o.hG),t.rXU(h.c$),t.rXU(M.OD))}}static{this.\u0275cmp=t.VBU({type:l,selectors:[["app-tab4"]],decls:22,vars:13,consts:[["color","darkblue"],[1,"mx-auto"],[3,"color"],[4,"ngIf"],["id","bt_charging","slot","end",2,"margin-right","3px","color","orange"],["id","bt_percent","slot","end",2,"margin-right","3px","color","gray"],["id","icon_internet","name","cloud-done","slot","end",1,"me-1"],["id","icon_rtcm","name","radio-outline","slot","end",1,"me-1",3,"click"],["id","connection4","name","radio-button-on","slot","end",1,"me-3"],[1,"mb-1","mx-auto","white"],["size","12"],["color","primary",1,"text-left"],[1,"container-sm"],[1,"line_header"],[1,"head_container"],["slot","start",1,"font-header","lightblue","fw-bold","ms-2","mt-2","font-size-16","text-center"],[1,"m-0","p-0"],["lines","none",1,"my-0",2,"height","35px !important"],[1,"lightblue","fw-bold","font-size-16"],[1,"mb-1"],[1,"row","row-cols-3","gx-0","d-flex","align-items-center"],[1,"col-6"],["lines","none"],[1,"fw-bold","font-size_9"],[1,"text-wrap","fw-bold","lightseagreen","font-size-15"],[1,"text-wrap","font-size_9","fw-bold"],[1,"text-wrap","fw-bold","lightbrown"],[1,"text-wrap","fw-bold","lightcoral","font-size-15"],["id","ant_bttn",3,"click"],[1,"col-12"],["lines","none",1,"my-0","y-0",2,"height","35px !important"],["slot","start",1,"my-0","py-0"],[1,"lightblue","fw-bold","text-nowrap","font-size-16"],["slot","end"],[1,"lightblue","text-nowrap","fw-bold","text-center","font-size-16","d-inline"],[1,"fw-bold","font-size_9","text-center"],[1,"text-wrap","fw-bold","text-center","lightseagreen","font-size-15"],[1,"col-12","m-0","p-0"],[1,"col"],[1,"text-wrap","font-size_9","fw-bold","text-center"],[1,"text-wrap","fw-bold","text-center","lightbrown"],[1,"col-4"],[1,"line_under"],[1,"font-header","fw-bold","ms-2","mt-2"],[1,"lightblue","text-wrap","fw-bold","text-center","font-size-16","d-inline"],[1,"lightblue","fw-bold","font-size-15","text-center"],[1,"text-wrap","fw-bold","lightbrown","text-center"],["lines","none",1,"my-0",2,"height","auto !important"],["slot","start",1,"lightblue","fw-bold","font-size-16"],["slot","start",1,"lightseagreen","fw-bold","font-size-14"],[1,"row","row-cols-3","gx-0","d-flex","align-items-top"],[1,"m-auto","d-flex","justify-content-center",2,"height","61px !important"],["size","small","color","danger",1,"align-self-center",3,"click"],["slot","fixed","vertical","bottom","horizontal","end"],["size","small",3,"disabled","click"],["name","repeat-outline"],["vertical","bottom","horizontal","start","slot","fixed"],["size","small",3,"click"],[3,"src"]],template:function(s,n){1&s&&(t.j41(0,"ion-header")(1,"ion-toolbar",0)(2,"ion-title",1),t.EFF(3),t.nI1(4,"translate"),t.j41(5,"ion-label",2),t.EFF(6),t.k0s(),t.nrm(7,"br"),t.DNE(8,I,3,2,"section",3),t.DNE(9,a,3,1,"section",3),t.k0s(),t.nrm(10,"i",4)(11,"i",5)(12,"ion-icon",6),t.j41(13,"ion-icon",7),t.bIt("click",function(){return n.correction_status()}),t.k0s(),t.nrm(14,"ion-icon",8),t.k0s()(),t.j41(15,"ion-content"),t.DNE(16,c,6,1,"ion-card",3),t.DNE(17,r,164,63,"section",3),t.DNE(18,d,289,93,"section",3),t.DNE(19,f,44,19,"section",3),t.DNE(20,y,4,1,"section",3),t.DNE(21,C,4,1,"section",3),t.k0s()),2&s&&(t.R7$(3),t.SpI(" ",t.bMT(4,11,"STATUS")," : "),t.R7$(2),t.Y8G("color",n.solution_color),t.R7$(1),t.JRh(n.solution_status),t.R7$(2),t.Y8G("ngIf",!1===n.bluetoothMode),t.R7$(1),t.Y8G("ngIf",!0===n.bluetoothMode),t.R7$(7),t.Y8G("ngIf",n.show_message&&n.connected),t.R7$(1),t.Y8G("ngIf","ublox"===n.rtk_engine&&!n.BaseMode&&n.connected&&n.started),t.R7$(1),t.Y8G("ngIf","rtklib"===n.rtk_engine&&!n.BaseMode&&n.connected&&n.started),t.R7$(1),t.Y8G("ngIf",n.BaseMode&&n.connected&&n.started),t.R7$(1),t.Y8G("ngIf","ublox"===n.rtk_engine&&!n.BaseMode&&n.UseNtripCLient&&n.connected&&n.started&&n.isAndroid||"rtklib"===n.rtk_engine&&!n.BaseMode&&n.connected&&n.started),t.R7$(1),t.Y8G("ngIf",n.isAndroid&&n.connected))},dependencies:[m.bT,o.Jm,o.b_,o.I9,o.HW,o.hU,o.W9,o.Q8,o.YW,o.eU,o.iq,o.uz,o.he,o.ln,o.BC,o.ai,h.D9],styles:[".white[_ngcontent-%COMP%]{color:#add8e6}.title[_ngcontent-%COMP%]{font-size:1rem}.font-size_8[_ngcontent-%COMP%]{font-size:8px!important}.font-size_9[_ngcontent-%COMP%]{font-size:9px!important}.font-size_10[_ngcontent-%COMP%]{font-size:10px!important}.font-size_11[_ngcontent-%COMP%]{font-size:11px!important}.font-size-12[_ngcontent-%COMP%]{font-size:12px!important}.font-size-13[_ngcontent-%COMP%]{font-size:13px!important}.font-size-14[_ngcontent-%COMP%]{font-size:14px!important}.font-size-15[_ngcontent-%COMP%]{font-size:15px!important}.font-size-16[_ngcontent-%COMP%]{font-size:16px!important}.font-header[_ngcontent-%COMP%]{font-size:16px}.gray[_ngcontent-%COMP%]{color:gray}.lightblue[_ngcontent-%COMP%]{color:#add8e6}.lightcoral[_ngcontent-%COMP%]{color:#f08080}.lightseagreen[_ngcontent-%COMP%]{color:#20b2aa}.lightbrown[_ngcontent-%COMP%]{color:#f2d2bd}.border-right[_ngcontent-%COMP%]{border-right:1px solid #ccc}.border-center[_ngcontent-%COMP%]{border-left:1px solid #ccc;border-right:1px solid #ccc}.border_bottom[_ngcontent-%COMP%]{border-bottom:1px solid #ccc}.border_top[_ngcontent-%COMP%]{border-top:1px solid #ccc}.head_container[_ngcontent-%COMP%]{border:solid .5px rgba(0,0,0,.5)}.line_header[_ngcontent-%COMP%]{margin-top:5px;margin-bottom:0;border-top:5px solid;border-image:linear-gradient(to right,darkblue,darkorchid) 1;height:0px;opacity:1}.line_under[_ngcontent-%COMP%]{margin-top:0;margin-bottom:5px;border-bottom:5px solid;border-image:linear-gradient(to right,darkorchid,darkblue) 1;height:0px;opacity:1}.text-nowrap[_ngcontent-%COMP%]{white-space:nowrap!important}#bt_percent[_ngcontent-%COMP%]{transform:translateY(.04em)}ion-fab-button[_ngcontent-%COMP%]::part(native){background-color:#d31414;border-radius:50px;box-shadow:0 1px 2px #0000004d,0 1px 3px 1px #00000026;color:#fff}ion-fab-button[_ngcontent-%COMP%]::part(native):hover:after{background-color:#930e0e}ion-fab-button[_ngcontent-%COMP%]::part(native):active:after{background-color:#f11717}"]})}}return l})();var A=_(1626),N=_(5635);function x(l){return new N.s(l,"./assets/i18n/",".json")}const B=[{path:"",component:O}];let D=(()=>{class l{static{this.\u0275fac=function(s){return new(s||l)}}static{this.\u0275mod=t.$C({type:l})}static{this.\u0275inj=t.G2t({imports:[m.MD,R.YN,o.bv,i.iI.forChild(B),h.h.forChild({loader:{provide:h.Wr,useFactory:x,deps:[A.Qq]}})]})}}return l})()}}]);