"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[555],{555:(N,g,r)=>{r.r(g),r.d(g,{HttpLoaderFactory:()=>m,SettingAboutPageModule:()=>k});var b=r(177),h=r(9417),p=r(1470),i=r(8974),c=r(467);const _=(0,r(5083).F3)("Device",{web:()=>r.e(8622).then(r.bind(r,8622)).then(n=>new n.DeviceWeb)});var S=r(8941),e=r(6996),E=r(9884),d=r(9664);function R(n,u){if(1&n){const t=e.RV6();e.j41(0,"ion-button",13),e.bIt("click",function(){e.eBV(t);const s=e.XpG();return e.Njj(s.shutdown())}),e.EFF(1),e.nI1(2,"translate"),e.nrm(3,"ion-icon",14),e.k0s()}2&n&&(e.R7$(1),e.SpI(" ",e.bMT(2,1,"SHUTDOWN")," "))}function F(n,u){if(1&n&&(e.j41(0,"section")(1,"p")(2,"strong"),e.EFF(3),e.nI1(4,"translate"),e.k0s(),e.EFF(5),e.k0s()()),2&n){const t=e.XpG(2);e.R7$(3),e.JRh(e.bMT(4,2,"DEVICE_TEMPERATURE")),e.R7$(2),e.SpI(" : ",t.device_temperature,"\xb0C")}}function T(n,u){if(1&n&&(e.j41(0,"section")(1,"p")(2,"strong"),e.EFF(3),e.nI1(4,"translate"),e.k0s(),e.EFF(5),e.k0s(),e.j41(6,"p")(7,"strong"),e.EFF(8),e.nI1(9,"translate"),e.k0s(),e.EFF(10),e.k0s()()),2&n){const t=e.XpG(2);e.R7$(3),e.JRh(e.bMT(4,4,"ANTENNA_MODEL")),e.R7$(2),e.SpI(" : ",t.ant_model,""),e.R7$(3),e.JRh(e.bMT(9,6,"ANTENNA_SN")),e.R7$(2),e.SpI(" : ",t.ant_serial,"")}}function I(n,u){if(1&n&&(e.j41(0,"section")(1,"ion-item")(2,"ion-label")(3,"p")(4,"strong"),e.EFF(5),e.nI1(6,"translate"),e.k0s(),e.EFF(7),e.k0s(),e.DNE(8,F,6,4,"section",7),e.j41(9,"p")(10,"strong"),e.EFF(11,"Wi-Fi IP"),e.k0s(),e.EFF(12),e.k0s(),e.j41(13,"p")(14,"strong"),e.EFF(15),e.nI1(16,"translate"),e.k0s(),e.EFF(17),e.k0s(),e.j41(18,"p")(19,"strong"),e.EFF(20),e.nI1(21,"translate"),e.k0s(),e.EFF(22),e.k0s(),e.DNE(23,T,11,8,"section",7),e.j41(24,"p")(25,"strong"),e.EFF(26),e.nI1(27,"translate"),e.k0s(),e.EFF(28),e.k0s()()()()),2&n){const t=e.XpG();e.R7$(5),e.JRh(e.bMT(6,11,"TEMPERATURE")),e.R7$(2),e.SpI(" : ",t.temperature,"\xb0C"),e.R7$(1),e.Y8G("ngIf",t.isPRB2||t.isPRB3),e.R7$(4),e.SpI(" : ",t.wifi_ip,""),e.R7$(3),e.JRh(e.bMT(16,13,"RECEIVER_MODEL")),e.R7$(2),e.SpI(" : ",t.receiver_model,""),e.R7$(3),e.JRh(e.bMT(21,15,"RECEIVER_SN")),e.R7$(2),e.SpI(" : ",t.serial_number,""),e.R7$(1),e.Y8G("ngIf",!t.isPRB2&&!t.isPRB3),e.R7$(3),e.JRh(e.bMT(27,17,"FIRMWARE_VERSION")),e.R7$(2),e.SpI(" : ",t.firmware_version,"")}}let A=(()=>{class n{constructor(t,a,s){this.dataService=t,this.alertController=a,this.translate=s,this.app_version="",this.app_build="",this.receiver_model="",this.serial_number="",this.ant_model="",this.ant_serial="",this.firmware_version="",this.firmware_version_available="",this.firmware_message="",this.firmware_updating="",this.tilt_message="",this.connected=!1,this.model_language="en",this.label_alert="Alert",this.label_disconnect="Disonnect",this.label_ok="OK",this.label_cancel="CANCEL",this.label_language="LANGUAGE",this.label_shutdown="SHUTDOWN",this.msg_update="Please update",this.msg_latest="Latest",this.temperature=25,this.device_temperature=0,this.hasTilt=!1,this.isPRB2=!1,this.isPRB3=!1,this.wifi_ip="",s.setDefaultLang("en")}ngOnInit(){var t=this;return(0,c.A)(function*(){const a=yield _.getInfo();console.log(a);const s=yield S.q.getInfo();t.connected=t.dataService.connected,t.model_language=t.dataService.language,console.log("About Tab"),t.translationLanguage(),$("#firmware_bttn").prop("disabled",!0);try{t.app_version=s.version,t.app_build=s.build}catch{}t.dataService.connected&&(t.temperature=t.dataService.info.cpu_temp,t.device_temperature=t.dataService.info.temp,t.wifi_ip=t.dataService.info.ip,t.serial_number=t.dataService.info.serial_number,"variscite"==t.dataService.info.platform&&(t.ant_model=t.dataService.info.ant_model,t.ant_serial=t.dataService.info.ant_sn),t.firmware_version=t.dataService.info.firmware_version,t.dataService.FirmwareVersionAvailable().then(l=>{$.isEmptyObject(l)||typeof l.version<"u"&&(t.firmware_version_available=l.version,t.firmware_version!==t.firmware_version_available?(t.dataService.wifi_connected&&$("#firmware_bttn").prop("disabled",!1),t.firmware_message=t.msg_update):($("#firmware_bttn").prop("disabled",!0),t.firmware_message=t.msg_latest))}),t.dataService.isPRB3?(t.hasTilt=t.dataService.info.tilt_sensor,t.isPRB3=!0,t.receiver_model="PRB3"):t.dataService.isPRB2?(t.hasTilt=t.dataService.info.tilt_sensor,t.isPRB2=!0,t.receiver_model="PRB2"):"variscite"==t.dataService.info.platform&&(t.receiver_model="PRBL2MOB"));let o=setInterval(()=>{if(!t.dataService.connected)return t.connected=t.dataService.connected,void clearTimeout(o);t.temperature=t.dataService.info.cpu_temp},5e3)})()}update_firmware(){this.dataService.connected&&(console.log("Firmware Update!"),this.dataService.FirmwareUpdate().then(t=>{$.isEmptyObject(t)||typeof t.SERVICE<"u"&&(this.alertDialog(this.firmware_updating),this.dataService.connected=!0)}))}calibrate_tilt(){this.dataService.connected&&(console.log("Calibrate tilt sensor!"),this.alertCalibrateDialog(this.tilt_message))}alertCalibrateDialog(t){var a=this;return(0,c.A)(function*(){yield(yield a.alertController.create({header:a.label_alert,message:t,buttons:[{text:a.label_cancel,handler:()=>{}},{text:a.label_ok,handler:()=>{a.dataService.connected&&a.dataService.bluetoothMode?a.dataService.blueRequestaCalibrateTilt():a.dataService.CalibrateTilt().then(o=>{console.log(o)})}}]})).present()})()}alertDialog(t){var a=this;return(0,c.A)(function*(){yield(yield a.alertController.create({header:a.label_alert,message:t,buttons:[{text:a.label_ok,handler:()=>{}}]})).present()})()}alertShutdown(t){var a=this;return(0,c.A)(function*(){yield(yield a.alertController.create({header:a.label_alert,message:t,buttons:[{text:a.label_cancel,handler:()=>{}},{text:a.label_ok,handler:()=>{a.dataService.wifi_connected?a.dataService.shutdown().then(()=>{},o=>{}):a.dataService.blue_conneted&&a.dataService.blueRequestaShutdown()}}]})).present()})()}shutdown(){this.alertShutdown(this.label_shutdown)}languageChange(t){this.translate.use(this.model_language),this.dataService.language=this.model_language,this.dataService.updateDefaultLanguage(this.model_language)}translationLanguage(){this.translate.get("ALERT").subscribe(t=>{this.label_alert=t}),this.translate.get("OK").subscribe(t=>{this.label_ok=t}),this.translate.get("CANCEL").subscribe(t=>{this.label_cancel=t}),this.translate.get("AL_SHUTDOWN").subscribe(t=>{this.label_shutdown=t}),this.translate.get("LANGUAGE").subscribe(t=>{this.label_language=t}),this.translate.get("MSG_FIRMWARE_UPDATING").subscribe(t=>{this.firmware_updating=t}),this.translate.get("MSG_TILT_CALIBRATE").subscribe(t=>{this.tilt_message=t}),this.translate.get("MSG_PLEASE_UPDATE").subscribe(t=>{this.msg_update=t}),this.translate.get("MSG_LATEST").subscribe(t=>{this.msg_latest=t})}static{this.\u0275fac=function(a){return new(a||n)(e.rXU(E.f),e.rXU(i.hG),e.rXU(d.c$))}}static{this.\u0275cmp=e.VBU({type:n,selectors:[["app-setting-about"]],decls:52,vars:32,consts:[["color","darkblue"],["slot","start"],["defaultHref","/tabs/tab5"],["size","7"],[1,"pt_tt"],["size","5"],["color","danger","size","small",3,"click",4,"ngIf"],[4,"ngIf"],["lines","none"],["href","mailto:wiangsuk@gmail.com"],["label","","slot","end",3,"ngModel","okText","cancelText","ngModelChange","ionChange"],["value","en"],["value","th"],["color","danger","size","small",3,"click"],["name","power-outline",1,"ml-2"]],template:function(a,s){1&a&&(e.j41(0,"ion-header")(1,"ion-toolbar",0)(2,"ion-buttons",1),e.nrm(3,"ion-back-button",2),e.k0s(),e.j41(4,"ion-title"),e.EFF(5),e.nI1(6,"translate"),e.k0s()()(),e.j41(7,"ion-content")(8,"ion-card")(9,"ion-card-header")(10,"ion-row")(11,"ion-col",3)(12,"ion-card-title",4),e.EFF(13),e.nI1(14,"translate"),e.k0s()(),e.j41(15,"ion-col",5),e.DNE(16,R,4,3,"ion-button",6),e.k0s()()(),e.j41(17,"ion-card-content"),e.EFF(18),e.nI1(19,"translate"),e.DNE(20,I,29,19,"section",7),e.j41(21,"ion-item",8)(22,"ion-label")(23,"p")(24,"strong"),e.EFF(25),e.nI1(26,"translate"),e.k0s(),e.EFF(27," : "),e.j41(28,"span")(29,"a",9),e.EFF(30,"wiangsuk@gmail.com"),e.k0s()()(),e.j41(31,"p")(32,"strong"),e.EFF(33),e.nI1(34,"translate"),e.k0s(),e.EFF(35),e.j41(36,"strong"),e.EFF(37),e.nI1(38,"translate"),e.k0s(),e.EFF(39),e.k0s()()(),e.j41(40,"ion-list")(41,"ion-item")(42,"ion-label"),e.EFF(43),e.nI1(44,"translate"),e.k0s(),e.j41(45,"ion-select",10),e.bIt("ngModelChange",function(l){return s.model_language=l})("ionChange",function(l){return s.languageChange(l)}),e.nI1(46,"translate"),e.nI1(47,"translate"),e.j41(48,"ion-select-option",11),e.EFF(49,"English"),e.k0s(),e.j41(50,"ion-select-option",12),e.EFF(51,"\u0e44\u0e17\u0e22"),e.k0s()()()()()()()),2&a&&(e.R7$(5),e.JRh(e.bMT(6,14,"ABOUT")),e.R7$(8),e.JRh(e.bMT(14,16,"PANTAI")),e.R7$(3),e.Y8G("ngIf",s.connected),e.R7$(2),e.SpI("",e.bMT(19,18,"PANTAI_DESC")," "),e.R7$(2),e.Y8G("ngIf",s.connected),e.R7$(5),e.JRh(e.bMT(26,20,"CONTACT")),e.R7$(8),e.JRh(e.bMT(34,22,"APP_VERSION")),e.R7$(2),e.SpI(" : ",s.app_version," "),e.R7$(2),e.JRh(e.bMT(38,24,"APP_BUILD")),e.R7$(2),e.SpI(" : ",s.app_build,""),e.R7$(4),e.JRh(e.bMT(44,26,"LANGUAGE")),e.R7$(2),e.FS9("okText",e.bMT(46,28,"OK")),e.FS9("cancelText",e.bMT(47,30,"CANCEL")),e.Y8G("ngModel",s.model_language))},dependencies:[b.bT,h.BC,h.vS,i.Jm,i.QW,i.b_,i.I9,i.ME,i.tN,i.hU,i.W9,i.eU,i.iq,i.uz,i.he,i.nf,i.ln,i.Nm,i.Ip,i.BC,i.ai,i.Je,i.el,d.D9],styles:[".pt_tt[_ngcontent-%COMP%]{transform:translateY(7px)}"]})}}return n})();var C=r(1626),M=r(5635);function m(n){return new M.s(n,"./assets/i18n/",".json")}const P=[{path:"",component:A}];let k=(()=>{class n{static{this.\u0275fac=function(a){return new(a||n)}}static{this.\u0275mod=e.$C({type:n})}static{this.\u0275inj=e.G2t({imports:[b.MD,h.YN,i.bv,p.iI.forChild(P),d.h.forChild({loader:{provide:d.Wr,useFactory:m,deps:[C.Qq]}})]})}}return n})()}}]);