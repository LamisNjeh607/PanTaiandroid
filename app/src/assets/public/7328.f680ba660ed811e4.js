(self.webpackChunkapp=self.webpackChunkapp||[]).push([[7328],{5666:(It,_t,F)=>{"use strict";var V=F(8468);function nt(dt){var ft=[1/0,1/0,-1/0,-1/0];return V.coordEach(dt,function(Z){ft[0]>Z[0]&&(ft[0]=Z[0]),ft[1]>Z[1]&&(ft[1]=Z[1]),ft[2]<Z[0]&&(ft[2]=Z[0]),ft[3]<Z[1]&&(ft[3]=Z[1])}),ft}nt.default=nt,_t.A=nt},6440:(It,_t)=>{"use strict";function F(vt,mt,X){void 0===X&&(X={});var he={type:"Feature"};return(0===X.id||X.id)&&(he.id=X.id),X.bbox&&(he.bbox=X.bbox),he.properties=mt||{},he.geometry=vt,he}function V(vt,mt,X){if(void 0===X&&(X={}),!vt)throw new Error("coordinates is required");if(!Array.isArray(vt))throw new Error("coordinates must be an Array");if(vt.length<2)throw new Error("coordinates must be at least 2 numbers long");if(!ut(vt[0])||!ut(vt[1]))throw new Error("coordinates must contain numbers");return F({type:"Point",coordinates:vt},mt,X)}function dt(vt,mt,X){void 0===X&&(X={});for(var he=0,ee=vt;he<ee.length;he++){var H=ee[he];if(H.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");for(var wt=0;wt<H[H.length-1].length;wt++)if(H[H.length-1][wt]!==H[0][wt])throw new Error("First and last Position are not equivalent.")}return F({type:"Polygon",coordinates:vt},mt,X)}function Z(vt,mt,X){if(void 0===X&&(X={}),vt.length<2)throw new Error("coordinates must be an array of two or more positions");return F({type:"LineString",coordinates:vt},mt,X)}function yt(vt,mt){void 0===mt&&(mt={});var X={type:"FeatureCollection"};return mt.id&&(X.id=mt.id),mt.bbox&&(X.bbox=mt.bbox),X.features=vt,X}function qt(vt,mt,X){return void 0===X&&(X={}),F({type:"MultiLineString",coordinates:vt},mt,X)}function te(vt,mt,X){return void 0===X&&(X={}),F({type:"MultiPoint",coordinates:vt},mt,X)}function kt(vt,mt,X){return void 0===X&&(X={}),F({type:"MultiPolygon",coordinates:vt},mt,X)}function re(vt,mt){void 0===mt&&(mt="kilometers");var X=_t.factors[mt];if(!X)throw new Error(mt+" units is invalid");return vt*X}function ct(vt,mt){void 0===mt&&(mt="kilometers");var X=_t.factors[mt];if(!X)throw new Error(mt+" units is invalid");return vt/X}function Q(vt){return vt%(2*Math.PI)*180/Math.PI}function ut(vt){return!isNaN(vt)&&null!==vt&&!Array.isArray(vt)}Object.defineProperty(_t,"__esModule",{value:!0}),_t.earthRadius=6371008.8,_t.factors={centimeters:100*_t.earthRadius,centimetres:100*_t.earthRadius,degrees:_t.earthRadius/111325,feet:3.28084*_t.earthRadius,inches:39.37*_t.earthRadius,kilometers:_t.earthRadius/1e3,kilometres:_t.earthRadius/1e3,meters:_t.earthRadius,metres:_t.earthRadius,miles:_t.earthRadius/1609.344,millimeters:1e3*_t.earthRadius,millimetres:1e3*_t.earthRadius,nauticalmiles:_t.earthRadius/1852,radians:1,yards:1.0936*_t.earthRadius},_t.unitsFactors={centimeters:100,centimetres:100,degrees:1/111325,feet:3.28084,inches:39.37,kilometers:.001,kilometres:.001,meters:1,metres:1,miles:1/1609.344,millimeters:1e3,millimetres:1e3,nauticalmiles:1/1852,radians:1/_t.earthRadius,yards:1.0936133},_t.areaFactors={acres:247105e-9,centimeters:1e4,centimetres:1e4,feet:10.763910417,hectares:1e-4,inches:1550.003100006,kilometers:1e-6,kilometres:1e-6,meters:1,metres:1,miles:386e-9,millimeters:1e6,millimetres:1e6,yards:1.195990046},_t.feature=F,_t.geometry=function G(vt,mt,X){switch(void 0===X&&(X={}),vt){case"Point":return V(mt).geometry;case"LineString":return Z(mt).geometry;case"Polygon":return dt(mt).geometry;case"MultiPoint":return te(mt).geometry;case"MultiLineString":return qt(mt).geometry;case"MultiPolygon":return kt(mt).geometry;default:throw new Error(vt+" is invalid")}},_t.point=V,_t.points=function nt(vt,mt,X){return void 0===X&&(X={}),yt(vt.map(function(he){return V(he,mt)}),X)},_t.polygon=dt,_t.polygons=function ft(vt,mt,X){return void 0===X&&(X={}),yt(vt.map(function(he){return dt(he,mt)}),X)},_t.lineString=Z,_t.lineStrings=function at(vt,mt,X){return void 0===X&&(X={}),yt(vt.map(function(he){return Z(he,mt)}),X)},_t.featureCollection=yt,_t.multiLineString=qt,_t.multiPoint=te,_t.multiPolygon=kt,_t.geometryCollection=function Bt(vt,mt,X){return void 0===X&&(X={}),F({type:"GeometryCollection",geometries:vt},mt,X)},_t.round=function Ot(vt,mt){if(void 0===mt&&(mt=0),mt&&!(mt>=0))throw new Error("precision must be a positive number");var X=Math.pow(10,mt||0);return Math.round(vt*X)/X},_t.radiansToLength=re,_t.lengthToRadians=ct,_t.lengthToDegrees=function Et(vt,mt){return Q(ct(vt,mt))},_t.bearingToAzimuth=function W(vt){var mt=vt%360;return mt<0&&(mt+=360),mt},_t.radiansToDegrees=Q,_t.degreesToRadians=function U(vt){return vt%360*Math.PI/180},_t.convertLength=function ht(vt,mt,X){if(void 0===mt&&(mt="kilometers"),void 0===X&&(X="kilometers"),!(vt>=0))throw new Error("length must be a positive number");return re(ct(vt,mt),X)},_t.convertArea=function rt(vt,mt,X){if(void 0===mt&&(mt="meters"),void 0===X&&(X="kilometers"),!(vt>=0))throw new Error("area must be a positive number");var he=_t.areaFactors[mt];if(!he)throw new Error("invalid original units");var ee=_t.areaFactors[X];if(!ee)throw new Error("invalid final units");return vt/he*ee},_t.isNumber=ut,_t.isObject=function pt(vt){return!!vt&&vt.constructor===Object},_t.validateBBox=function R(vt){if(!vt)throw new Error("bbox is required");if(!Array.isArray(vt))throw new Error("bbox must be an Array");if(4!==vt.length&&6!==vt.length)throw new Error("bbox must be an Array of 4 or 6 numbers");vt.forEach(function(mt){if(!ut(mt))throw new Error("bbox must only contain numbers")})},_t.validateId=function Yt(vt){if(!vt)throw new Error("id is required");if(-1===["string","number"].indexOf(typeof vt))throw new Error("id must be a number or a string")}},8468:(It,_t,F)=>{"use strict";Object.defineProperty(_t,"__esModule",{value:!0});var G=F(6440);function V(U,ht,rt){if(null!==U)for(var ut,pt,R,Yt,vt,mt,X,H,he=0,ee=0,wt=U.type,lt="FeatureCollection"===wt,Gt="Feature"===wt,bt=lt?U.features.length:1,J=0;J<bt;J++){vt=(H=!!(X=lt?U.features[J].geometry:Gt?U.geometry:U)&&"GeometryCollection"===X.type)?X.geometries.length:1;for(var $t=0;$t<vt;$t++){var Zt=0,Se=0;if(null!==(Yt=H?X.geometries[$t]:X)){mt=Yt.coordinates;var Vt=Yt.type;switch(he=!rt||"Polygon"!==Vt&&"MultiPolygon"!==Vt?0:1,Vt){case null:break;case"Point":if(!1===ht(mt,ee,J,Zt,Se))return!1;ee++,Zt++;break;case"LineString":case"MultiPoint":for(ut=0;ut<mt.length;ut++){if(!1===ht(mt[ut],ee,J,Zt,Se))return!1;ee++,"MultiPoint"===Vt&&Zt++}"LineString"===Vt&&Zt++;break;case"Polygon":case"MultiLineString":for(ut=0;ut<mt.length;ut++){for(pt=0;pt<mt[ut].length-he;pt++){if(!1===ht(mt[ut][pt],ee,J,Zt,Se))return!1;ee++}"MultiLineString"===Vt&&Zt++,"Polygon"===Vt&&Se++}"Polygon"===Vt&&Zt++;break;case"MultiPolygon":for(ut=0;ut<mt.length;ut++){for(Se=0,pt=0;pt<mt[ut].length;pt++){for(R=0;R<mt[ut][pt].length-he;R++){if(!1===ht(mt[ut][pt][R],ee,J,Zt,Se))return!1;ee++}Se++}Zt++}break;case"GeometryCollection":for(ut=0;ut<Yt.geometries.length;ut++)if(!1===V(Yt.geometries[ut],ht,rt))return!1;break;default:throw new Error("Unknown Geometry Type")}}}}}function dt(U,ht){var rt;switch(U.type){case"FeatureCollection":for(rt=0;rt<U.features.length&&!1!==ht(U.features[rt].properties,rt);rt++);break;case"Feature":ht(U.properties,0)}}function Z(U,ht){if("Feature"===U.type)ht(U,0);else if("FeatureCollection"===U.type)for(var rt=0;rt<U.features.length&&!1!==ht(U.features[rt],rt);rt++);}function qt(U,ht){var rt,ut,pt,R,Yt,vt,mt,X,he,ee,H=0,wt="FeatureCollection"===U.type,lt="Feature"===U.type,Gt=wt?U.features.length:1;for(rt=0;rt<Gt;rt++){for(X=wt?U.features[rt].properties:lt?U.properties:{},he=wt?U.features[rt].bbox:lt?U.bbox:void 0,ee=wt?U.features[rt].id:lt?U.id:void 0,Yt=(mt=!!(vt=wt?U.features[rt].geometry:lt?U.geometry:U)&&"GeometryCollection"===vt.type)?vt.geometries.length:1,pt=0;pt<Yt;pt++)if(null!==(R=mt?vt.geometries[pt]:vt))switch(R.type){case"Point":case"LineString":case"MultiPoint":case"Polygon":case"MultiLineString":case"MultiPolygon":if(!1===ht(R,H,X,he,ee))return!1;break;case"GeometryCollection":for(ut=0;ut<R.geometries.length;ut++)if(!1===ht(R.geometries[ut],H,X,he,ee))return!1;break;default:throw new Error("Unknown Geometry Type")}else if(!1===ht(null,H,X,he,ee))return!1;H++}}function kt(U,ht){qt(U,function(rt,ut,pt,R,Yt){var mt,vt=null===rt?null:rt.type;switch(vt){case null:case"Point":case"LineString":case"Polygon":return!1!==ht(G.feature(rt,pt,{bbox:R,id:Yt}),ut,0)&&void 0}switch(vt){case"MultiPoint":mt="Point";break;case"MultiLineString":mt="LineString";break;case"MultiPolygon":mt="Polygon"}for(var X=0;X<rt.coordinates.length;X++)if(!1===ht(G.feature({type:mt,coordinates:rt.coordinates[X]},pt),ut,X))return!1})}function Ot(U,ht){kt(U,function(rt,ut,pt){var R=0;if(rt.geometry){var Yt=rt.geometry.type;if("Point"!==Yt&&"MultiPoint"!==Yt){var vt,mt=0,X=0,he=0;if(!1===V(rt,function(ee,H,wt,lt,Gt){if(void 0===vt||ut>mt||lt>X||Gt>he)return vt=ee,mt=ut,X=lt,he=Gt,void(R=0);var bt=G.lineString([vt,ee],rt.properties);if(!1===ht(bt,ut,pt,Gt,R))return!1;R++,vt=ee}))return!1}}})}function ct(U,ht){if(!U)throw new Error("geojson is required");kt(U,function(rt,ut,pt){if(null!==rt.geometry){var Yt=rt.geometry.coordinates;switch(rt.geometry.type){case"LineString":if(!1===ht(rt,ut,pt,0,0))return!1;break;case"Polygon":for(var vt=0;vt<Yt.length;vt++)if(!1===ht(G.lineString(Yt[vt],rt.properties),ut,pt,vt))return!1}}})}_t.coordAll=function yt(U){var ht=[];return V(U,function(rt){ht.push(rt)}),ht},_t.coordEach=V,_t.coordReduce=function nt(U,ht,rt,ut){var pt=rt;return V(U,function(R,Yt,vt,mt,X){pt=0===Yt&&void 0===rt?R:ht(pt,R,Yt,vt,mt,X)},ut),pt},_t.featureEach=Z,_t.featureReduce=function at(U,ht,rt){var ut=rt;return Z(U,function(pt,R){ut=0===R&&void 0===rt?pt:ht(ut,pt,R)}),ut},_t.findPoint=function Q(U,ht){if(!G.isObject(ht=ht||{}))throw new Error("options is invalid");var vt,rt=ht.featureIndex||0,ut=ht.multiFeatureIndex||0,pt=ht.geometryIndex||0,R=ht.coordIndex||0,Yt=ht.properties;switch(U.type){case"FeatureCollection":rt<0&&(rt=U.features.length+rt),Yt=Yt||U.features[rt].properties,vt=U.features[rt].geometry;break;case"Feature":Yt=Yt||U.properties,vt=U.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":vt=U;break;default:throw new Error("geojson is invalid")}if(null===vt)return null;var mt=vt.coordinates;switch(vt.type){case"Point":return G.point(mt,Yt,ht);case"MultiPoint":return ut<0&&(ut=mt.length+ut),G.point(mt[ut],Yt,ht);case"LineString":return R<0&&(R=mt.length+R),G.point(mt[R],Yt,ht);case"Polygon":return pt<0&&(pt=mt.length+pt),R<0&&(R=mt[pt].length+R),G.point(mt[pt][R],Yt,ht);case"MultiLineString":return ut<0&&(ut=mt.length+ut),R<0&&(R=mt[ut].length+R),G.point(mt[ut][R],Yt,ht);case"MultiPolygon":return ut<0&&(ut=mt.length+ut),pt<0&&(pt=mt[ut].length+pt),R<0&&(R=mt[ut][pt].length-R),G.point(mt[ut][pt][R],Yt,ht)}throw new Error("geojson is invalid")},_t.findSegment=function W(U,ht){if(!G.isObject(ht=ht||{}))throw new Error("options is invalid");var vt,rt=ht.featureIndex||0,ut=ht.multiFeatureIndex||0,pt=ht.geometryIndex||0,R=ht.segmentIndex||0,Yt=ht.properties;switch(U.type){case"FeatureCollection":rt<0&&(rt=U.features.length+rt),Yt=Yt||U.features[rt].properties,vt=U.features[rt].geometry;break;case"Feature":Yt=Yt||U.properties,vt=U.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":vt=U;break;default:throw new Error("geojson is invalid")}if(null===vt)return null;var mt=vt.coordinates;switch(vt.type){case"Point":case"MultiPoint":return null;case"LineString":return R<0&&(R=mt.length+R-1),G.lineString([mt[R],mt[R+1]],Yt,ht);case"Polygon":return pt<0&&(pt=mt.length+pt),R<0&&(R=mt[pt].length+R-1),G.lineString([mt[pt][R],mt[pt][R+1]],Yt,ht);case"MultiLineString":return ut<0&&(ut=mt.length+ut),R<0&&(R=mt[ut].length+R-1),G.lineString([mt[ut][R],mt[ut][R+1]],Yt,ht);case"MultiPolygon":return ut<0&&(ut=mt.length+ut),pt<0&&(pt=mt[ut].length+pt),R<0&&(R=mt[ut][pt].length-R-1),G.lineString([mt[ut][pt][R],mt[ut][pt][R+1]],Yt,ht)}throw new Error("geojson is invalid")},_t.flattenEach=kt,_t.flattenReduce=function Bt(U,ht,rt){var ut=rt;return kt(U,function(pt,R,Yt){ut=0===R&&0===Yt&&void 0===rt?pt:ht(ut,pt,R,Yt)}),ut},_t.geomEach=qt,_t.geomReduce=function te(U,ht,rt){var ut=rt;return qt(U,function(pt,R,Yt,vt,mt){ut=0===R&&void 0===rt?pt:ht(ut,pt,R,Yt,vt,mt)}),ut},_t.lineEach=ct,_t.lineReduce=function Et(U,ht,rt){var ut=rt;return ct(U,function(pt,R,Yt,vt){ut=0===R&&void 0===rt?pt:ht(ut,pt,R,Yt,vt)}),ut},_t.propEach=dt,_t.propReduce=function ft(U,ht,rt){var ut=rt;return dt(U,function(pt,R){ut=0===R&&void 0===rt?pt:ht(ut,pt,R)}),ut},_t.segmentEach=Ot,_t.segmentReduce=function re(U,ht,rt){var ut=rt,pt=!1;return Ot(U,function(R,Yt,vt,mt,X){ut=!1===pt&&void 0===rt?R:ht(ut,R,Yt,vt,mt,X),pt=!0}),ut}},5731:(It,_t,F)=>{"use strict";var G=F(5992),V=F(9477),nt=F(9705),dt=F(2910);It.exports=dt||G.call(nt,V)},8910:(It,_t,F)=>{"use strict";var G=F(5992),V=F(9477),nt=F(5731);It.exports=function(){return nt(G,V,arguments)}},9477:It=>{"use strict";It.exports=Function.prototype.apply},9705:It=>{"use strict";It.exports=Function.prototype.call},1885:(It,_t,F)=>{"use strict";var G=F(5992),V=F(6758),nt=F(9705),dt=F(5731);It.exports=function(Z){if(Z.length<1||"function"!=typeof Z[0])throw new V("a function is required");return dt(G,nt,Z)}},2910:It=>{"use strict";It.exports=typeof Reflect<"u"&&Reflect&&Reflect.apply},8128:(It,_t,F)=>{"use strict";var G=F(1358),V=F(4570),nt=F(1885),dt=F(8910);It.exports=function(Z){var at=nt(arguments),yt=Z.length-(arguments.length-1);return G(at,1+(yt>0?yt:0),!0)},V?V(It.exports,"apply",{value:dt}):It.exports.apply=dt},2773:(It,_t,F)=>{"use strict";var G=F(258),V=F(1885),nt=V([G("%String.prototype.indexOf%")]);It.exports=function(ft,Z){var at=G(ft,!!Z);return"function"==typeof at&&nt(ft,".prototype.")>-1?V([at]):at}},2943:(It,_t,F)=>{var G=F(4934),V=F(573),nt=F(7710),dt=F(3290),ft=F(5864),Z=F(4665),at=Date.prototype.getTime;function qt(Bt){return null==Bt}function te(Bt){return!(!Bt||"object"!=typeof Bt||"number"!=typeof Bt.length||"function"!=typeof Bt.copy||"function"!=typeof Bt.slice||Bt.length>0&&"number"!=typeof Bt[0])}It.exports=function yt(Bt,Ot,re){var ct=re||{};return!!(ct.strict?nt(Bt,Ot):Bt===Ot)||(!Bt||!Ot||"object"!=typeof Bt&&"object"!=typeof Ot?ct.strict?nt(Bt,Ot):Bt==Ot:function kt(Bt,Ot,re){var ct,Et;if(typeof Bt!=typeof Ot||qt(Bt)||qt(Ot)||Bt.prototype!==Ot.prototype||V(Bt)!==V(Ot))return!1;var W=dt(Bt),Q=dt(Ot);if(W!==Q)return!1;if(W||Q)return Bt.source===Ot.source&&ft(Bt)===ft(Ot);if(Z(Bt)&&Z(Ot))return at.call(Bt)===at.call(Ot);var U=te(Bt),ht=te(Ot);if(U!==ht)return!1;if(U||ht){if(Bt.length!==Ot.length)return!1;for(ct=0;ct<Bt.length;ct++)if(Bt[ct]!==Ot[ct])return!1;return!0}if(typeof Bt!=typeof Ot)return!1;try{var rt=G(Bt),ut=G(Ot)}catch{return!1}if(rt.length!==ut.length)return!1;for(rt.sort(),ut.sort(),ct=rt.length-1;ct>=0;ct--)if(rt[ct]!=ut[ct])return!1;for(ct=rt.length-1;ct>=0;ct--)if(!yt(Bt[Et=rt[ct]],Ot[Et],re))return!1;return!0}(Bt,Ot,ct))}},2736:(It,_t,F)=>{"use strict";var G=F(4570),V=F(8413),nt=F(6758),dt=F(3798);It.exports=function(Z,at,yt){if(!Z||"object"!=typeof Z&&"function"!=typeof Z)throw new nt("`obj` must be an object or a function`");if("string"!=typeof at&&"symbol"!=typeof at)throw new nt("`property` must be a string or a symbol`");if(arguments.length>3&&"boolean"!=typeof arguments[3]&&null!==arguments[3])throw new nt("`nonEnumerable`, if provided, must be a boolean or null");if(arguments.length>4&&"boolean"!=typeof arguments[4]&&null!==arguments[4])throw new nt("`nonWritable`, if provided, must be a boolean or null");if(arguments.length>5&&"boolean"!=typeof arguments[5]&&null!==arguments[5])throw new nt("`nonConfigurable`, if provided, must be a boolean or null");if(arguments.length>6&&"boolean"!=typeof arguments[6])throw new nt("`loose`, if provided, must be a boolean");var qt=arguments.length>3?arguments[3]:null,te=arguments.length>4?arguments[4]:null,kt=arguments.length>5?arguments[5]:null,Bt=arguments.length>6&&arguments[6],Ot=!!dt&&dt(Z,at);if(G)G(Z,at,{configurable:null===kt&&Ot?Ot.configurable:!kt,enumerable:null===qt&&Ot?Ot.enumerable:!qt,value:yt,writable:null===te&&Ot?Ot.writable:!te});else{if(!Bt&&(qt||te||kt))throw new V("This environment does not support defining a property as non-configurable, non-writable, or non-enumerable.");Z[at]=yt}}},947:(It,_t,F)=>{"use strict";var G=F(4934),V="function"==typeof Symbol&&"symbol"==typeof Symbol("foo"),nt=Object.prototype.toString,dt=Array.prototype.concat,ft=F(2736),at=F(5861)(),yt=function(te,kt,Bt,Ot){if(kt in te)if(!0===Ot){if(te[kt]===Bt)return}else if(!function(te){return"function"==typeof te&&"[object Function]"===nt.call(te)}(Ot)||!Ot())return;at?ft(te,kt,Bt,!0):ft(te,kt,Bt)},qt=function(te,kt){var Bt=arguments.length>2?arguments[2]:{},Ot=G(kt);V&&(Ot=dt.call(Ot,Object.getOwnPropertySymbols(kt)));for(var re=0;re<Ot.length;re+=1)yt(te,Ot[re],kt[Ot[re]],Bt[Ot[re]])};qt.supportsDescriptors=!!at,It.exports=qt},6594:It=>{function _t(F,G,V,nt){this.dataset=[],this.epsilon=1,this.minPts=2,this.distance=this._euclideanDistance,this.clusters=[],this.noise=[],this._visited=[],this._assigned=[],this._datasetLength=0,this._init(F,G,V,nt)}_t.prototype.run=function(F,G,V,nt){this._init(F,G,V,nt);for(var dt=0;dt<this._datasetLength;dt++)if(1!==this._visited[dt]){this._visited[dt]=1;var ft=this._regionQuery(dt);if(ft.length<this.minPts)this.noise.push(dt);else{var Z=this.clusters.length;this.clusters.push([]),this._addToCluster(dt,Z),this._expandCluster(Z,ft)}}return this.clusters},_t.prototype._init=function(F,G,V,nt){if(F){if(!(F instanceof Array))throw Error("Dataset must be of type array, "+typeof F+" given");this.dataset=F,this.clusters=[],this.noise=[],this._datasetLength=F.length,this._visited=new Array(this._datasetLength),this._assigned=new Array(this._datasetLength)}G&&(this.epsilon=G),V&&(this.minPts=V),nt&&(this.distance=nt)},_t.prototype._expandCluster=function(F,G){for(var V=0;V<G.length;V++){var nt=G[V];if(1!==this._visited[nt]){this._visited[nt]=1;var dt=this._regionQuery(nt);dt.length>=this.minPts&&(G=this._mergeArrays(G,dt))}1!==this._assigned[nt]&&this._addToCluster(nt,F)}},_t.prototype._addToCluster=function(F,G){this.clusters[G].push(F),this._assigned[F]=1},_t.prototype._regionQuery=function(F){for(var G=[],V=0;V<this._datasetLength;V++)this.distance(this.dataset[F],this.dataset[V])<this.epsilon&&G.push(V);return G},_t.prototype._mergeArrays=function(F,G){for(var V=G.length,nt=0;nt<V;nt++){var dt=G[nt];F.indexOf(dt)<0&&F.push(dt)}return F},_t.prototype._euclideanDistance=function(F,G){for(var V=0,nt=Math.min(F.length,G.length);nt--;)V+=(F[nt]-G[nt])*(F[nt]-G[nt]);return Math.sqrt(V)},It.exports&&(It.exports=_t)},4692:It=>{function _t(F,G,V){this.k=3,this.dataset=[],this.assignments=[],this.centroids=[],this.init(F,G,V)}_t.prototype.init=function(F,G,V){this.assignments=[],this.centroids=[],typeof F<"u"&&(this.dataset=F),typeof G<"u"&&(this.k=G),typeof V<"u"&&(this.distance=V)},_t.prototype.run=function(F,G){this.init(F,G);for(var V=this.dataset.length,nt=0;nt<this.k;nt++)this.centroids[nt]=this.randomCentroid();for(var dt=!0;dt;){dt=this.assign();for(var ft=0;ft<this.k;ft++){for(var Z=new Array(te),at=0,yt=0;yt<te;yt++)Z[yt]=0;for(var qt=0;qt<V;qt++){var te=this.dataset[qt].length;if(ft===this.assignments[qt]){for(yt=0;yt<te;yt++)Z[yt]+=this.dataset[qt][yt];at++}}if(at>0){for(yt=0;yt<te;yt++)Z[yt]/=at;this.centroids[ft]=Z}else this.centroids[ft]=this.randomCentroid(),dt=!0}}return this.getClusters()},_t.prototype.randomCentroid=function(){var G,V,F=this.dataset.length-1;do{V=Math.round(Math.random()*F),G=this.dataset[V]}while(this.centroids.indexOf(G)>=0);return G},_t.prototype.assign=function(){for(var V,F=!1,G=this.dataset.length,nt=0;nt<G;nt++)(V=this.argmin(this.dataset[nt],this.centroids,this.distance))!=this.assignments[nt]&&(this.assignments[nt]=V,F=!0);return F},_t.prototype.getClusters=function(){for(var G,F=new Array(this.k),V=0;V<this.assignments.length;V++)typeof F[G=this.assignments[V]]>"u"&&(F[G]=[]),F[G].push(V);return F},_t.prototype.argmin=function(F,G,V){for(var Z,nt=Number.MAX_VALUE,dt=0,ft=G.length,at=0;at<ft;at++)(Z=V(F,G[at]))<nt&&(nt=Z,dt=at);return dt},_t.prototype.distance=function(F,G){for(var V=0,nt=Math.min(F.length,G.length);nt--;){var dt=F[nt]-G[nt];V+=dt*dt}return Math.sqrt(V)},It.exports&&(It.exports=_t)},5859:(It,_t,F)=>{if(It.exports)var G=F(8290);function V(nt,dt,ft,Z){this.epsilon=1,this.minPts=1,this.distance=this._euclideanDistance,this._reachability=[],this._processed=[],this._coreDistance=0,this._orderedList=[],this._init(nt,dt,ft,Z)}V.prototype.run=function(nt,dt,ft,Z){this._init(nt,dt,ft,Z);for(var at=0,yt=this.dataset.length;at<yt;at++)if(1!==this._processed[at]){this._processed[at]=1,this.clusters.push([at]);var qt=this.clusters.length-1;this._orderedList.push(at);var te=new G(null,null,"asc"),kt=this._regionQuery(at);void 0!==this._distanceToCore(at)&&(this._updateQueue(at,kt,te),this._expandCluster(qt,te))}return this.clusters},V.prototype.getReachabilityPlot=function(){for(var nt=[],dt=0,ft=this._orderedList.length;dt<ft;dt++){var Z=this._orderedList[dt];nt.push([Z,this._reachability[Z]])}return nt},V.prototype._init=function(nt,dt,ft,Z){if(nt){if(!(nt instanceof Array))throw Error("Dataset must be of type array, "+typeof nt+" given");this.dataset=nt,this.clusters=[],this._reachability=new Array(this.dataset.length),this._processed=new Array(this.dataset.length),this._coreDistance=0,this._orderedList=[]}dt&&(this.epsilon=dt),ft&&(this.minPts=ft),Z&&(this.distance=Z)},V.prototype._updateQueue=function(nt,dt,ft){var Z=this;this._coreDistance=this._distanceToCore(nt),dt.forEach(function(at){if(void 0===Z._processed[at]){var yt=Z.distance(Z.dataset[nt],Z.dataset[at]),qt=Math.max(Z._coreDistance,yt);void 0===Z._reachability[at]?(Z._reachability[at]=qt,ft.insert(at,qt)):qt<Z._reachability[at]&&(Z._reachability[at]=qt,ft.remove(at),ft.insert(at,qt))}})},V.prototype._expandCluster=function(nt,dt){for(var ft=dt.getElements(),Z=0,at=ft.length;Z<at;Z++){var yt=ft[Z];if(void 0===this._processed[yt]){var qt=this._regionQuery(yt);this._processed[yt]=1,this.clusters[nt].push(yt),this._orderedList.push(yt),void 0!==this._distanceToCore(yt)&&(this._updateQueue(yt,qt,dt),this._expandCluster(nt,dt))}}},V.prototype._distanceToCore=function(nt){for(var dt=this.epsilon,ft=0;ft<dt;ft++)if(this._regionQuery(nt,ft).length>=this.minPts)return ft},V.prototype._regionQuery=function(nt,dt){dt=dt||this.epsilon;for(var ft=[],Z=0,at=this.dataset.length;Z<at;Z++)this.distance(this.dataset[nt],this.dataset[Z])<dt&&ft.push(Z);return ft},V.prototype._euclideanDistance=function(nt,dt){for(var ft=0,Z=Math.min(nt.length,dt.length);Z--;)ft+=(nt[Z]-dt[Z])*(nt[Z]-dt[Z]);return Math.sqrt(ft)},It.exports&&(It.exports=V)},8290:It=>{function _t(F,G,V){this._queue=[],this._priorities=[],this._sorting="desc",this._init(F,G,V)}_t.prototype.insert=function(F,G){for(var V=this._queue.length,nt=V;nt--;){var dt=this._priorities[nt];"desc"===this._sorting?G>dt&&(V=nt):G<dt&&(V=nt)}this._insertAt(F,G,V)},_t.prototype.remove=function(F){for(var G=this._queue.length;G--;)if(F===this._queue[G]){this._queue.splice(G,1),this._priorities.splice(G,1);break}},_t.prototype.forEach=function(F){this._queue.forEach(F)},_t.prototype.getElements=function(){return this._queue},_t.prototype.getElementPriority=function(F){return this._priorities[F]},_t.prototype.getPriorities=function(){return this._priorities},_t.prototype.getElementsWithPriorities=function(){for(var F=[],G=0,V=this._queue.length;G<V;G++)F.push([this._queue[G],this._priorities[G]]);return F},_t.prototype._init=function(F,G,V){if(F&&G){if(this._queue=[],this._priorities=[],F.length!==G.length)throw new Error("Arrays must have the same length");for(var nt=0;nt<F.length;nt++)this.insert(F[nt],G[nt])}V&&(this._sorting=V)},_t.prototype._insertAt=function(F,G,V){this._queue.length===V?(this._queue.push(F),this._priorities.push(G)):(this._queue.splice(V,0,F),this._priorities.splice(V,0,G))},It.exports&&(It.exports=_t)},7249:(It,_t,F)=>{It.exports&&(It.exports={DBSCAN:F(6594),KMEANS:F(4692),OPTICS:F(5859),PriorityQueue:F(8290)})},3361:(It,_t,F)=>{"use strict";var nt,G=F(1885),V=F(3798);try{nt=[].__proto__===Array.prototype}catch(at){if(!at||"object"!=typeof at||!("code"in at)||"ERR_PROTO_ACCESS"!==at.code)throw at}var dt=!!nt&&V&&V(Object.prototype,"__proto__"),ft=Object,Z=ft.getPrototypeOf;It.exports=dt&&"function"==typeof dt.get?G([dt.get]):"function"==typeof Z&&function(yt){return Z(null==yt?yt:ft(yt))}},2381:It=>{"use strict";function _t(H,wt,lt){lt=lt||2;var Zt,Se,Vt,en,Dn,je,Xe,Gt=wt&&wt.length,bt=Gt?wt[0]*lt:H.length,J=F(H,0,bt,lt,!0),$t=[];if(!J||J.next===J.prev)return $t;if(Gt&&(J=function at(H,wt,lt,Gt){var J,$t,Vt,bt=[];for(J=0,$t=wt.length;J<$t;J++)(Vt=F(H,wt[J]*Gt,J<$t-1?wt[J+1]*Gt:H.length,Gt,!1))===Vt.next&&(Vt.steiner=!0),bt.push(ct(Vt));for(bt.sort(yt),J=0;J<bt.length;J++)lt=qt(bt[J],lt);return lt}(H,wt,J,lt)),H.length>80*lt){Zt=Vt=H[0],Se=en=H[1];for(var qe=lt;qe<bt;qe+=lt)(Dn=H[qe])<Zt&&(Zt=Dn),(je=H[qe+1])<Se&&(Se=je),Dn>Vt&&(Vt=Dn),je>en&&(en=je);Xe=0!==(Xe=Math.max(Vt-Zt,en-Se))?32767/Xe:0}return V(J,$t,lt,Zt,Se,Xe,0),$t}function F(H,wt,lt,Gt,bt){var J,$t;if(bt===ee(H,wt,lt,Gt)>0)for(J=wt;J<lt;J+=Gt)$t=mt(J,H[J],H[J+1],$t);else for(J=lt-Gt;J>=wt;J-=Gt)$t=mt(J,H[J],H[J+1],$t);return $t&&U($t,$t.next)&&(X($t),$t=$t.next),$t}function G(H,wt){if(!H)return H;wt||(wt=H);var Gt,lt=H;do{if(Gt=!1,lt.steiner||!U(lt,lt.next)&&0!==Q(lt.prev,lt,lt.next))lt=lt.next;else{if(X(lt),(lt=wt=lt.prev)===lt.next)break;Gt=!0}}while(Gt||lt!==wt);return wt}function V(H,wt,lt,Gt,bt,J,$t){if(H){!$t&&J&&function Bt(H,wt,lt,Gt){var bt=H;do{0===bt.z&&(bt.z=re(bt.x,bt.y,wt,lt,Gt)),bt.prevZ=bt.prev,bt.nextZ=bt.next,bt=bt.next}while(bt!==H);bt.prevZ.nextZ=null,bt.prevZ=null,function Ot(H){var wt,lt,Gt,bt,J,$t,Zt,Se,Vt=1;do{for(lt=H,H=null,J=null,$t=0;lt;){for($t++,Gt=lt,Zt=0,wt=0;wt<Vt&&(Zt++,Gt=Gt.nextZ);wt++);for(Se=Vt;Zt>0||Se>0&&Gt;)0!==Zt&&(0===Se||!Gt||lt.z<=Gt.z)?(bt=lt,lt=lt.nextZ,Zt--):(bt=Gt,Gt=Gt.nextZ,Se--),J?J.nextZ=bt:H=bt,bt.prevZ=J,J=bt;lt=Gt}J.nextZ=null,Vt*=2}while($t>1)}(bt)}(H,Gt,bt,J);for(var Se,Vt,Zt=H;H.prev!==H.next;)if(Se=H.prev,Vt=H.next,J?dt(H,Gt,bt,J):nt(H))wt.push(Se.i/lt|0),wt.push(H.i/lt|0),wt.push(Vt.i/lt|0),X(H),H=Vt.next,Zt=Vt.next;else if((H=Vt)===Zt){$t?1===$t?V(H=ft(G(H),wt,lt),wt,lt,Gt,bt,J,2):2===$t&&Z(H,wt,lt,Gt,bt,J):V(G(H),wt,lt,Gt,bt,J,1);break}}}function nt(H){var wt=H.prev,lt=H,Gt=H.next;if(Q(wt,lt,Gt)>=0)return!1;for(var bt=wt.x,J=lt.x,$t=Gt.x,Zt=wt.y,Se=lt.y,Vt=Gt.y,en=bt<J?bt<$t?bt:$t:J<$t?J:$t,Dn=Zt<Se?Zt<Vt?Zt:Vt:Se<Vt?Se:Vt,je=bt>J?bt>$t?bt:$t:J>$t?J:$t,Xe=Zt>Se?Zt>Vt?Zt:Vt:Se>Vt?Se:Vt,qe=Gt.next;qe!==wt;){if(qe.x>=en&&qe.x<=je&&qe.y>=Dn&&qe.y<=Xe&&Et(bt,Zt,J,Se,$t,Vt,qe.x,qe.y)&&Q(qe.prev,qe,qe.next)>=0)return!1;qe=qe.next}return!0}function dt(H,wt,lt,Gt){var bt=H.prev,J=H,$t=H.next;if(Q(bt,J,$t)>=0)return!1;for(var Zt=bt.x,Se=J.x,Vt=$t.x,en=bt.y,Dn=J.y,je=$t.y,Xe=Zt<Se?Zt<Vt?Zt:Vt:Se<Vt?Se:Vt,qe=en<Dn?en<je?en:je:Dn<je?Dn:je,ae=Zt>Se?Zt>Vt?Zt:Vt:Se>Vt?Se:Vt,ke=en>Dn?en>je?en:je:Dn>je?Dn:je,nn=re(Xe,qe,wt,lt,Gt),Ue=re(ae,ke,wt,lt,Gt),_e=H.prevZ,Oe=H.nextZ;_e&&_e.z>=nn&&Oe&&Oe.z<=Ue;){if(_e.x>=Xe&&_e.x<=ae&&_e.y>=qe&&_e.y<=ke&&_e!==bt&&_e!==$t&&Et(Zt,en,Se,Dn,Vt,je,_e.x,_e.y)&&Q(_e.prev,_e,_e.next)>=0||(_e=_e.prevZ,Oe.x>=Xe&&Oe.x<=ae&&Oe.y>=qe&&Oe.y<=ke&&Oe!==bt&&Oe!==$t&&Et(Zt,en,Se,Dn,Vt,je,Oe.x,Oe.y)&&Q(Oe.prev,Oe,Oe.next)>=0))return!1;Oe=Oe.nextZ}for(;_e&&_e.z>=nn;){if(_e.x>=Xe&&_e.x<=ae&&_e.y>=qe&&_e.y<=ke&&_e!==bt&&_e!==$t&&Et(Zt,en,Se,Dn,Vt,je,_e.x,_e.y)&&Q(_e.prev,_e,_e.next)>=0)return!1;_e=_e.prevZ}for(;Oe&&Oe.z<=Ue;){if(Oe.x>=Xe&&Oe.x<=ae&&Oe.y>=qe&&Oe.y<=ke&&Oe!==bt&&Oe!==$t&&Et(Zt,en,Se,Dn,Vt,je,Oe.x,Oe.y)&&Q(Oe.prev,Oe,Oe.next)>=0)return!1;Oe=Oe.nextZ}return!0}function ft(H,wt,lt){var Gt=H;do{var bt=Gt.prev,J=Gt.next.next;!U(bt,J)&&ht(bt,Gt,Gt.next,J)&&R(bt,J)&&R(J,bt)&&(wt.push(bt.i/lt|0),wt.push(Gt.i/lt|0),wt.push(J.i/lt|0),X(Gt),X(Gt.next),Gt=H=J),Gt=Gt.next}while(Gt!==H);return G(Gt)}function Z(H,wt,lt,Gt,bt,J){var $t=H;do{for(var Zt=$t.next.next;Zt!==$t.prev;){if($t.i!==Zt.i&&W($t,Zt)){var Se=vt($t,Zt);return $t=G($t,$t.next),Se=G(Se,Se.next),V($t,wt,lt,Gt,bt,J,0),void V(Se,wt,lt,Gt,bt,J,0)}Zt=Zt.next}$t=$t.next}while($t!==H)}function yt(H,wt){return H.x-wt.x}function qt(H,wt){var lt=function te(H,wt){var $t,lt=wt,Gt=H.x,bt=H.y,J=-1/0;do{if(bt<=lt.y&&bt>=lt.next.y&&lt.next.y!==lt.y){var Zt=lt.x+(bt-lt.y)*(lt.next.x-lt.x)/(lt.next.y-lt.y);if(Zt<=Gt&&Zt>J&&(J=Zt,$t=lt.x<lt.next.x?lt:lt.next,Zt===Gt))return $t}lt=lt.next}while(lt!==wt);if(!$t)return null;var je,Se=$t,Vt=$t.x,en=$t.y,Dn=1/0;lt=$t;do{Gt>=lt.x&&lt.x>=Vt&&Gt!==lt.x&&Et(bt<en?Gt:J,bt,Vt,en,bt<en?J:Gt,bt,lt.x,lt.y)&&(je=Math.abs(bt-lt.y)/(Gt-lt.x),R(lt,H)&&(je<Dn||je===Dn&&(lt.x>$t.x||lt.x===$t.x&&kt($t,lt)))&&($t=lt,Dn=je)),lt=lt.next}while(lt!==Se);return $t}(H,wt);if(!lt)return wt;var Gt=vt(lt,H);return G(Gt,Gt.next),G(lt,lt.next)}function kt(H,wt){return Q(H.prev,H,wt.prev)<0&&Q(wt.next,H,H.next)<0}function re(H,wt,lt,Gt,bt){return(H=1431655765&((H=858993459&((H=252645135&((H=16711935&((H=(H-lt)*bt|0)|H<<8))|H<<4))|H<<2))|H<<1))|(wt=1431655765&((wt=858993459&((wt=252645135&((wt=16711935&((wt=(wt-Gt)*bt|0)|wt<<8))|wt<<4))|wt<<2))|wt<<1))<<1}function ct(H){var wt=H,lt=H;do{(wt.x<lt.x||wt.x===lt.x&&wt.y<lt.y)&&(lt=wt),wt=wt.next}while(wt!==H);return lt}function Et(H,wt,lt,Gt,bt,J,$t,Zt){return(bt-$t)*(wt-Zt)>=(H-$t)*(J-Zt)&&(H-$t)*(Gt-Zt)>=(lt-$t)*(wt-Zt)&&(lt-$t)*(J-Zt)>=(bt-$t)*(Gt-Zt)}function W(H,wt){return H.next.i!==wt.i&&H.prev.i!==wt.i&&!function pt(H,wt){var lt=H;do{if(lt.i!==H.i&&lt.next.i!==H.i&&lt.i!==wt.i&&lt.next.i!==wt.i&&ht(lt,lt.next,H,wt))return!0;lt=lt.next}while(lt!==H);return!1}(H,wt)&&(R(H,wt)&&R(wt,H)&&function Yt(H,wt){var lt=H,Gt=!1,bt=(H.x+wt.x)/2,J=(H.y+wt.y)/2;do{lt.y>J!=lt.next.y>J&&lt.next.y!==lt.y&&bt<(lt.next.x-lt.x)*(J-lt.y)/(lt.next.y-lt.y)+lt.x&&(Gt=!Gt),lt=lt.next}while(lt!==H);return Gt}(H,wt)&&(Q(H.prev,H,wt.prev)||Q(H,wt.prev,wt))||U(H,wt)&&Q(H.prev,H,H.next)>0&&Q(wt.prev,wt,wt.next)>0)}function Q(H,wt,lt){return(wt.y-H.y)*(lt.x-wt.x)-(wt.x-H.x)*(lt.y-wt.y)}function U(H,wt){return H.x===wt.x&&H.y===wt.y}function ht(H,wt,lt,Gt){var bt=ut(Q(H,wt,lt)),J=ut(Q(H,wt,Gt)),$t=ut(Q(lt,Gt,H)),Zt=ut(Q(lt,Gt,wt));return!!(bt!==J&&$t!==Zt||0===bt&&rt(H,lt,wt)||0===J&&rt(H,Gt,wt)||0===$t&&rt(lt,H,Gt)||0===Zt&&rt(lt,wt,Gt))}function rt(H,wt,lt){return wt.x<=Math.max(H.x,lt.x)&&wt.x>=Math.min(H.x,lt.x)&&wt.y<=Math.max(H.y,lt.y)&&wt.y>=Math.min(H.y,lt.y)}function ut(H){return H>0?1:H<0?-1:0}function R(H,wt){return Q(H.prev,H,H.next)<0?Q(H,wt,H.next)>=0&&Q(H,H.prev,wt)>=0:Q(H,wt,H.prev)<0||Q(H,H.next,wt)<0}function vt(H,wt){var lt=new he(H.i,H.x,H.y),Gt=new he(wt.i,wt.x,wt.y),bt=H.next,J=wt.prev;return H.next=wt,wt.prev=H,lt.next=bt,bt.prev=lt,Gt.next=lt,lt.prev=Gt,J.next=Gt,Gt.prev=J,Gt}function mt(H,wt,lt,Gt){var bt=new he(H,wt,lt);return Gt?(bt.next=Gt.next,bt.prev=Gt,Gt.next.prev=bt,Gt.next=bt):(bt.prev=bt,bt.next=bt),bt}function X(H){H.next.prev=H.prev,H.prev.next=H.next,H.prevZ&&(H.prevZ.nextZ=H.nextZ),H.nextZ&&(H.nextZ.prevZ=H.prevZ)}function he(H,wt,lt){this.i=H,this.x=wt,this.y=lt,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}function ee(H,wt,lt,Gt){for(var bt=0,J=wt,$t=lt-Gt;J<lt;J+=Gt)bt+=(H[$t]-H[J])*(H[J+1]+H[$t+1]),$t=J;return bt}It.exports=_t,It.exports.default=_t,_t.deviation=function(H,wt,lt,Gt){var bt=wt&&wt.length,$t=Math.abs(ee(H,0,bt?wt[0]*lt:H.length,lt));if(bt)for(var Zt=0,Se=wt.length;Zt<Se;Zt++)$t-=Math.abs(ee(H,wt[Zt]*lt,Zt<Se-1?wt[Zt+1]*lt:H.length,lt));var Dn=0;for(Zt=0;Zt<Gt.length;Zt+=3){var je=Gt[Zt]*lt,Xe=Gt[Zt+1]*lt,qe=Gt[Zt+2]*lt;Dn+=Math.abs((H[je]-H[qe])*(H[Xe+1]-H[je+1])-(H[je]-H[Xe])*(H[qe+1]-H[je+1]))}return 0===$t&&0===Dn?0:Math.abs((Dn-$t)/$t)},_t.flatten=function(H){for(var wt=H[0][0].length,lt={vertices:[],holes:[],dimensions:wt},Gt=0,bt=0;bt<H.length;bt++){for(var J=0;J<H[bt].length;J++)for(var $t=0;$t<wt;$t++)lt.vertices.push(H[bt][J][$t]);bt>0&&lt.holes.push(Gt+=H[bt-1].length)}return lt}},4570:It=>{"use strict";var _t=Object.defineProperty||!1;if(_t)try{_t({},"a",{value:1})}catch{_t=!1}It.exports=_t},1756:It=>{"use strict";It.exports=EvalError},7640:It=>{"use strict";It.exports=Error},7933:It=>{"use strict";It.exports=RangeError},6613:It=>{"use strict";It.exports=ReferenceError},8413:It=>{"use strict";It.exports=SyntaxError},6758:It=>{"use strict";It.exports=TypeError},5286:It=>{"use strict";It.exports=URIError},5891:It=>{"use strict";It.exports=Object},9132:It=>{"use strict";var F=Object.prototype.toString,G=Math.max,nt=function(at,yt){for(var qt=[],te=0;te<at.length;te+=1)qt[te]=at[te];for(var kt=0;kt<yt.length;kt+=1)qt[kt+at.length]=yt[kt];return qt};It.exports=function(at){var yt=this;if("function"!=typeof yt||"[object Function]"!==F.apply(yt))throw new TypeError("Function.prototype.bind called on incompatible "+yt);for(var te,qt=function(at,yt){for(var qt=[],te=1,kt=0;te<at.length;te+=1,kt+=1)qt[kt]=at[te];return qt}(arguments),Bt=G(0,yt.length-qt.length),Ot=[],re=0;re<Bt;re++)Ot[re]="$"+re;if(te=Function("binder","return function ("+function(Z,at){for(var yt="",qt=0;qt<Z.length;qt+=1)yt+=Z[qt],qt+1<Z.length&&(yt+=",");return yt}(Ot)+"){ return binder.apply(this,arguments); }")(function(){if(this instanceof te){var Et=yt.apply(this,nt(qt,arguments));return Object(Et)===Et?Et:this}return yt.apply(at,nt(qt,arguments))}),yt.prototype){var ct=function(){};ct.prototype=yt.prototype,te.prototype=new ct,ct.prototype=null}return te}},5992:(It,_t,F)=>{"use strict";var G=F(9132);It.exports=Function.prototype.bind||G},4003:It=>{"use strict";var _t=function(){return"string"==typeof function(){}.name},F=Object.getOwnPropertyDescriptor;if(F)try{F([],"length")}catch{F=null}_t.functionsHaveConfigurableNames=function(){if(!_t()||!F)return!1;var nt=F(function(){},"name");return!!nt&&!!nt.configurable};var G=Function.prototype.bind;_t.boundFunctionsHaveNames=function(){return _t()&&"function"==typeof G&&""!==function(){}.bind().name},It.exports=_t},9906:(It,_t,F)=>{var G=F(2943),V=function(Z){this.precision=Z&&Z.precision?Z.precision:17,this.direction=!(!Z||!Z.direction)&&Z.direction,this.pseudoNode=!(!Z||!Z.pseudoNode)&&Z.pseudoNode,this.objectComparator=Z&&Z.objectComparator?Z.objectComparator:ft};function nt(Z){return Z.coordinates.map(function(at){return{type:Z.type.replace("Multi",""),coordinates:at}})}function dt(Z,at){return Z.hasOwnProperty("coordinates")?Z.coordinates.length===at.coordinates.length:Z.length===at.length}function ft(Z,at){return G(Z,at,{strict:!0})}V.prototype.compare=function(Z,at){if(Z.type!==at.type||!dt(Z,at))return!1;switch(Z.type){case"Point":return this.compareCoord(Z.coordinates,at.coordinates);case"LineString":return this.compareLine(Z.coordinates,at.coordinates,0,!1);case"Polygon":return this.comparePolygon(Z,at);case"Feature":return this.compareFeature(Z,at);default:if(0===Z.type.indexOf("Multi")){var yt=this,qt=nt(Z),te=nt(at);return qt.every(function(kt){return this.some(function(Bt){return yt.compare(kt,Bt)})},te)}}return!1},V.prototype.compareCoord=function(Z,at){if(Z.length!==at.length)return!1;for(var yt=0;yt<Z.length;yt++)if(Z[yt].toFixed(this.precision)!==at[yt].toFixed(this.precision))return!1;return!0},V.prototype.compareLine=function(Z,at,yt,qt){if(!dt(Z,at))return!1;var te=this.pseudoNode?Z:this.removePseudo(Z),kt=this.pseudoNode?at:this.removePseudo(at);if(!qt||this.compareCoord(te[0],kt[0])||(kt=this.fixStartIndex(kt,te))){var Bt=this.compareCoord(te[yt],kt[yt]);return this.direction||Bt?this.comparePath(te,kt):!!this.compareCoord(te[yt],kt[kt.length-(1+yt)])&&this.comparePath(te.slice().reverse(),kt)}},V.prototype.fixStartIndex=function(Z,at){for(var yt,qt=-1,te=0;te<Z.length;te++)if(this.compareCoord(Z[te],at[0])){qt=te;break}return qt>=0&&(yt=[].concat(Z.slice(qt,Z.length),Z.slice(1,qt+1))),yt},V.prototype.comparePath=function(Z,at){var yt=this;return Z.every(function(qt,te){return yt.compareCoord(qt,this[te])},at)},V.prototype.comparePolygon=function(Z,at){if(this.compareLine(Z.coordinates[0],at.coordinates[0],1,!0)){var yt=Z.coordinates.slice(1,Z.coordinates.length),qt=at.coordinates.slice(1,at.coordinates.length),te=this;return yt.every(function(kt){return this.some(function(Bt){return te.compareLine(kt,Bt,1,!0)})},qt)}return!1},V.prototype.compareFeature=function(Z,at){return!(Z.id!==at.id||!this.objectComparator(Z.properties,at.properties)||!this.compareBBox(Z,at))&&this.compare(Z.geometry,at.geometry)},V.prototype.compareBBox=function(Z,at){return!!(!Z.bbox&&!at.bbox||Z.bbox&&at.bbox&&this.compareCoord(Z.bbox,at.bbox))},V.prototype.removePseudo=function(Z){return Z},It.exports=V},2374:(It,_t,F)=>{var G=F(4008),V=F(6440),nt=F(8468),dt=F(5666).A,ft=nt.featureEach,yt=V.featureCollection;function qt(te){var kt=new G(te);return kt.insert=function(Bt){if("Feature"!==Bt.type)throw new Error("invalid feature");return Bt.bbox=Bt.bbox?Bt.bbox:dt(Bt),G.prototype.insert.call(this,Bt)},kt.load=function(Bt){var Ot=[];return Array.isArray(Bt)?Bt.forEach(function(re){if("Feature"!==re.type)throw new Error("invalid features");re.bbox=re.bbox?re.bbox:dt(re),Ot.push(re)}):ft(Bt,function(re){if("Feature"!==re.type)throw new Error("invalid features");re.bbox=re.bbox?re.bbox:dt(re),Ot.push(re)}),G.prototype.load.call(this,Ot)},kt.remove=function(Bt,Ot){if("Feature"!==Bt.type)throw new Error("invalid feature");return Bt.bbox=Bt.bbox?Bt.bbox:dt(Bt),G.prototype.remove.call(this,Bt,Ot)},kt.clear=function(){return G.prototype.clear.call(this)},kt.search=function(Bt){var Ot=G.prototype.search.call(this,this.toBBox(Bt));return yt(Ot)},kt.collides=function(Bt){return G.prototype.collides.call(this,this.toBBox(Bt))},kt.all=function(){var Bt=G.prototype.all.call(this);return yt(Bt)},kt.toJSON=function(){return G.prototype.toJSON.call(this)},kt.fromJSON=function(Bt){return G.prototype.fromJSON.call(this,Bt)},kt.toBBox=function(Bt){var Ot;if(Bt.bbox)Ot=Bt.bbox;else if(Array.isArray(Bt)&&4===Bt.length)Ot=Bt;else if(Array.isArray(Bt)&&6===Bt.length)Ot=[Bt[0],Bt[1],Bt[3],Bt[4]];else if("Feature"===Bt.type)Ot=dt(Bt);else{if("FeatureCollection"!==Bt.type)throw new Error("invalid geojson");Ot=dt(Bt)}return{minX:Ot[0],minY:Ot[1],maxX:Ot[2],maxY:Ot[3]}},kt}It.exports=qt,It.exports.default=qt},4008:function(It){It.exports=function(){"use strict";function _t(ct,Et,W,Q,U){!function ht(rt,ut,pt,R,Yt){for(;R>pt;){if(R-pt>600){var vt=R-pt+1,mt=ut-pt+1,X=Math.log(vt),he=.5*Math.exp(2*X/3),ee=.5*Math.sqrt(X*he*(vt-he)/vt)*(mt-vt/2<0?-1:1);ht(rt,ut,Math.max(pt,Math.floor(ut-mt*he/vt+ee)),Math.min(R,Math.floor(ut+(vt-mt)*he/vt+ee)),Yt)}var lt=rt[ut],Gt=pt,bt=R;for(F(rt,pt,ut),Yt(rt[R],lt)>0&&F(rt,pt,R);Gt<bt;){for(F(rt,Gt,bt),Gt++,bt--;Yt(rt[Gt],lt)<0;)Gt++;for(;Yt(rt[bt],lt)>0;)bt--}0===Yt(rt[pt],lt)?F(rt,pt,bt):F(rt,++bt,R),bt<=ut&&(pt=bt+1),ut<=bt&&(R=bt-1)}}(ct,Et,W||0,Q||ct.length-1,U||G)}function F(ct,Et,W){var Q=ct[Et];ct[Et]=ct[W],ct[W]=Q}function G(ct,Et){return ct<Et?-1:ct>Et?1:0}var V=function(ct){void 0===ct&&(ct=9),this._maxEntries=Math.max(4,ct),this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries)),this.clear()};function nt(ct,Et,W){if(!W)return Et.indexOf(ct);for(var Q=0;Q<Et.length;Q++)if(W(ct,Et[Q]))return Q;return-1}function dt(ct,Et){ft(ct,0,ct.children.length,Et,ct)}function ft(ct,Et,W,Q,U){U||(U=Ot(null)),U.minX=1/0,U.minY=1/0,U.maxX=-1/0,U.maxY=-1/0;for(var ht=Et;ht<W;ht++){var rt=ct.children[ht];Z(U,ct.leaf?Q(rt):rt)}return U}function Z(ct,Et){return ct.minX=Math.min(ct.minX,Et.minX),ct.minY=Math.min(ct.minY,Et.minY),ct.maxX=Math.max(ct.maxX,Et.maxX),ct.maxY=Math.max(ct.maxY,Et.maxY),ct}function at(ct,Et){return ct.minX-Et.minX}function yt(ct,Et){return ct.minY-Et.minY}function qt(ct){return(ct.maxX-ct.minX)*(ct.maxY-ct.minY)}function te(ct){return ct.maxX-ct.minX+(ct.maxY-ct.minY)}function kt(ct,Et){return ct.minX<=Et.minX&&ct.minY<=Et.minY&&Et.maxX<=ct.maxX&&Et.maxY<=ct.maxY}function Bt(ct,Et){return Et.minX<=ct.maxX&&Et.minY<=ct.maxY&&Et.maxX>=ct.minX&&Et.maxY>=ct.minY}function Ot(ct){return{children:ct,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function re(ct,Et,W,Q,U){for(var ht=[Et,W];ht.length;)if(!((W=ht.pop())-(Et=ht.pop())<=Q)){var rt=Et+Math.ceil((W-Et)/Q/2)*Q;_t(ct,rt,Et,W,U),ht.push(Et,rt,rt,W)}}return V.prototype.all=function(){return this._all(this.data,[])},V.prototype.search=function(ct){var Et=this.data,W=[];if(!Bt(ct,Et))return W;for(var Q=this.toBBox,U=[];Et;){for(var ht=0;ht<Et.children.length;ht++){var rt=Et.children[ht],ut=Et.leaf?Q(rt):rt;Bt(ct,ut)&&(Et.leaf?W.push(rt):kt(ct,ut)?this._all(rt,W):U.push(rt))}Et=U.pop()}return W},V.prototype.collides=function(ct){var Et=this.data;if(!Bt(ct,Et))return!1;for(var W=[];Et;){for(var Q=0;Q<Et.children.length;Q++){var U=Et.children[Q],ht=Et.leaf?this.toBBox(U):U;if(Bt(ct,ht)){if(Et.leaf||kt(ct,ht))return!0;W.push(U)}}Et=W.pop()}return!1},V.prototype.load=function(ct){if(!ct||!ct.length)return this;if(ct.length<this._minEntries){for(var Et=0;Et<ct.length;Et++)this.insert(ct[Et]);return this}var W=this._build(ct.slice(),0,ct.length-1,0);if(this.data.children.length)if(this.data.height===W.height)this._splitRoot(this.data,W);else{if(this.data.height<W.height){var Q=this.data;this.data=W,W=Q}this._insert(W,this.data.height-W.height-1,!0)}else this.data=W;return this},V.prototype.insert=function(ct){return ct&&this._insert(ct,this.data.height-1),this},V.prototype.clear=function(){return this.data=Ot([]),this},V.prototype.remove=function(ct,Et){if(!ct)return this;for(var W,Q,U,ht=this.data,rt=this.toBBox(ct),ut=[],pt=[];ht||ut.length;){if(ht||(ht=ut.pop(),Q=ut[ut.length-1],W=pt.pop(),U=!0),ht.leaf){var R=nt(ct,ht.children,Et);if(-1!==R)return ht.children.splice(R,1),ut.push(ht),this._condense(ut),this}U||ht.leaf||!kt(ht,rt)?Q?(W++,ht=Q.children[W],U=!1):ht=null:(ut.push(ht),pt.push(W),W=0,Q=ht,ht=ht.children[0])}return this},V.prototype.toBBox=function(ct){return ct},V.prototype.compareMinX=function(ct,Et){return ct.minX-Et.minX},V.prototype.compareMinY=function(ct,Et){return ct.minY-Et.minY},V.prototype.toJSON=function(){return this.data},V.prototype.fromJSON=function(ct){return this.data=ct,this},V.prototype._all=function(ct,Et){for(var W=[];ct;)ct.leaf?Et.push.apply(Et,ct.children):W.push.apply(W,ct.children),ct=W.pop();return Et},V.prototype._build=function(ct,Et,W,Q){var U,ht=W-Et+1,rt=this._maxEntries;if(ht<=rt)return dt(U=Ot(ct.slice(Et,W+1)),this.toBBox),U;Q||(Q=Math.ceil(Math.log(ht)/Math.log(rt)),rt=Math.ceil(ht/Math.pow(rt,Q-1))),(U=Ot([])).leaf=!1,U.height=Q;var ut=Math.ceil(ht/rt),pt=ut*Math.ceil(Math.sqrt(rt));re(ct,Et,W,pt,this.compareMinX);for(var R=Et;R<=W;R+=pt){var Yt=Math.min(R+pt-1,W);re(ct,R,Yt,ut,this.compareMinY);for(var vt=R;vt<=Yt;vt+=ut){var mt=Math.min(vt+ut-1,Yt);U.children.push(this._build(ct,vt,mt,Q-1))}}return dt(U,this.toBBox),U},V.prototype._chooseSubtree=function(ct,Et,W,Q){for(;Q.push(Et),!Et.leaf&&Q.length-1!==W;){for(var U=1/0,ht=1/0,rt=void 0,ut=0;ut<Et.children.length;ut++){var pt=Et.children[ut],R=qt(pt),Yt=(vt=ct,mt=pt,(Math.max(mt.maxX,vt.maxX)-Math.min(mt.minX,vt.minX))*(Math.max(mt.maxY,vt.maxY)-Math.min(mt.minY,vt.minY))-R);Yt<ht?(ht=Yt,U=R<U?R:U,rt=pt):Yt===ht&&R<U&&(U=R,rt=pt)}Et=rt||Et.children[0]}var vt,mt;return Et},V.prototype._insert=function(ct,Et,W){var Q=W?ct:this.toBBox(ct),U=[],ht=this._chooseSubtree(Q,this.data,Et,U);for(ht.children.push(ct),Z(ht,Q);Et>=0&&U[Et].children.length>this._maxEntries;)this._split(U,Et),Et--;this._adjustParentBBoxes(Q,U,Et)},V.prototype._split=function(ct,Et){var W=ct[Et],Q=W.children.length,U=this._minEntries;this._chooseSplitAxis(W,U,Q);var ht=this._chooseSplitIndex(W,U,Q),rt=Ot(W.children.splice(ht,W.children.length-ht));rt.height=W.height,rt.leaf=W.leaf,dt(W,this.toBBox),dt(rt,this.toBBox),Et?ct[Et-1].children.push(rt):this._splitRoot(W,rt)},V.prototype._splitRoot=function(ct,Et){this.data=Ot([ct,Et]),this.data.height=ct.height+1,this.data.leaf=!1,dt(this.data,this.toBBox)},V.prototype._chooseSplitIndex=function(ct,Et,W){for(var Q,U,ht,rt,ut,pt,R,Yt=1/0,vt=1/0,mt=Et;mt<=W-Et;mt++){var X=ft(ct,0,mt,this.toBBox),he=ft(ct,mt,W,this.toBBox),ee=(U=X,ht=he,void 0,void 0,void 0,void 0,rt=Math.max(U.minX,ht.minX),ut=Math.max(U.minY,ht.minY),pt=Math.min(U.maxX,ht.maxX),R=Math.min(U.maxY,ht.maxY),Math.max(0,pt-rt)*Math.max(0,R-ut)),H=qt(X)+qt(he);ee<Yt?(Yt=ee,Q=mt,vt=H<vt?H:vt):ee===Yt&&H<vt&&(vt=H,Q=mt)}return Q||W-Et},V.prototype._chooseSplitAxis=function(ct,Et,W){var Q=ct.leaf?this.compareMinX:at,U=ct.leaf?this.compareMinY:yt;this._allDistMargin(ct,Et,W,Q)<this._allDistMargin(ct,Et,W,U)&&ct.children.sort(Q)},V.prototype._allDistMargin=function(ct,Et,W,Q){ct.children.sort(Q);for(var U=this.toBBox,ht=ft(ct,0,Et,U),rt=ft(ct,W-Et,W,U),ut=te(ht)+te(rt),pt=Et;pt<W-Et;pt++){var R=ct.children[pt];Z(ht,ct.leaf?U(R):R),ut+=te(ht)}for(var Yt=W-Et-1;Yt>=Et;Yt--){var vt=ct.children[Yt];Z(rt,ct.leaf?U(vt):vt),ut+=te(rt)}return ut},V.prototype._adjustParentBBoxes=function(ct,Et,W){for(var Q=W;Q>=0;Q--)Z(Et[Q],ct)},V.prototype._condense=function(ct){for(var Et=ct.length-1,W=void 0;Et>=0;Et--)0===ct[Et].children.length?Et>0?(W=ct[Et-1].children).splice(W.indexOf(ct[Et]),1):this.clear():dt(ct[Et],this.toBBox)},V}()},258:(It,_t,F)=>{"use strict";var G,V=F(5891),nt=F(7640),dt=F(1756),ft=F(7933),Z=F(6613),at=F(8413),yt=F(6758),qt=F(5286),te=F(837),kt=F(5764),Bt=F(9039),Ot=F(4981),re=F(975),ct=F(5337),Et=F(4912),W=Function,Q=function(ae){try{return W('"use strict"; return ('+ae+").constructor;")()}catch{}},U=F(3798),ht=F(4570),rt=function(){throw new yt},ut=U?function(){try{return rt}catch{try{return U(arguments,"callee").get}catch{return rt}}}():rt,pt=F(9900)(),R=F(1627),Yt=F(7203),vt=F(7669),mt=F(9477),X=F(9705),he={},ee=typeof Uint8Array>"u"||!R?G:R(Uint8Array),H={__proto__:null,"%AggregateError%":typeof AggregateError>"u"?G:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?G:ArrayBuffer,"%ArrayIteratorPrototype%":pt&&R?R([][Symbol.iterator]()):G,"%AsyncFromSyncIteratorPrototype%":G,"%AsyncFunction%":he,"%AsyncGenerator%":he,"%AsyncGeneratorFunction%":he,"%AsyncIteratorPrototype%":he,"%Atomics%":typeof Atomics>"u"?G:Atomics,"%BigInt%":typeof BigInt>"u"?G:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?G:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?G:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?G:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":nt,"%eval%":eval,"%EvalError%":dt,"%Float16Array%":typeof Float16Array>"u"?G:Float16Array,"%Float32Array%":typeof Float32Array>"u"?G:Float32Array,"%Float64Array%":typeof Float64Array>"u"?G:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?G:FinalizationRegistry,"%Function%":W,"%GeneratorFunction%":he,"%Int8Array%":typeof Int8Array>"u"?G:Int8Array,"%Int16Array%":typeof Int16Array>"u"?G:Int16Array,"%Int32Array%":typeof Int32Array>"u"?G:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":pt&&R?R(R([][Symbol.iterator]())):G,"%JSON%":"object"==typeof JSON?JSON:G,"%Map%":typeof Map>"u"?G:Map,"%MapIteratorPrototype%":typeof Map>"u"||!pt||!R?G:R((new Map)[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":V,"%Object.getOwnPropertyDescriptor%":U,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?G:Promise,"%Proxy%":typeof Proxy>"u"?G:Proxy,"%RangeError%":ft,"%ReferenceError%":Z,"%Reflect%":typeof Reflect>"u"?G:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?G:Set,"%SetIteratorPrototype%":typeof Set>"u"||!pt||!R?G:R((new Set)[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?G:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":pt&&R?R(""[Symbol.iterator]()):G,"%Symbol%":pt?Symbol:G,"%SyntaxError%":at,"%ThrowTypeError%":ut,"%TypedArray%":ee,"%TypeError%":yt,"%Uint8Array%":typeof Uint8Array>"u"?G:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?G:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?G:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?G:Uint32Array,"%URIError%":qt,"%WeakMap%":typeof WeakMap>"u"?G:WeakMap,"%WeakRef%":typeof WeakRef>"u"?G:WeakRef,"%WeakSet%":typeof WeakSet>"u"?G:WeakSet,"%Function.prototype.call%":X,"%Function.prototype.apply%":mt,"%Object.defineProperty%":ht,"%Object.getPrototypeOf%":Yt,"%Math.abs%":te,"%Math.floor%":kt,"%Math.max%":Bt,"%Math.min%":Ot,"%Math.pow%":re,"%Math.round%":ct,"%Math.sign%":Et,"%Reflect.getPrototypeOf%":vt};if(R)try{null.error}catch(ae){var wt=R(R(ae));H["%Error.prototype%"]=wt}var lt=function ae(ke){var nn;if("%AsyncFunction%"===ke)nn=Q("async function () {}");else if("%GeneratorFunction%"===ke)nn=Q("function* () {}");else if("%AsyncGeneratorFunction%"===ke)nn=Q("async function* () {}");else if("%AsyncGenerator%"===ke){var Ue=ae("%AsyncGeneratorFunction%");Ue&&(nn=Ue.prototype)}else if("%AsyncIteratorPrototype%"===ke){var _e=ae("%AsyncGenerator%");_e&&R&&(nn=R(_e.prototype))}return H[ke]=nn,nn},Gt={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},bt=F(5992),J=F(8368),$t=bt.call(X,Array.prototype.concat),Zt=bt.call(mt,Array.prototype.splice),Se=bt.call(X,String.prototype.replace),Vt=bt.call(X,String.prototype.slice),en=bt.call(X,RegExp.prototype.exec),Dn=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,je=/\\(\\)?/g,qe=function(ke,nn){var _e,Ue=ke;if(J(Gt,Ue)&&(Ue="%"+(_e=Gt[Ue])[0]+"%"),J(H,Ue)){var Oe=H[Ue];if(Oe===he&&(Oe=lt(Ue)),typeof Oe>"u"&&!nn)throw new yt("intrinsic "+ke+" exists, but is not available. Please file an issue!");return{alias:_e,name:Ue,value:Oe}}throw new at("intrinsic "+ke+" does not exist!")};It.exports=function(ke,nn){if("string"!=typeof ke||0===ke.length)throw new yt("intrinsic name must be a non-empty string");if(arguments.length>1&&"boolean"!=typeof nn)throw new yt('"allowMissing" argument must be a boolean');if(null===en(/^%?[^%]*%?$/,ke))throw new at("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var Ue=function(ke){var nn=Vt(ke,0,1),Ue=Vt(ke,-1);if("%"===nn&&"%"!==Ue)throw new at("invalid intrinsic syntax, expected closing `%`");if("%"===Ue&&"%"!==nn)throw new at("invalid intrinsic syntax, expected opening `%`");var _e=[];return Se(ke,Dn,function(Oe,cr,Jn,Ki){_e[_e.length]=Jn?Se(Ki,je,"$1"):cr||Oe}),_e}(ke),_e=Ue.length>0?Ue[0]:"",Oe=qe("%"+_e+"%",nn),cr=Oe.name,Jn=Oe.value,Ki=!1,Ae=Oe.alias;Ae&&(_e=Ae[0],Zt(Ue,$t([0,1],Ae)));for(var Rn=1,gi=!0;Rn<Ue.length;Rn+=1){var kr=Ue[Rn],Ni=Vt(kr,0,1),kn=Vt(kr,-1);if(('"'===Ni||"'"===Ni||"`"===Ni||'"'===kn||"'"===kn||"`"===kn)&&Ni!==kn)throw new at("property names with quotes must have matching quotes");if(("constructor"===kr||!gi)&&(Ki=!0),J(H,cr="%"+(_e+="."+kr)+"%"))Jn=H[cr];else if(null!=Jn){if(!(kr in Jn)){if(!nn)throw new yt("base intrinsic for "+ke+" exists, but the property is not available.");return}if(U&&Rn+1>=Ue.length){var se=U(Jn,kr);Jn=(gi=!!se)&&"get"in se&&!("originalValue"in se.get)?se.get:Jn[kr]}else gi=J(Jn,kr),Jn=Jn[kr];gi&&!Ki&&(H[cr]=Jn)}}return Jn}},7203:(It,_t,F)=>{"use strict";var G=F(5891);It.exports=G.getPrototypeOf||null},7669:It=>{"use strict";It.exports=typeof Reflect<"u"&&Reflect.getPrototypeOf||null},1627:(It,_t,F)=>{"use strict";var G=F(7669),V=F(7203),nt=F(3361);It.exports=G?function(ft){return G(ft)}:V?function(ft){if(!ft||"object"!=typeof ft&&"function"!=typeof ft)throw new TypeError("getProto: not an object");return V(ft)}:nt?function(ft){return nt(ft)}:null},2786:It=>{"use strict";It.exports=Object.getOwnPropertyDescriptor},3798:(It,_t,F)=>{"use strict";var G=F(2786);if(G)try{G([],"length")}catch{G=null}It.exports=G},5861:(It,_t,F)=>{"use strict";var G=F(4570),V=function(){return!!G};V.hasArrayLengthDefineBug=function(){if(!G)return null;try{return 1!==G([],"length",{value:1}).length}catch{return!0}},It.exports=V},9900:(It,_t,F)=>{"use strict";var G=typeof Symbol<"u"&&Symbol,V=F(5310);It.exports=function(){return"function"==typeof G&&"function"==typeof Symbol&&"symbol"==typeof G("foo")&&"symbol"==typeof Symbol("bar")&&V()}},5310:It=>{"use strict";It.exports=function(){if("function"!=typeof Symbol||"function"!=typeof Object.getOwnPropertySymbols)return!1;if("symbol"==typeof Symbol.iterator)return!0;var F={},G=Symbol("test"),V=Object(G);if("string"==typeof G||"[object Symbol]"!==Object.prototype.toString.call(G)||"[object Symbol]"!==Object.prototype.toString.call(V))return!1;for(var dt in F[G]=42,F)return!1;if("function"==typeof Object.keys&&0!==Object.keys(F).length||"function"==typeof Object.getOwnPropertyNames&&0!==Object.getOwnPropertyNames(F).length)return!1;var ft=Object.getOwnPropertySymbols(F);if(1!==ft.length||ft[0]!==G||!Object.prototype.propertyIsEnumerable.call(F,G))return!1;if("function"==typeof Object.getOwnPropertyDescriptor){var Z=Object.getOwnPropertyDescriptor(F,G);if(42!==Z.value||!0!==Z.enumerable)return!1}return!0}},8779:(It,_t,F)=>{"use strict";var G=F(5310);It.exports=function(){return G()&&!!Symbol.toStringTag}},8368:(It,_t,F)=>{"use strict";var G=Function.prototype.call,V=Object.prototype.hasOwnProperty,nt=F(5992);It.exports=nt.call(G,V)},573:(It,_t,F)=>{"use strict";var G=F(8779)(),nt=F(2773)("Object.prototype.toString"),dt=function(yt){return!(G&&yt&&"object"==typeof yt&&Symbol.toStringTag in yt)&&"[object Arguments]"===nt(yt)},ft=function(yt){return!!dt(yt)||null!==yt&&"object"==typeof yt&&"length"in yt&&"number"==typeof yt.length&&yt.length>=0&&"[object Array]"!==nt(yt)&&"callee"in yt&&"[object Function]"===nt(yt.callee)},Z=function(){return dt(arguments)}();dt.isLegacyArguments=ft,It.exports=Z?dt:ft},4665:(It,_t,F)=>{"use strict";var G=F(2773),V=G("Date.prototype.getDay"),dt=G("Object.prototype.toString"),Z=F(8779)();It.exports=function(yt){return"object"==typeof yt&&null!==yt&&(Z?function(yt){try{return V(yt),!0}catch{return!1}}(yt):"[object Date]"===dt(yt))}},3290:(It,_t,F)=>{"use strict";var ft,G=F(2773),V=F(8779)(),nt=F(8368),dt=F(3798);if(V){var Z=G("RegExp.prototype.exec"),at={},yt=function(){throw at},qt={toString:yt,valueOf:yt};"symbol"==typeof Symbol.toPrimitive&&(qt[Symbol.toPrimitive]=yt),ft=function(Ot){if(!Ot||"object"!=typeof Ot)return!1;var re=dt(Ot,"lastIndex");if(!re||!nt(re,"value"))return!1;try{Z(Ot,qt)}catch(Et){return Et===at}}}else{var te=G("Object.prototype.toString");ft=function(Ot){return!(!Ot||"object"!=typeof Ot&&"function"!=typeof Ot)&&"[object RegExp]"===te(Ot)}}It.exports=ft},837:It=>{"use strict";It.exports=Math.abs},5764:It=>{"use strict";It.exports=Math.floor},5488:It=>{"use strict";It.exports=Number.isNaN||function(F){return F!=F}},9039:It=>{"use strict";It.exports=Math.max},4981:It=>{"use strict";It.exports=Math.min},975:It=>{"use strict";It.exports=Math.pow},5337:It=>{"use strict";It.exports=Math.round},4912:(It,_t,F)=>{"use strict";var G=F(5488);It.exports=function(nt){return G(nt)||0===nt?nt:nt<0?-1:1}},5931:It=>{"use strict";var _t=Object.getOwnPropertySymbols,F=Object.prototype.hasOwnProperty,G=Object.prototype.propertyIsEnumerable;It.exports=function nt(){try{if(!Object.assign)return!1;var dt=new String("abc");if(dt[5]="de","5"===Object.getOwnPropertyNames(dt)[0])return!1;for(var ft={},Z=0;Z<10;Z++)ft["_"+String.fromCharCode(Z)]=Z;if("0123456789"!==Object.getOwnPropertyNames(ft).map(function(qt){return ft[qt]}).join(""))return!1;var yt={};return"abcdefghijklmnopqrst".split("").forEach(function(qt){yt[qt]=qt}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},yt)).join("")}catch{return!1}}()?Object.assign:function(dt,ft){for(var Z,yt,at=function V(dt){if(null==dt)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(dt)}(dt),qt=1;qt<arguments.length;qt++){for(var te in Z=Object(arguments[qt]))F.call(Z,te)&&(at[te]=Z[te]);if(_t){yt=_t(Z);for(var kt=0;kt<yt.length;kt++)G.call(Z,yt[kt])&&(at[yt[kt]]=Z[yt[kt]])}}return at}},6358:It=>{"use strict";var _t=function(F){return F!=F};It.exports=function(G,V){return 0===G&&0===V?1/G==1/V:!!(G===V||_t(G)&&_t(V))}},7710:(It,_t,F)=>{"use strict";var G=F(947),V=F(8128),nt=F(6358),dt=F(6503),ft=F(953),Z=V(dt(),Object);G(Z,{getPolyfill:dt,implementation:nt,shim:ft}),It.exports=Z},6503:(It,_t,F)=>{"use strict";var G=F(6358);It.exports=function(){return"function"==typeof Object.is?Object.is:G}},953:(It,_t,F)=>{"use strict";var G=F(6503),V=F(947);It.exports=function(){var dt=G();return V(Object,{is:dt},{is:function(){return Object.is!==dt}}),dt}},366:(It,_t,F)=>{"use strict";var G;if(!Object.keys){var V=Object.prototype.hasOwnProperty,nt=Object.prototype.toString,dt=F(1050),ft=Object.prototype.propertyIsEnumerable,Z=!ft.call({toString:null},"toString"),at=ft.call(function(){},"prototype"),yt=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],qt=function(Ot){var re=Ot.constructor;return re&&re.prototype===Ot},te={$applicationCache:!0,$console:!0,$external:!0,$frame:!0,$frameElement:!0,$frames:!0,$innerHeight:!0,$innerWidth:!0,$onmozfullscreenchange:!0,$onmozfullscreenerror:!0,$outerHeight:!0,$outerWidth:!0,$pageXOffset:!0,$pageYOffset:!0,$parent:!0,$scrollLeft:!0,$scrollTop:!0,$scrollX:!0,$scrollY:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},kt=function(){if(typeof window>"u")return!1;for(var Ot in window)try{if(!te["$"+Ot]&&V.call(window,Ot)&&null!==window[Ot]&&"object"==typeof window[Ot])try{qt(window[Ot])}catch{return!0}}catch{return!0}return!1}();G=function(re){var ct=null!==re&&"object"==typeof re,Et="[object Function]"===nt.call(re),W=dt(re),Q=ct&&"[object String]"===nt.call(re),U=[];if(!ct&&!Et&&!W)throw new TypeError("Object.keys called on a non-object");var ht=at&&Et;if(Q&&re.length>0&&!V.call(re,0))for(var rt=0;rt<re.length;++rt)U.push(String(rt));if(W&&re.length>0)for(var ut=0;ut<re.length;++ut)U.push(String(ut));else for(var pt in re)(!ht||"prototype"!==pt)&&V.call(re,pt)&&U.push(String(pt));if(Z)for(var R=function(Ot){if(typeof window>"u"||!kt)return qt(Ot);try{return qt(Ot)}catch{return!1}}(re),Yt=0;Yt<yt.length;++Yt)(!R||"constructor"!==yt[Yt])&&V.call(re,yt[Yt])&&U.push(yt[Yt]);return U}}It.exports=G},4934:(It,_t,F)=>{"use strict";var G=Array.prototype.slice,V=F(1050),nt=Object.keys,dt=nt?function(at){return nt(at)}:F(366),ft=Object.keys;dt.shim=function(){if(Object.keys){var at=function(){var yt=Object.keys(arguments);return yt&&yt.length===arguments.length}(1,2);at||(Object.keys=function(qt){return V(qt)?ft(G.call(qt)):ft(qt)})}else Object.keys=dt;return Object.keys||dt},It.exports=dt},1050:It=>{"use strict";var _t=Object.prototype.toString;It.exports=function(G){var V=_t.call(G),nt="[object Arguments]"===V;return nt||(nt="[object Array]"!==V&&null!==G&&"object"==typeof G&&"number"==typeof G.length&&G.length>=0&&"[object Function]"===_t.call(G.callee)),nt}},6326:It=>{It.exports=function(F,G,V,nt){var dt=F[0],ft=F[1],Z=!1;void 0===V&&(V=0),void 0===nt&&(nt=G.length);for(var at=(nt-V)/2,yt=0,qt=at-1;yt<at;qt=yt++){var te=G[V+2*yt+0],kt=G[V+2*yt+1],Ot=G[V+2*qt+1];kt>ft!=Ot>ft&&dt<(G[V+2*qt+0]-te)*(ft-kt)/(Ot-kt)+te&&(Z=!Z)}return Z}},8681:(It,_t,F)=>{var G=F(6326),V=F(6734);It.exports=function(dt,ft,Z,at){return ft.length>0&&Array.isArray(ft[0])?V(dt,ft,Z,at):G(dt,ft,Z,at)},It.exports.nested=V,It.exports.flat=G},6734:It=>{It.exports=function(F,G,V,nt){var dt=F[0],ft=F[1],Z=!1;void 0===V&&(V=0),void 0===nt&&(nt=G.length);for(var at=nt-V,yt=0,qt=at-1;yt<at;qt=yt++){var te=G[yt+V][0],kt=G[yt+V][1],Ot=G[qt+V][1];kt>ft!=Ot>ft&&dt<(G[qt+V][0]-te)*(ft-kt)/(Ot-kt)+te&&(Z=!Z)}return Z}},5985:function(It){It.exports=function(){"use strict";function _t(xt,P){var z,tt,j,zt,M={label:0,sent:function(){if(1&j[0])throw j[1];return j[1]},trys:[],ops:[]};return zt={next:Rt(0),throw:Rt(1),return:Rt(2)},"function"==typeof Symbol&&(zt[Symbol.iterator]=function(){return this}),zt;function Rt(Ht){return function(ce){return function Xt(Ht){if(z)throw new TypeError("Generator is already executing.");for(;M;)try{if(z=1,tt&&(j=2&Ht[0]?tt.return:Ht[0]?tt.throw||((j=tt.return)&&j.call(tt),0):tt.next)&&!(j=j.call(tt,Ht[1])).done)return j;switch(tt=0,j&&(Ht=[2&Ht[0],j.value]),Ht[0]){case 0:case 1:j=Ht;break;case 4:return M.label++,{value:Ht[1],done:!1};case 5:M.label++,tt=Ht[1],Ht=[0];continue;case 7:Ht=M.ops.pop(),M.trys.pop();continue;default:if(!(j=(j=M.trys).length>0&&j[j.length-1])&&(6===Ht[0]||2===Ht[0])){M=0;continue}if(3===Ht[0]&&(!j||Ht[1]>j[0]&&Ht[1]<j[3])){M.label=Ht[1];break}if(6===Ht[0]&&M.label<j[1]){M.label=j[1],j=Ht;break}if(j&&M.label<j[2]){M.label=j[2],M.ops.push(Ht);break}j[2]&&M.ops.pop(),M.trys.pop();continue}Ht=P.call(xt,M)}catch(ce){Ht=[6,ce],tt=0}finally{z=j=0}if(5&Ht[0])throw Ht[1];return{value:Ht[0]?Ht[1]:void 0,done:!0}}([Ht,ce])}}}var F=function xt(P,M){this.next=null,this.key=P,this.data=M,this.left=null,this.right=null};function G(xt,P){return xt>P?1:xt<P?-1:0}function V(xt,P,M){for(var z=new F(null,null),tt=z,j=z;;){var zt=M(xt,P.key);if(zt<0){if(null===P.left)break;if(M(xt,P.left.key)<0&&(P.left=(Rt=P.left).right,Rt.right=P,null===(P=Rt).left))break;j.left=P,j=P,P=P.left}else{if(!(zt>0))break;if(null===P.right)break;var Rt;if(M(xt,P.right.key)>0&&(P.right=(Rt=P.right).left,Rt.left=P,null===(P=Rt).right))break;tt.right=P,tt=P,P=P.right}}return tt.right=P.left,j.left=P.right,P.left=z.right,P.right=z.left,P}function nt(xt,P,M,z){var tt=new F(xt,P);if(null===M)return tt.left=tt.right=null,tt;var j=z(xt,(M=V(xt,M,z)).key);return j<0?(tt.left=M.left,tt.right=M,M.left=null):j>=0&&(tt.right=M.right,tt.left=M,M.right=null),tt}function dt(xt,P,M){var z=null,tt=null;if(P){var j=M((P=V(xt,P,M)).key,xt);0===j?(z=P.left,tt=P.right):j<0?(tt=P.right,P.right=null,z=P):(z=P.left,P.left=null,tt=P)}return{left:z,right:tt}}function Z(xt,P,M,z,tt){if(xt){z(P+(M?"\u2514\u2500\u2500 ":"\u251c\u2500\u2500 ")+tt(xt)+"\n");var j=P+(M?"    ":"\u2502   ");xt.left&&Z(xt.left,j,!1,z,tt),xt.right&&Z(xt.right,j,!0,z,tt)}}var at=function(){function xt(P){void 0===P&&(P=G),this._root=null,this._size=0,this._comparator=P}return xt.prototype.insert=function(P,M){return this._size++,this._root=nt(P,M,this._root,this._comparator)},xt.prototype.add=function(P,M){var z=new F(P,M);null===this._root&&(z.left=z.right=null,this._size++,this._root=z);var tt=this._comparator,j=V(P,this._root,tt),zt=tt(P,j.key);return 0===zt?this._root=j:(zt<0?(z.left=j.left,z.right=j,j.left=null):zt>0&&(z.right=j.right,z.left=j,j.right=null),this._size++,this._root=z),this._root},xt.prototype.remove=function(P){this._root=this._remove(P,this._root,this._comparator)},xt.prototype._remove=function(P,M,z){var tt;return null===M?null:0===z(P,(M=V(P,M,z)).key)?(null===M.left?tt=M.right:(tt=V(P,M.left,z)).right=M.right,this._size--,tt):M},xt.prototype.pop=function(){var P=this._root;if(P){for(;P.left;)P=P.left;return this._root=V(P.key,this._root,this._comparator),this._root=this._remove(P.key,this._root,this._comparator),{key:P.key,data:P.data}}return null},xt.prototype.findStatic=function(P){for(var M=this._root,z=this._comparator;M;){var tt=z(P,M.key);if(0===tt)return M;M=tt<0?M.left:M.right}return null},xt.prototype.find=function(P){return this._root&&(this._root=V(P,this._root,this._comparator),0!==this._comparator(P,this._root.key))?null:this._root},xt.prototype.contains=function(P){for(var M=this._root,z=this._comparator;M;){var tt=z(P,M.key);if(0===tt)return!0;M=tt<0?M.left:M.right}return!1},xt.prototype.forEach=function(P,M){for(var z=this._root,tt=[],j=!1;!j;)null!==z?(tt.push(z),z=z.left):0!==tt.length?(z=tt.pop(),P.call(M,z),z=z.right):j=!0;return this},xt.prototype.range=function(P,M,z,tt){for(var j=[],zt=this._comparator,Rt=this._root;0!==j.length||Rt;)if(Rt)j.push(Rt),Rt=Rt.left;else{if(zt((Rt=j.pop()).key,M)>0)break;if(zt(Rt.key,P)>=0&&z.call(tt,Rt))return this;Rt=Rt.right}return this},xt.prototype.keys=function(){var P=[];return this.forEach(function(M){return P.push(M.key)}),P},xt.prototype.values=function(){var P=[];return this.forEach(function(M){return P.push(M.data)}),P},xt.prototype.min=function(){return this._root?this.minNode(this._root).key:null},xt.prototype.max=function(){return this._root?this.maxNode(this._root).key:null},xt.prototype.minNode=function(P){if(void 0===P&&(P=this._root),P)for(;P.left;)P=P.left;return P},xt.prototype.maxNode=function(P){if(void 0===P&&(P=this._root),P)for(;P.right;)P=P.right;return P},xt.prototype.at=function(P){for(var M=this._root,z=!1,tt=0,j=[];!z;)if(M)j.push(M),M=M.left;else if(j.length>0){if(M=j.pop(),tt===P)return M;tt++,M=M.right}else z=!0;return null},xt.prototype.next=function(P){var M=this._root,z=null;if(P.right){for(z=P.right;z.left;)z=z.left;return z}for(var tt=this._comparator;M;){var j=tt(P.key,M.key);if(0===j)break;j<0?(z=M,M=M.left):M=M.right}return z},xt.prototype.prev=function(P){var M=this._root,z=null;if(null!==P.left){for(z=P.left;z.right;)z=z.right;return z}for(var tt=this._comparator;M;){var j=tt(P.key,M.key);if(0===j)break;j<0?M=M.left:(z=M,M=M.right)}return z},xt.prototype.clear=function(){return this._root=null,this._size=0,this},xt.prototype.toList=function(){return function te(xt){for(var P=xt,M=[],z=!1,tt=new F(null,null),j=tt;!z;)P?(M.push(P),P=P.left):M.length>0?P=(P=j=j.next=M.pop()).right:z=!0;return j.next=null,tt.next}(this._root)},xt.prototype.load=function(P,M,z){void 0===M&&(M=[]),void 0===z&&(z=!1);var tt=P.length,j=this._comparator;if(z&&Ot(P,M,0,tt-1,j),null===this._root)this._root=yt(P,M,0,tt),this._size=tt;else{var zt=function Bt(xt,P,M){for(var z=new F(null,null),tt=z,j=xt,zt=P;null!==j&&null!==zt;)M(j.key,zt.key)<0?(tt.next=j,j=j.next):(tt.next=zt,zt=zt.next),tt=tt.next;return null!==j?tt.next=j:null!==zt&&(tt.next=zt),z.next}(this.toList(),function qt(xt,P){for(var M=new F(null,null),z=M,tt=0;tt<xt.length;tt++)z=z.next=new F(xt[tt],P[tt]);return z.next=null,M.next}(P,M),j);this._root=kt({head:zt},0,tt=this._size+tt)}return this},xt.prototype.isEmpty=function(){return null===this._root},Object.defineProperty(xt.prototype,"size",{get:function(){return this._size},enumerable:!0,configurable:!0}),Object.defineProperty(xt.prototype,"root",{get:function(){return this._root},enumerable:!0,configurable:!0}),xt.prototype.toString=function(P){void 0===P&&(P=function(z){return String(z.key)});var M=[];return Z(this._root,"",!0,function(z){return M.push(z)},P),M.join("")},xt.prototype.update=function(P,M,z){var tt=this._comparator,j=dt(P,this._root,tt),zt=j.left,Rt=j.right;tt(P,M)<0?Rt=nt(M,z,Rt,tt):zt=nt(M,z,zt,tt),this._root=function ft(xt,P,M){return null===P?xt:(null===xt||((P=V(xt.key,P,M)).left=xt),P)}(zt,Rt,tt)},xt.prototype.split=function(P){return dt(P,this._root,this._comparator)},xt.prototype[Symbol.iterator]=function(){var P,M,z;return _t(this,function(tt){switch(tt.label){case 0:P=this._root,M=[],z=!1,tt.label=1;case 1:return z?[3,6]:null===P?[3,2]:(M.push(P),P=P.left,[3,5]);case 2:return 0===M.length?[3,4]:[4,P=M.pop()];case 3:return tt.sent(),P=P.right,[3,5];case 4:z=!0,tt.label=5;case 5:return[3,1];case 6:return[2]}})},xt}();function yt(xt,P,M,z){var tt=z-M;if(tt>0){var j=M+Math.floor(tt/2),Xt=new F(xt[j],P[j]);return Xt.left=yt(xt,P,M,j),Xt.right=yt(xt,P,j+1,z),Xt}return null}function kt(xt,P,M){var z=M-P;if(z>0){var tt=P+Math.floor(z/2),j=kt(xt,P,tt),zt=xt.head;return zt.left=j,xt.head=xt.head.next,zt.right=kt(xt,tt+1,M),zt}return null}function Ot(xt,P,M,z,tt){if(!(M>=z)){for(var j=xt[M+z>>1],zt=M-1,Rt=z+1;;){do{zt++}while(tt(xt[zt],j)<0);do{Rt--}while(tt(xt[Rt],j)>0);if(zt>=Rt)break;var Xt=xt[zt];xt[zt]=xt[Rt],xt[Rt]=Xt,Xt=P[zt],P[zt]=P[Rt],P[Rt]=Xt}Ot(xt,P,M,Rt,tt),Ot(xt,P,Rt+1,z,tt)}}const re=(xt,P)=>xt.ll.x<=P.x&&P.x<=xt.ur.x&&xt.ll.y<=P.y&&P.y<=xt.ur.y,ct=(xt,P)=>P.ur.x<xt.ll.x||xt.ur.x<P.ll.x||P.ur.y<xt.ll.y||xt.ur.y<P.ll.y?null:{ll:{x:xt.ll.x<P.ll.x?P.ll.x:xt.ll.x,y:xt.ll.y<P.ll.y?P.ll.y:xt.ll.y},ur:{x:xt.ur.x<P.ur.x?xt.ur.x:P.ur.x,y:xt.ur.y<P.ur.y?xt.ur.y:P.ur.y}};let Et=Number.EPSILON;void 0===Et&&(Et=Math.pow(2,-52));const W=Et*Et,Q=(xt,P)=>{if(-Et<xt&&xt<Et&&-Et<P&&P<Et)return 0;const M=xt-P;return M*M<W*xt*P?0:xt<P?-1:1};class ht{constructor(){this.tree=new at,this.round(0)}round(P){const M=this.tree.add(P),z=this.tree.prev(M);if(null!==z&&0===Q(M.key,z.key))return this.tree.remove(P),z.key;const tt=this.tree.next(M);return null!==tt&&0===Q(M.key,tt.key)?(this.tree.remove(P),tt.key):P}}const rt=new class U{constructor(){this.reset()}reset(){this.xRounder=new ht,this.yRounder=new ht}round(P,M){return{x:this.xRounder.round(P),y:this.yRounder.round(M)}}},ut=11102230246251565e-32,pt=134217729,R=(3+8*ut)*ut;function Yt(xt,P,M,z,tt){let j,zt,Rt,Xt,Ht=P[0],ce=z[0],$=0,Qt=0;ce>Ht==ce>-Ht?(j=Ht,Ht=P[++$]):(j=ce,ce=z[++Qt]);let le=0;if($<xt&&Qt<M)for(ce>Ht==ce>-Ht?(zt=Ht+j,Rt=j-(zt-Ht),Ht=P[++$]):(zt=ce+j,Rt=j-(zt-ce),ce=z[++Qt]),j=zt,0!==Rt&&(tt[le++]=Rt);$<xt&&Qt<M;)ce>Ht==ce>-Ht?(zt=j+Ht,Xt=zt-j,Rt=j-(zt-Xt)+(Ht-Xt),Ht=P[++$]):(zt=j+ce,Xt=zt-j,Rt=j-(zt-Xt)+(ce-Xt),ce=z[++Qt]),j=zt,0!==Rt&&(tt[le++]=Rt);for(;$<xt;)zt=j+Ht,Xt=zt-j,Rt=j-(zt-Xt)+(Ht-Xt),Ht=P[++$],j=zt,0!==Rt&&(tt[le++]=Rt);for(;Qt<M;)zt=j+ce,Xt=zt-j,Rt=j-(zt-Xt)+(ce-Xt),ce=z[++Qt],j=zt,0!==Rt&&(tt[le++]=Rt);return(0!==j||0===le)&&(tt[le++]=j),le}function mt(xt){return new Float64Array(xt)}const he=(2+12*ut)*ut,ee=(9+64*ut)*ut*ut,H=mt(4),wt=mt(8),lt=mt(12),Gt=mt(16),bt=mt(4);function $t(xt,P,M,z,tt,j){const zt=(P-j)*(M-tt),Rt=(xt-tt)*(z-j),Xt=zt-Rt,Ht=Math.abs(zt+Rt);return Math.abs(Xt)>=33306690738754716e-32*Ht?Xt:-function J(xt,P,M,z,tt,j,zt){let Rt,Xt,Ht,ce,$,Qt,le,oe,Te,rn,ze,Un,jt,sr,Wr,Qn,fr,Er;const Pr=xt-tt,Be=M-tt,Ke=P-j,ar=z-j;sr=Pr*ar,Qt=pt*Pr,le=Qt-(Qt-Pr),oe=Pr-le,Qt=pt*ar,Te=Qt-(Qt-ar),rn=ar-Te,Wr=oe*rn-(sr-le*Te-oe*Te-le*rn),Qn=Ke*Be,Qt=pt*Ke,le=Qt-(Qt-Ke),oe=Ke-le,Qt=pt*Be,Te=Qt-(Qt-Be),rn=Be-Te,fr=oe*rn-(Qn-le*Te-oe*Te-le*rn),ze=Wr-fr,$=Wr-ze,H[0]=Wr-(ze+$)+($-fr),Un=sr+ze,$=Un-sr,jt=sr-(Un-$)+(ze-$),ze=jt-Qn,$=jt-ze,H[1]=jt-(ze+$)+($-Qn),Er=Un+ze,$=Er-Un,H[2]=Un-(Er-$)+(ze-$),H[3]=Er;let xr=function vt(xt,P){let M=P[0];for(let z=1;z<xt;z++)M+=P[z];return M}(4,H),hr=he*zt;if(xr>=hr||-xr>=hr||($=xt-Pr,Rt=xt-(Pr+$)+($-tt),$=M-Be,Ht=M-(Be+$)+($-tt),$=P-Ke,Xt=P-(Ke+$)+($-j),$=z-ar,ce=z-(ar+$)+($-j),0===Rt&&0===Xt&&0===Ht&&0===ce)||(hr=ee*zt+R*Math.abs(xr),xr+=Pr*ce+ar*Rt-(Ke*Ht+Be*Xt),xr>=hr||-xr>=hr))return xr;sr=Rt*ar,Qt=pt*Rt,le=Qt-(Qt-Rt),oe=Rt-le,Qt=pt*ar,Te=Qt-(Qt-ar),rn=ar-Te,Wr=oe*rn-(sr-le*Te-oe*Te-le*rn),Qn=Xt*Be,Qt=pt*Xt,le=Qt-(Qt-Xt),oe=Xt-le,Qt=pt*Be,Te=Qt-(Qt-Be),rn=Be-Te,fr=oe*rn-(Qn-le*Te-oe*Te-le*rn),ze=Wr-fr,$=Wr-ze,bt[0]=Wr-(ze+$)+($-fr),Un=sr+ze,$=Un-sr,jt=sr-(Un-$)+(ze-$),ze=jt-Qn,$=jt-ze,bt[1]=jt-(ze+$)+($-Qn),Er=Un+ze,$=Er-Un,bt[2]=Un-(Er-$)+(ze-$),bt[3]=Er;const So=Yt(4,H,4,bt,wt);sr=Pr*ce,Qt=pt*Pr,le=Qt-(Qt-Pr),oe=Pr-le,Qt=pt*ce,Te=Qt-(Qt-ce),rn=ce-Te,Wr=oe*rn-(sr-le*Te-oe*Te-le*rn),Qn=Ke*Ht,Qt=pt*Ke,le=Qt-(Qt-Ke),oe=Ke-le,Qt=pt*Ht,Te=Qt-(Qt-Ht),rn=Ht-Te,fr=oe*rn-(Qn-le*Te-oe*Te-le*rn),ze=Wr-fr,$=Wr-ze,bt[0]=Wr-(ze+$)+($-fr),Un=sr+ze,$=Un-sr,jt=sr-(Un-$)+(ze-$),ze=jt-Qn,$=jt-ze,bt[1]=jt-(ze+$)+($-Qn),Er=Un+ze,$=Er-Un,bt[2]=Un-(Er-$)+(ze-$),bt[3]=Er;const di=Yt(So,wt,4,bt,lt);sr=Rt*ce,Qt=pt*Rt,le=Qt-(Qt-Rt),oe=Rt-le,Qt=pt*ce,Te=Qt-(Qt-ce),rn=ce-Te,Wr=oe*rn-(sr-le*Te-oe*Te-le*rn),Qn=Xt*Ht,Qt=pt*Xt,le=Qt-(Qt-Xt),oe=Xt-le,Qt=pt*Ht,Te=Qt-(Qt-Ht),rn=Ht-Te,fr=oe*rn-(Qn-le*Te-oe*Te-le*rn),ze=Wr-fr,$=Wr-ze,bt[0]=Wr-(ze+$)+($-fr),Un=sr+ze,$=Un-sr,jt=sr-(Un-$)+(ze-$),ze=jt-Qn,$=jt-ze,bt[1]=jt-(ze+$)+($-Qn),Er=Un+ze,$=Er-Un,bt[2]=Un-(Er-$)+(ze-$),bt[3]=Er;const Ps=Yt(di,lt,4,bt,Gt);return Gt[Ps-1]}(xt,P,M,z,tt,j,Ht)}const Zt=(xt,P)=>xt.x*P.y-xt.y*P.x,Se=(xt,P)=>xt.x*P.x+xt.y*P.y,Vt=(xt,P,M)=>{const z=$t(xt.x,xt.y,P.x,P.y,M.x,M.y);return z>0?-1:z<0?1:0},en=xt=>Math.sqrt(Se(xt,xt)),Dn=(xt,P,M)=>{const z={x:P.x-xt.x,y:P.y-xt.y},tt={x:M.x-xt.x,y:M.y-xt.y};return Zt(tt,z)/en(tt)/en(z)},je=(xt,P,M)=>{const z={x:P.x-xt.x,y:P.y-xt.y},tt={x:M.x-xt.x,y:M.y-xt.y};return Se(tt,z)/en(tt)/en(z)},Xe=(xt,P,M)=>0===P.y?null:{x:xt.x+P.x/P.y*(M-xt.y),y:M},qe=(xt,P,M)=>0===P.x?null:{x:M,y:xt.y+P.y/P.x*(M-xt.x)};class ke{static compare(P,M){const z=ke.comparePoints(P.point,M.point);return 0!==z?z:(P.point!==M.point&&P.link(M),P.isLeft!==M.isLeft?P.isLeft?1:-1:Ue.compare(P.segment,M.segment))}static comparePoints(P,M){return P.x<M.x?-1:P.x>M.x?1:P.y<M.y?-1:P.y>M.y?1:0}constructor(P,M){void 0===P.events?P.events=[this]:P.events.push(this),this.point=P,this.isLeft=M}link(P){if(P.point===this.point)throw new Error("Tried to link already linked events");const M=P.point.events;for(let z=0,tt=M.length;z<tt;z++){const j=M[z];this.point.events.push(j),j.point=this.point}this.checkForConsuming()}checkForConsuming(){const P=this.point.events.length;for(let M=0;M<P;M++){const z=this.point.events[M];if(void 0===z.segment.consumedBy)for(let tt=M+1;tt<P;tt++){const j=this.point.events[tt];void 0===j.consumedBy&&z.otherSE.point.events===j.otherSE.point.events&&z.segment.consume(j.segment)}}}getAvailableLinkedEvents(){const P=[];for(let M=0,z=this.point.events.length;M<z;M++){const tt=this.point.events[M];tt!==this&&!tt.segment.ringOut&&tt.segment.isInResult()&&P.push(tt)}return P}getLeftmostComparator(P){const M=new Map,z=tt=>{const j=tt.otherSE;M.set(tt,{sine:Dn(this.point,P.point,j.point),cosine:je(this.point,P.point,j.point)})};return(tt,j)=>{M.has(tt)||z(tt),M.has(j)||z(j);const{sine:zt,cosine:Rt}=M.get(tt),{sine:Xt,cosine:Ht}=M.get(j);return zt>=0&&Xt>=0?Rt<Ht?1:Rt>Ht?-1:0:zt<0&&Xt<0?Rt<Ht?-1:Rt>Ht?1:0:Xt<zt?-1:Xt>zt?1:0}}}let nn=0;class Ue{static compare(P,M){const z=P.leftSE.point.x,tt=M.leftSE.point.x,j=P.rightSE.point.x,zt=M.rightSE.point.x;if(zt<z)return 1;if(j<tt)return-1;const Rt=P.leftSE.point.y,Xt=M.leftSE.point.y,Ht=P.rightSE.point.y,ce=M.rightSE.point.y;if(z<tt){if(Xt<Rt&&Xt<Ht)return 1;if(Xt>Rt&&Xt>Ht)return-1;const $=P.comparePoint(M.leftSE.point);if($<0)return 1;if($>0)return-1;const Qt=M.comparePoint(P.rightSE.point);return 0!==Qt?Qt:-1}if(z>tt){if(Rt<Xt&&Rt<ce)return-1;if(Rt>Xt&&Rt>ce)return 1;const $=M.comparePoint(P.leftSE.point);if(0!==$)return $;const Qt=P.comparePoint(M.rightSE.point);return Qt<0?1:Qt>0?-1:1}if(Rt<Xt)return-1;if(Rt>Xt)return 1;if(j<zt){const $=M.comparePoint(P.rightSE.point);if(0!==$)return $}if(j>zt){const $=P.comparePoint(M.rightSE.point);if($<0)return 1;if($>0)return-1}if(j!==zt){const $=Ht-Rt,Qt=j-z,le=ce-Xt,oe=zt-tt;if($>Qt&&le<oe)return 1;if($<Qt&&le>oe)return-1}return j>zt?1:j<zt||Ht<ce?-1:Ht>ce?1:P.id<M.id?-1:P.id>M.id?1:0}constructor(P,M,z,tt){this.id=++nn,this.leftSE=P,P.segment=this,P.otherSE=M,this.rightSE=M,M.segment=this,M.otherSE=P,this.rings=z,this.windings=tt}static fromRing(P,M,z){let tt,j,zt;const Rt=ke.comparePoints(P,M);if(Rt<0)tt=P,j=M,zt=1;else{if(!(Rt>0))throw new Error(`Tried to create degenerate segment at [${P.x}, ${P.y}]`);tt=M,j=P,zt=-1}const Xt=new ke(tt,!0),Ht=new ke(j,!1);return new Ue(Xt,Ht,[z],[zt])}replaceRightSE(P){this.rightSE=P,this.rightSE.segment=this,this.rightSE.otherSE=this.leftSE,this.leftSE.otherSE=this.rightSE}bbox(){const P=this.leftSE.point.y,M=this.rightSE.point.y;return{ll:{x:this.leftSE.point.x,y:P<M?P:M},ur:{x:this.rightSE.point.x,y:P>M?P:M}}}vector(){return{x:this.rightSE.point.x-this.leftSE.point.x,y:this.rightSE.point.y-this.leftSE.point.y}}isAnEndpoint(P){return P.x===this.leftSE.point.x&&P.y===this.leftSE.point.y||P.x===this.rightSE.point.x&&P.y===this.rightSE.point.y}comparePoint(P){if(this.isAnEndpoint(P))return 0;const M=this.leftSE.point,z=this.rightSE.point,tt=this.vector();if(M.x===z.x)return P.x===M.x?0:P.x<M.x?1:-1;if(P.x===M.x+(P.y-M.y)/tt.y*tt.x)return 0;const Xt=M.y+(P.x-M.x)/tt.x*tt.y;return P.y===Xt?0:P.y<Xt?-1:1}getIntersection(P){const M=this.bbox(),z=P.bbox(),tt=ct(M,z);if(null===tt)return null;const j=this.leftSE.point,zt=this.rightSE.point,Rt=P.leftSE.point,Xt=P.rightSE.point,Ht=re(M,Rt)&&0===this.comparePoint(Rt),ce=re(z,j)&&0===P.comparePoint(j),$=re(M,Xt)&&0===this.comparePoint(Xt),Qt=re(z,zt)&&0===P.comparePoint(zt);if(ce&&Ht)return Qt&&!$?zt:!Qt&&$?Xt:null;if(ce)return $&&j.x===Xt.x&&j.y===Xt.y?null:j;if(Ht)return Qt&&zt.x===Rt.x&&zt.y===Rt.y?null:Rt;if(Qt&&$)return null;if(Qt)return zt;if($)return Xt;const le=((xt,P,M,z)=>{if(0===P.x)return qe(M,z,xt.x);if(0===z.x)return qe(xt,P,M.x);if(0===P.y)return Xe(M,z,xt.y);if(0===z.y)return Xe(xt,P,M.y);const tt=Zt(P,z);if(0==tt)return null;const j={x:M.x-xt.x,y:M.y-xt.y},zt=Zt(j,P)/tt,Rt=Zt(j,z)/tt;return{x:(xt.x+Rt*P.x+(M.x+zt*z.x))/2,y:(xt.y+Rt*P.y+(M.y+zt*z.y))/2}})(j,this.vector(),Rt,P.vector());return null!==le&&re(tt,le)?rt.round(le.x,le.y):null}split(P){const M=[],z=void 0!==P.events,tt=new ke(P,!0),j=new ke(P,!1),zt=this.rightSE;this.replaceRightSE(j),M.push(j),M.push(tt);const Rt=new Ue(tt,zt,this.rings.slice(),this.windings.slice());return ke.comparePoints(Rt.leftSE.point,Rt.rightSE.point)>0&&Rt.swapEvents(),ke.comparePoints(this.leftSE.point,this.rightSE.point)>0&&this.swapEvents(),z&&(tt.checkForConsuming(),j.checkForConsuming()),M}swapEvents(){const P=this.rightSE;this.rightSE=this.leftSE,this.leftSE=P,this.leftSE.isLeft=!0,this.rightSE.isLeft=!1;for(let M=0,z=this.windings.length;M<z;M++)this.windings[M]*=-1}consume(P){let M=this,z=P;for(;M.consumedBy;)M=M.consumedBy;for(;z.consumedBy;)z=z.consumedBy;const tt=Ue.compare(M,z);if(0!==tt){if(tt>0){const j=M;M=z,z=j}if(M.prev===z){const j=M;M=z,z=j}for(let j=0,zt=z.rings.length;j<zt;j++){const Rt=z.rings[j],Xt=z.windings[j],Ht=M.rings.indexOf(Rt);-1===Ht?(M.rings.push(Rt),M.windings.push(Xt)):M.windings[Ht]+=Xt}z.rings=null,z.windings=null,z.consumedBy=M,z.leftSE.consumedBy=M.leftSE,z.rightSE.consumedBy=M.rightSE}}prevInResult(){return void 0!==this._prevInResult||(this._prevInResult=this.prev?this.prev.isInResult()?this.prev:this.prev.prevInResult():null),this._prevInResult}beforeState(){return void 0!==this._beforeState||(this._beforeState=this.prev?(this.prev.consumedBy||this.prev).afterState():{rings:[],windings:[],multiPolys:[]}),this._beforeState}afterState(){if(void 0!==this._afterState)return this._afterState;const P=this.beforeState();this._afterState={rings:P.rings.slice(0),windings:P.windings.slice(0),multiPolys:[]};const M=this._afterState.rings,z=this._afterState.windings,tt=this._afterState.multiPolys;for(let Rt=0,Xt=this.rings.length;Rt<Xt;Rt++){const Ht=this.rings[Rt],ce=this.windings[Rt],$=M.indexOf(Ht);-1===$?(M.push(Ht),z.push(ce)):z[$]+=ce}const j=[],zt=[];for(let Rt=0,Xt=M.length;Rt<Xt;Rt++){if(0===z[Rt])continue;const Ht=M[Rt],ce=Ht.poly;if(-1===zt.indexOf(ce))if(Ht.isExterior)j.push(ce);else{-1===zt.indexOf(ce)&&zt.push(ce);const $=j.indexOf(Ht.poly);-1!==$&&j.splice($,1)}}for(let Rt=0,Xt=j.length;Rt<Xt;Rt++){const Ht=j[Rt].multiPoly;-1===tt.indexOf(Ht)&&tt.push(Ht)}return this._afterState}isInResult(){if(this.consumedBy)return!1;if(void 0!==this._isInResult)return this._isInResult;const P=this.beforeState().multiPolys,M=this.afterState().multiPolys;switch(kn.type){case"union":this._isInResult=0===P.length!=(0===M.length);break;case"intersection":{let z,tt;P.length<M.length?(z=P.length,tt=M.length):(z=M.length,tt=P.length),this._isInResult=tt===kn.numMultiPolys&&z<tt;break}case"xor":{const z=Math.abs(P.length-M.length);this._isInResult=z%2==1;break}case"difference":{const z=tt=>1===tt.length&&tt[0].isSubject;this._isInResult=z(P)!==z(M);break}default:throw new Error(`Unrecognized operation type found ${kn.type}`)}return this._isInResult}}class _e{constructor(P,M,z){if(!Array.isArray(P)||0===P.length)throw new Error("Input geometry is not a valid Polygon or MultiPolygon");if(this.poly=M,this.isExterior=z,this.segments=[],"number"!=typeof P[0][0]||"number"!=typeof P[0][1])throw new Error("Input geometry is not a valid Polygon or MultiPolygon");const tt=rt.round(P[0][0],P[0][1]);this.bbox={ll:{x:tt.x,y:tt.y},ur:{x:tt.x,y:tt.y}};let j=tt;for(let zt=1,Rt=P.length;zt<Rt;zt++){if("number"!=typeof P[zt][0]||"number"!=typeof P[zt][1])throw new Error("Input geometry is not a valid Polygon or MultiPolygon");let Xt=rt.round(P[zt][0],P[zt][1]);Xt.x===j.x&&Xt.y===j.y||(this.segments.push(Ue.fromRing(j,Xt,this)),Xt.x<this.bbox.ll.x&&(this.bbox.ll.x=Xt.x),Xt.y<this.bbox.ll.y&&(this.bbox.ll.y=Xt.y),Xt.x>this.bbox.ur.x&&(this.bbox.ur.x=Xt.x),Xt.y>this.bbox.ur.y&&(this.bbox.ur.y=Xt.y),j=Xt)}(tt.x!==j.x||tt.y!==j.y)&&this.segments.push(Ue.fromRing(j,tt,this))}getSweepEvents(){const P=[];for(let M=0,z=this.segments.length;M<z;M++){const tt=this.segments[M];P.push(tt.leftSE),P.push(tt.rightSE)}return P}}class Oe{constructor(P,M){if(!Array.isArray(P))throw new Error("Input geometry is not a valid Polygon or MultiPolygon");this.exteriorRing=new _e(P[0],this,!0),this.bbox={ll:{x:this.exteriorRing.bbox.ll.x,y:this.exteriorRing.bbox.ll.y},ur:{x:this.exteriorRing.bbox.ur.x,y:this.exteriorRing.bbox.ur.y}},this.interiorRings=[];for(let z=1,tt=P.length;z<tt;z++){const j=new _e(P[z],this,!1);j.bbox.ll.x<this.bbox.ll.x&&(this.bbox.ll.x=j.bbox.ll.x),j.bbox.ll.y<this.bbox.ll.y&&(this.bbox.ll.y=j.bbox.ll.y),j.bbox.ur.x>this.bbox.ur.x&&(this.bbox.ur.x=j.bbox.ur.x),j.bbox.ur.y>this.bbox.ur.y&&(this.bbox.ur.y=j.bbox.ur.y),this.interiorRings.push(j)}this.multiPoly=M}getSweepEvents(){const P=this.exteriorRing.getSweepEvents();for(let M=0,z=this.interiorRings.length;M<z;M++){const tt=this.interiorRings[M].getSweepEvents();for(let j=0,zt=tt.length;j<zt;j++)P.push(tt[j])}return P}}class cr{constructor(P,M){if(!Array.isArray(P))throw new Error("Input geometry is not a valid Polygon or MultiPolygon");try{"number"==typeof P[0][0][0]&&(P=[P])}catch{}this.polys=[],this.bbox={ll:{x:Number.POSITIVE_INFINITY,y:Number.POSITIVE_INFINITY},ur:{x:Number.NEGATIVE_INFINITY,y:Number.NEGATIVE_INFINITY}};for(let z=0,tt=P.length;z<tt;z++){const j=new Oe(P[z],this);j.bbox.ll.x<this.bbox.ll.x&&(this.bbox.ll.x=j.bbox.ll.x),j.bbox.ll.y<this.bbox.ll.y&&(this.bbox.ll.y=j.bbox.ll.y),j.bbox.ur.x>this.bbox.ur.x&&(this.bbox.ur.x=j.bbox.ur.x),j.bbox.ur.y>this.bbox.ur.y&&(this.bbox.ur.y=j.bbox.ur.y),this.polys.push(j)}this.isSubject=M}getSweepEvents(){const P=[];for(let M=0,z=this.polys.length;M<z;M++){const tt=this.polys[M].getSweepEvents();for(let j=0,zt=tt.length;j<zt;j++)P.push(tt[j])}return P}}class Jn{static factory(P){const M=[];for(let z=0,tt=P.length;z<tt;z++){const j=P[z];if(!j.isInResult()||j.ringOut)continue;let zt=null,Rt=j.leftSE,Xt=j.rightSE;const Ht=[Rt],ce=Rt.point,$=[];for(;zt=Rt,Rt=Xt,Ht.push(Rt),Rt.point!==ce;)for(;;){const Qt=Rt.getAvailableLinkedEvents();if(0===Qt.length){const Te=Ht[0].point,rn=Ht[Ht.length-1].point;throw new Error(`Unable to complete output ring starting at [${Te.x}, ${Te.y}]. Last matching segment found ends at [${rn.x}, ${rn.y}].`)}if(1===Qt.length){Xt=Qt[0].otherSE;break}let le=null;for(let Te=0,rn=$.length;Te<rn;Te++)if($[Te].point===Rt.point){le=Te;break}if(null!==le){const Te=$.splice(le)[0],rn=Ht.splice(Te.index);rn.unshift(rn[0].otherSE),M.push(new Jn(rn.reverse()));continue}$.push({index:Ht.length,point:Rt.point});const oe=Rt.getLeftmostComparator(zt);Xt=Qt.sort(oe)[0].otherSE;break}M.push(new Jn(Ht))}return M}constructor(P){this.events=P;for(let M=0,z=P.length;M<z;M++)P[M].segment.ringOut=this;this.poly=null}getGeom(){let P=this.events[0].point;const M=[P];for(let Ht=1,ce=this.events.length-1;Ht<ce;Ht++){const $=this.events[Ht].point;0!==Vt($,P,this.events[Ht+1].point)&&(M.push($),P=$)}if(1===M.length)return null;0===Vt(M[0],P,M[1])&&M.shift(),M.push(M[0]);const j=this.isExteriorRing()?1:-1,zt=this.isExteriorRing()?0:M.length-1,Rt=this.isExteriorRing()?M.length:-1,Xt=[];for(let Ht=zt;Ht!=Rt;Ht+=j)Xt.push([M[Ht].x,M[Ht].y]);return Xt}isExteriorRing(){if(void 0===this._isExteriorRing){const P=this.enclosingRing();this._isExteriorRing=!P||!P.isExteriorRing()}return this._isExteriorRing}enclosingRing(){return void 0===this._enclosingRing&&(this._enclosingRing=this._calcEnclosingRing()),this._enclosingRing}_calcEnclosingRing(){let P=this.events[0];for(let tt=1,j=this.events.length;tt<j;tt++){const zt=this.events[tt];ke.compare(P,zt)>0&&(P=zt)}let M=P.segment.prevInResult(),z=M?M.prevInResult():null;for(;;){if(!M)return null;if(!z)return M.ringOut;if(z.ringOut!==M.ringOut)return z.ringOut.enclosingRing()!==M.ringOut?M.ringOut:M.ringOut.enclosingRing();M=z.prevInResult(),z=M?M.prevInResult():null}}}class Ki{constructor(P){this.exteriorRing=P,P.poly=this,this.interiorRings=[]}addInterior(P){this.interiorRings.push(P),P.poly=this}getGeom(){const P=[this.exteriorRing.getGeom()];if(null===P[0])return null;for(let M=0,z=this.interiorRings.length;M<z;M++){const tt=this.interiorRings[M].getGeom();null!==tt&&P.push(tt)}return P}}class Ae{constructor(P){this.rings=P,this.polys=this._composePolys(P)}getGeom(){const P=[];for(let M=0,z=this.polys.length;M<z;M++){const tt=this.polys[M].getGeom();null!==tt&&P.push(tt)}return P}_composePolys(P){const M=[];for(let z=0,tt=P.length;z<tt;z++){const j=P[z];if(!j.poly)if(j.isExteriorRing())M.push(new Ki(j));else{const zt=j.enclosingRing();zt.poly||M.push(new Ki(zt)),zt.poly.addInterior(j)}}return M}}class Rn{constructor(P){let M=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Ue.compare;this.queue=P,this.tree=new at(M),this.segments=[]}process(P){const M=P.segment,z=[];if(P.consumedBy)return P.isLeft?this.queue.remove(P.otherSE):this.tree.remove(M),z;const tt=P.isLeft?this.tree.add(M):this.tree.find(M);if(!tt)throw new Error(`Unable to find segment #${M.id} [${M.leftSE.point.x}, ${M.leftSE.point.y}] -> [${M.rightSE.point.x}, ${M.rightSE.point.y}] in SweepLine tree.`);let Rt,Xt,j=tt,zt=tt;for(;void 0===Rt;)j=this.tree.prev(j),null===j?Rt=null:void 0===j.key.consumedBy&&(Rt=j.key);for(;void 0===Xt;)zt=this.tree.next(zt),null===zt?Xt=null:void 0===zt.key.consumedBy&&(Xt=zt.key);if(P.isLeft){let Ht=null;if(Rt){const $=Rt.getIntersection(M);if(null!==$&&(M.isAnEndpoint($)||(Ht=$),!Rt.isAnEndpoint($))){const Qt=this._splitSafely(Rt,$);for(let le=0,oe=Qt.length;le<oe;le++)z.push(Qt[le])}}let ce=null;if(Xt){const $=Xt.getIntersection(M);if(null!==$&&(M.isAnEndpoint($)||(ce=$),!Xt.isAnEndpoint($))){const Qt=this._splitSafely(Xt,$);for(let le=0,oe=Qt.length;le<oe;le++)z.push(Qt[le])}}if(null!==Ht||null!==ce){let $=null;$=null===Ht?ce:null===ce||ke.comparePoints(Ht,ce)<=0?Ht:ce,this.queue.remove(M.rightSE),z.push(M.rightSE);const Qt=M.split($);for(let le=0,oe=Qt.length;le<oe;le++)z.push(Qt[le])}z.length>0?(this.tree.remove(M),z.push(P)):(this.segments.push(M),M.prev=Rt)}else{if(Rt&&Xt){const Ht=Rt.getIntersection(Xt);if(null!==Ht){if(!Rt.isAnEndpoint(Ht)){const ce=this._splitSafely(Rt,Ht);for(let $=0,Qt=ce.length;$<Qt;$++)z.push(ce[$])}if(!Xt.isAnEndpoint(Ht)){const ce=this._splitSafely(Xt,Ht);for(let $=0,Qt=ce.length;$<Qt;$++)z.push(ce[$])}}}this.tree.remove(M)}return z}_splitSafely(P,M){this.tree.remove(P);const z=P.rightSE;this.queue.remove(z);const tt=P.split(M);return tt.push(z),void 0===P.consumedBy&&this.tree.add(P),tt}}const gi=typeof process<"u"&&process.env.POLYGON_CLIPPING_MAX_QUEUE_SIZE||1e6,kr=typeof process<"u"&&process.env.POLYGON_CLIPPING_MAX_SWEEPLINE_SEGMENTS||1e6;const kn=new class Ni{run(P,M,z){kn.type=P,rt.reset();const tt=[new cr(M,!0)];for(let $=0,Qt=z.length;$<Qt;$++)tt.push(new cr(z[$],!1));if(kn.numMultiPolys=tt.length,"difference"===kn.type){const $=tt[0];let Qt=1;for(;Qt<tt.length;)null!==ct(tt[Qt].bbox,$.bbox)?Qt++:tt.splice(Qt,1)}if("intersection"===kn.type)for(let $=0,Qt=tt.length;$<Qt;$++){const le=tt[$];for(let oe=$+1,Te=tt.length;oe<Te;oe++)if(null===ct(le.bbox,tt[oe].bbox))return[]}const j=new at(ke.compare);for(let $=0,Qt=tt.length;$<Qt;$++){const le=tt[$].getSweepEvents();for(let oe=0,Te=le.length;oe<Te;oe++)if(j.insert(le[oe]),j.size>gi)throw new Error("Infinite loop when putting segment endpoints in a priority queue (queue size too big).")}const zt=new Rn(j);let Rt=j.size,Xt=j.pop();for(;Xt;){const $=Xt.key;if(j.size===Rt){const le=$.segment;throw new Error(`Unable to pop() ${$.isLeft?"left":"right"} SweepEvent [${$.point.x}, ${$.point.y}] from segment #${le.id} [${le.leftSE.point.x}, ${le.leftSE.point.y}] -> [${le.rightSE.point.x}, ${le.rightSE.point.y}] from queue.`)}if(j.size>gi)throw new Error("Infinite loop when passing sweep line over endpoints (queue size too big).");if(zt.segments.length>kr)throw new Error("Infinite loop when passing sweep line over endpoints (too many sweep line segments).");const Qt=zt.process($);for(let le=0,oe=Qt.length;le<oe;le++){const Te=Qt[le];void 0===Te.consumedBy&&j.insert(Te)}Rt=j.size,Xt=j.pop()}rt.reset();const Ht=Jn.factory(zt.segments);return new Ae(Ht).getGeom()}};var Ai={union:function(xt){for(var P=arguments.length,M=new Array(P>1?P-1:0),z=1;z<P;z++)M[z-1]=arguments[z];return kn.run("union",xt,M)},intersection:function(xt){for(var P=arguments.length,M=new Array(P>1?P-1:0),z=1;z<P;z++)M[z-1]=arguments[z];return kn.run("intersection",xt,M)},xor:function(xt){for(var P=arguments.length,M=new Array(P>1?P-1:0),z=1;z<P;z++)M[z-1]=arguments[z];return kn.run("xor",xt,M)},difference:function(xt){for(var P=arguments.length,M=new Array(P>1?P-1:0),z=1;z<P;z++)M[z-1]=arguments[z];return kn.run("difference",xt,M)}};return Ai}()},6596:function(It){It.exports=function(){"use strict";function F(nt,dt,ft,Z,at){for(;Z>ft;){if(Z-ft>600){var yt=Z-ft+1,qt=dt-ft+1,te=Math.log(yt),kt=.5*Math.exp(2*te/3),Bt=.5*Math.sqrt(te*kt*(yt-kt)/yt)*(qt-yt/2<0?-1:1);F(nt,dt,Math.max(ft,Math.floor(dt-qt*kt/yt+Bt)),Math.min(Z,Math.floor(dt+(yt-qt)*kt/yt+Bt)),at)}var ct=nt[dt],Et=ft,W=Z;for(G(nt,ft,dt),at(nt[Z],ct)>0&&G(nt,ft,Z);Et<W;){for(G(nt,Et,W),Et++,W--;at(nt[Et],ct)<0;)Et++;for(;at(nt[W],ct)>0;)W--}0===at(nt[ft],ct)?G(nt,ft,W):G(nt,++W,Z),W<=dt&&(ft=W+1),dt<=W&&(Z=W-1)}}function G(nt,dt,ft){var Z=nt[dt];nt[dt]=nt[ft],nt[ft]=Z}function V(nt,dt){return nt<dt?-1:nt>dt?1:0}return function _t(nt,dt,ft,Z,at){F(nt,dt,ft||0,Z||nt.length-1,at||V)}}()},560:(It,_t,F)=>{"use strict";It.exports=V,It.exports.default=V;var G=F(6596);function V(W,Q){if(!(this instanceof V))return new V(W,Q);this._maxEntries=Math.max(4,W||9),this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries)),Q&&this._initFormat(Q),this.clear()}function nt(W,Q,U){if(!U)return Q.indexOf(W);for(var ht=0;ht<Q.length;ht++)if(U(W,Q[ht]))return ht;return-1}function dt(W,Q){ft(W,0,W.children.length,Q,W)}function ft(W,Q,U,ht,rt){rt||(rt=ct(null)),rt.minX=1/0,rt.minY=1/0,rt.maxX=-1/0,rt.maxY=-1/0;for(var pt,ut=Q;ut<U;ut++)pt=W.children[ut],Z(rt,W.leaf?ht(pt):pt);return rt}function Z(W,Q){return W.minX=Math.min(W.minX,Q.minX),W.minY=Math.min(W.minY,Q.minY),W.maxX=Math.max(W.maxX,Q.maxX),W.maxY=Math.max(W.maxY,Q.maxY),W}function at(W,Q){return W.minX-Q.minX}function yt(W,Q){return W.minY-Q.minY}function qt(W){return(W.maxX-W.minX)*(W.maxY-W.minY)}function te(W){return W.maxX-W.minX+(W.maxY-W.minY)}function kt(W,Q){return(Math.max(Q.maxX,W.maxX)-Math.min(Q.minX,W.minX))*(Math.max(Q.maxY,W.maxY)-Math.min(Q.minY,W.minY))}function Bt(W,Q){var U=Math.max(W.minX,Q.minX),ht=Math.max(W.minY,Q.minY),rt=Math.min(W.maxX,Q.maxX),ut=Math.min(W.maxY,Q.maxY);return Math.max(0,rt-U)*Math.max(0,ut-ht)}function Ot(W,Q){return W.minX<=Q.minX&&W.minY<=Q.minY&&Q.maxX<=W.maxX&&Q.maxY<=W.maxY}function re(W,Q){return Q.minX<=W.maxX&&Q.minY<=W.maxY&&Q.maxX>=W.minX&&Q.maxY>=W.minY}function ct(W){return{children:W,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function Et(W,Q,U,ht,rt){for(var pt,ut=[Q,U];ut.length;)!((U=ut.pop())-(Q=ut.pop())<=ht)&&(pt=Q+Math.ceil((U-Q)/ht/2)*ht,G(W,pt,Q,U,rt),ut.push(Q,pt,pt,U))}V.prototype={all:function(){return this._all(this.data,[])},search:function(W){var Q=this.data,U=[],ht=this.toBBox;if(!re(W,Q))return U;for(var ut,pt,R,Yt,rt=[];Q;){for(ut=0,pt=Q.children.length;ut<pt;ut++)R=Q.children[ut],re(W,Yt=Q.leaf?ht(R):R)&&(Q.leaf?U.push(R):Ot(W,Yt)?this._all(R,U):rt.push(R));Q=rt.pop()}return U},collides:function(W){var Q=this.data,U=this.toBBox;if(!re(W,Q))return!1;for(var rt,ut,pt,R,ht=[];Q;){for(rt=0,ut=Q.children.length;rt<ut;rt++)if(pt=Q.children[rt],re(W,R=Q.leaf?U(pt):pt)){if(Q.leaf||Ot(W,R))return!0;ht.push(pt)}Q=ht.pop()}return!1},load:function(W){if(!W||!W.length)return this;if(W.length<this._minEntries){for(var Q=0,U=W.length;Q<U;Q++)this.insert(W[Q]);return this}var ht=this._build(W.slice(),0,W.length-1,0);if(this.data.children.length)if(this.data.height===ht.height)this._splitRoot(this.data,ht);else{if(this.data.height<ht.height){var rt=this.data;this.data=ht,ht=rt}this._insert(ht,this.data.height-ht.height-1,!0)}else this.data=ht;return this},insert:function(W){return W&&this._insert(W,this.data.height-1),this},clear:function(){return this.data=ct([]),this},remove:function(W,Q){if(!W)return this;for(var pt,R,Yt,vt,U=this.data,ht=this.toBBox(W),rt=[],ut=[];U||rt.length;){if(U||(U=rt.pop(),R=rt[rt.length-1],pt=ut.pop(),vt=!0),U.leaf&&-1!==(Yt=nt(W,U.children,Q)))return U.children.splice(Yt,1),rt.push(U),this._condense(rt),this;vt||U.leaf||!Ot(U,ht)?R?(pt++,U=R.children[pt],vt=!1):U=null:(rt.push(U),ut.push(pt),pt=0,R=U,U=U.children[0])}return this},toBBox:function(W){return W},compareMinX:at,compareMinY:yt,toJSON:function(){return this.data},fromJSON:function(W){return this.data=W,this},_all:function(W,Q){for(var U=[];W;)W.leaf?Q.push.apply(Q,W.children):U.push.apply(U,W.children),W=U.pop();return Q},_build:function(W,Q,U,ht){var pt,rt=U-Q+1,ut=this._maxEntries;if(rt<=ut)return dt(pt=ct(W.slice(Q,U+1)),this.toBBox),pt;ht||(ht=Math.ceil(Math.log(rt)/Math.log(ut)),ut=Math.ceil(rt/Math.pow(ut,ht-1))),(pt=ct([])).leaf=!1,pt.height=ht;var vt,mt,X,he,R=Math.ceil(rt/ut),Yt=R*Math.ceil(Math.sqrt(ut));for(Et(W,Q,U,Yt,this.compareMinX),vt=Q;vt<=U;vt+=Yt)for(Et(W,vt,X=Math.min(vt+Yt-1,U),R,this.compareMinY),mt=vt;mt<=X;mt+=R)he=Math.min(mt+R-1,X),pt.children.push(this._build(W,mt,he,ht-1));return dt(pt,this.toBBox),pt},_chooseSubtree:function(W,Q,U,ht){for(var rt,ut,pt,R,Yt,vt,mt,X;ht.push(Q),!Q.leaf&&ht.length-1!==U;){for(mt=X=1/0,rt=0,ut=Q.children.length;rt<ut;rt++)Yt=qt(pt=Q.children[rt]),(vt=kt(W,pt)-Yt)<X?(X=vt,mt=Yt<mt?Yt:mt,R=pt):vt===X&&Yt<mt&&(mt=Yt,R=pt);Q=R||Q.children[0]}return Q},_insert:function(W,Q,U){var rt=U?W:(0,this.toBBox)(W),ut=[],pt=this._chooseSubtree(rt,this.data,Q,ut);for(pt.children.push(W),Z(pt,rt);Q>=0&&ut[Q].children.length>this._maxEntries;)this._split(ut,Q),Q--;this._adjustParentBBoxes(rt,ut,Q)},_split:function(W,Q){var U=W[Q],ht=U.children.length,rt=this._minEntries;this._chooseSplitAxis(U,rt,ht);var ut=this._chooseSplitIndex(U,rt,ht),pt=ct(U.children.splice(ut,U.children.length-ut));pt.height=U.height,pt.leaf=U.leaf,dt(U,this.toBBox),dt(pt,this.toBBox),Q?W[Q-1].children.push(pt):this._splitRoot(U,pt)},_splitRoot:function(W,Q){this.data=ct([W,Q]),this.data.height=W.height+1,this.data.leaf=!1,dt(this.data,this.toBBox)},_chooseSplitIndex:function(W,Q,U){var ht,rt,ut,pt,R,Yt,vt,mt;for(Yt=vt=1/0,ht=Q;ht<=U-Q;ht++)pt=Bt(rt=ft(W,0,ht,this.toBBox),ut=ft(W,ht,U,this.toBBox)),R=qt(rt)+qt(ut),pt<Yt?(Yt=pt,mt=ht,vt=R<vt?R:vt):pt===Yt&&R<vt&&(vt=R,mt=ht);return mt},_chooseSplitAxis:function(W,Q,U){var ht=W.leaf?this.compareMinX:at,rt=W.leaf?this.compareMinY:yt;this._allDistMargin(W,Q,U,ht)<this._allDistMargin(W,Q,U,rt)&&W.children.sort(ht)},_allDistMargin:function(W,Q,U,ht){W.children.sort(ht);var Yt,vt,rt=this.toBBox,ut=ft(W,0,Q,rt),pt=ft(W,U-Q,U,rt),R=te(ut)+te(pt);for(Yt=Q;Yt<U-Q;Yt++)vt=W.children[Yt],Z(ut,W.leaf?rt(vt):vt),R+=te(ut);for(Yt=U-Q-1;Yt>=Q;Yt--)vt=W.children[Yt],Z(pt,W.leaf?rt(vt):vt),R+=te(pt);return R},_adjustParentBBoxes:function(W,Q,U){for(var ht=U;ht>=0;ht--)Z(Q[ht],W)},_condense:function(W){for(var U,Q=W.length-1;Q>=0;Q--)0===W[Q].children.length?Q>0?(U=W[Q-1].children).splice(U.indexOf(W[Q]),1):this.clear():dt(W[Q],this.toBBox)},_initFormat:function(W){var Q=["return a"," - b",";"];this.compareMinX=new Function("a","b",Q.join(W[0])),this.compareMinY=new Function("a","b",Q.join(W[1])),this.toBBox=new Function("a","return {minX: a"+W[0]+", minY: a"+W[1]+", maxX: a"+W[2]+", maxY: a"+W[3]+"};")}}},2364:(It,_t,F)=>{"use strict";var G=F(6469),V=F(6758),nt=Object;It.exports=G(function(){if(null==this||this!==nt(this))throw new V("RegExp.prototype.flags getter called on non-object");var ft="";return this.hasIndices&&(ft+="d"),this.global&&(ft+="g"),this.ignoreCase&&(ft+="i"),this.multiline&&(ft+="m"),this.dotAll&&(ft+="s"),this.unicode&&(ft+="u"),this.unicodeSets&&(ft+="v"),this.sticky&&(ft+="y"),ft},"get flags",!0)},5864:(It,_t,F)=>{"use strict";var G=F(947),V=F(8128),nt=F(2364),dt=F(5209),ft=F(8871),Z=V(dt());G(Z,{getPolyfill:dt,implementation:nt,shim:ft}),It.exports=Z},5209:(It,_t,F)=>{"use strict";var G=F(2364),V=F(947).supportsDescriptors,nt=Object.getOwnPropertyDescriptor;It.exports=function(){if(V&&"gim"===/a/gim.flags){var ft=nt(RegExp.prototype,"flags");if(ft&&"function"==typeof ft.get&&"dotAll"in RegExp.prototype&&"hasIndices"in RegExp.prototype){var Z="",at={};if(Object.defineProperty(at,"hasIndices",{get:function(){Z+="d"}}),Object.defineProperty(at,"sticky",{get:function(){Z+="y"}}),ft.get.call(at),"dy"===Z)return ft.get}}return G}},8871:(It,_t,F)=>{"use strict";var G=F(947).supportsDescriptors,V=F(5209),nt=F(3798),dt=Object.defineProperty,ft=F(7640),Z=F(1627),at=/a/;It.exports=function(){if(!G||!Z)throw new ft("RegExp.prototype.flags requires a true ES5 environment that supports property descriptors");var qt=V(),te=Z(at),kt=nt(te,"flags");return(!kt||kt.get!==qt)&&dt(te,"flags",{configurable:!0,enumerable:!1,get:qt}),qt}},1358:(It,_t,F)=>{"use strict";var G=F(258),V=F(2736),nt=F(5861)(),dt=F(3798),ft=F(6758),Z=G("%Math.floor%");It.exports=function(yt,qt){if("function"!=typeof yt)throw new ft("`fn` is not a function");if("number"!=typeof qt||qt<0||qt>4294967295||Z(qt)!==qt)throw new ft("`length` must be a positive 32-bit integer");var te=arguments.length>2&&!!arguments[2],kt=!0,Bt=!0;if("length"in yt&&dt){var Ot=dt(yt,"length");Ot&&!Ot.configurable&&(kt=!1),Ot&&!Ot.writable&&(Bt=!1)}return(kt||Bt||!te)&&(nt?V(yt,"length",qt,!0,!0):V(yt,"length",qt)),yt}},6469:(It,_t,F)=>{"use strict";var G=F(2736),V=F(5861)(),nt=F(4003).functionsHaveConfigurableNames(),dt=F(6758);It.exports=function(Z,at){if("function"!=typeof Z)throw new dt("`fn` is not a function");return(!(arguments.length>2&&arguments[2])||nt)&&(V?G(Z,"name",at,!0,!0):G(Z,"name",at)),Z}},6235:It=>{"use strict";It.exports={eudist:function(F,G,V){for(var nt=F.length,dt=0,ft=0;ft<nt;ft++){var Z=(F[ft]||0)-(G[ft]||0);dt+=Z*Z}return V?Math.sqrt(dt):dt},mandist:function(F,G,V){for(var nt=F.length,dt=0,ft=0;ft<nt;ft++)dt+=Math.abs((F[ft]||0)-(G[ft]||0));return V?Math.sqrt(dt):dt},dist:function(F,G,V){var nt=Math.abs(F-G);return V?nt:nt*nt}}},429:(It,_t,F)=>{"use strict";var G=F(6235),V=G.eudist,nt=G.dist;It.exports={kmrand:function(ft,Z){for(var at={},yt=[],qt=Z<<2,te=ft.length,kt=ft[0].length>0;yt.length<Z&&qt-- >0;){var Bt=ft[Math.floor(Math.random()*te)],Ot=kt?Bt.join("_"):""+Bt;at[Ot]||(at[Ot]=!0,yt.push(Bt))}if(yt.length<Z)throw new Error("Error initializating clusters");return yt},kmpp:function(ft,Z){var at=ft[0].length?V:nt,yt=[],qt=ft.length,te=ft[0].length>0,Bt=ft[Math.floor(Math.random()*qt)];for(te&&Bt.join("_"),yt.push(Bt);yt.length<Z;){for(var re=[],ct=yt.length,Et=0,W=[],Q=0;Q<qt;Q++){for(var U=1/0,ht=0;ht<ct;ht++){var rt=at(ft[Q],yt[ht]);rt<=U&&(U=rt)}re[Q]=U}for(var ut=0;ut<qt;ut++)Et+=re[ut];for(var pt=0;pt<qt;pt++)W[pt]={i:pt,v:ft[pt],pr:re[pt]/Et,cs:0};W.sort(function(mt,X){return mt.pr-X.pr}),W[0].cs=W[0].pr;for(var R=1;R<qt;R++)W[R].cs=W[R-1].cs+W[R].pr;for(var Yt=Math.random(),vt=0;vt<qt-1&&W[vt++].cs<Yt;);yt.push(W[vt-1].v)}return yt}}},3357:(It,_t,F)=>{"use strict";var G=F(6235),V=F(429),nt=G.eudist,Z=V.kmrand,at=V.kmpp;function qt(kt,Bt,Ot){Ot=Ot||[];for(var re=0;re<kt;re++)Ot[re]=Bt;return Ot}It.exports=function te(kt,Bt,Ot,re){var ct=[],Et=[],W=[],Q=[],U=!1,ht=re||1e4,rt=kt.length,ut=kt[0].length,pt=ut>0,R=[];if(Ot)ct="kmrand"==Ot?Z(kt,Bt):"kmpp"==Ot?at(kt,Bt):Ot;else for(var Yt={};ct.length<Bt;){var vt=Math.floor(Math.random()*rt);Yt[vt]||(Yt[vt]=!0,ct.push(kt[vt]))}do{qt(Bt,0,R);for(var mt=0;mt<rt;mt++){for(var X=1/0,he=0,ee=0;ee<Bt;ee++)(Q=pt?nt(kt[mt],ct[ee]):Math.abs(kt[mt]-ct[ee]))<=X&&(X=Q,he=ee);W[mt]=he,R[he]++}for(var H=[],lt=(Et=[],0);lt<Bt;lt++)H[lt]=pt?qt(ut,0,H[lt]):0,Et[lt]=ct[lt];if(pt){for(var Gt=0;Gt<Bt;Gt++)ct[Gt]=[];for(var bt=0;bt<rt;bt++)for(var $t=H[W[bt]],Zt=kt[bt],Se=0;Se<ut;Se++)$t[Se]+=Zt[Se];U=!0;for(var Vt=0;Vt<Bt;Vt++){for(var en=ct[Vt],Dn=H[Vt],je=Et[Vt],Xe=R[Vt],qe=0;qe<ut;qe++)en[qe]=Dn[qe]/Xe||0;if(U)for(var ae=0;ae<ut;ae++)if(je[ae]!=en[ae]){U=!1;break}}}else{for(var ke=0;ke<rt;ke++)H[W[ke]]+=kt[ke];for(var Ue=0;Ue<Bt;Ue++)ct[Ue]=H[Ue]/R[Ue]||0;U=!0;for(var _e=0;_e<Bt;_e++)if(Et[_e]!=ct[_e]){U=!1;break}}U=U||--ht<=0}while(!U);return{it:1e4-ht,k:Bt,idxs:W,centroids:ct}}},9258:function(It,_t){!function(F){"use strict";function G(){}function V(t){this.message=t||""}function nt(t){this.message=t||""}function dt(t){this.message=t||""}function ft(){}function Z(t){return null===t?Qn:t.color}function at(t){return null===t?null:t.parent}function yt(t,e){null!==t&&(t.color=e)}function qt(t){return null===t?null:t.left}function te(t){return null===t?null:t.right}function kt(){this.root_=null,this.size_=0}function Bt(){}function Ot(){this.array_=[],arguments[0]instanceof Xt&&this.addAll(arguments[0])}function re(){}function ct(t){this.message=t||""}function Et(){this.array_=[]}"fill"in Array.prototype||Object.defineProperty(Array.prototype,"fill",{configurable:!0,value:function(t){if(null==this)throw new TypeError(this+" is not an object");var e=Object(this),o=Math.max(Math.min(e.length,9007199254740991),0)||0,s=1 in arguments&&parseInt(Number(arguments[1]),10)||0;s=s<0?Math.max(o+s,0):Math.min(s,o);var f=2 in arguments&&void 0!==arguments[2]?parseInt(Number(arguments[2]),10)||0:o;for(f=f<0?Math.max(o+arguments[2],0):Math.min(f,o);s<f;)e[s]=t,++s;return e},writable:!0}),Number.isFinite=Number.isFinite||function(t){return"number"==typeof t&&isFinite(t)},Number.isInteger=Number.isInteger||function(t){return"number"==typeof t&&isFinite(t)&&Math.floor(t)===t},Number.parseFloat=Number.parseFloat||parseFloat,Number.isNaN=Number.isNaN||function(t){return t!=t},Math.trunc=Math.trunc||function(t){return t<0?Math.ceil(t):Math.floor(t)};var W=function(){};W.prototype.interfaces_=function(){return[]},W.prototype.getClass=function(){return W},W.prototype.equalsWithTolerance=function(t,e,o){return Math.abs(t-e)<=o};var Q=function(t){function e(o){t.call(this,o),this.name="IllegalArgumentException",this.message=o,this.stack=(new t).stack}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e}(Error),U=function(){},ht={MAX_VALUE:{configurable:!0}};U.isNaN=function(t){return Number.isNaN(t)},U.doubleToLongBits=function(t){return t},U.longBitsToDouble=function(t){return t},U.isInfinite=function(t){return!Number.isFinite(t)},ht.MAX_VALUE.get=function(){return Number.MAX_VALUE},Object.defineProperties(U,ht);var rt=function(){},ut=function(){},pt=function(){},R=function t(){if(this.x=null,this.y=null,this.z=null,0===arguments.length)this.x=0,this.y=0,this.z=t.NULL_ORDINATE;else if(1===arguments.length){var e=arguments[0];this.x=e.x,this.y=e.y,this.z=e.z}else 2===arguments.length?(this.x=arguments[0],this.y=arguments[1],this.z=t.NULL_ORDINATE):3===arguments.length&&(this.x=arguments[0],this.y=arguments[1],this.z=arguments[2])},Yt={DimensionalComparator:{configurable:!0},serialVersionUID:{configurable:!0},NULL_ORDINATE:{configurable:!0},X:{configurable:!0},Y:{configurable:!0},Z:{configurable:!0}};R.prototype.setOrdinate=function(t,e){switch(t){case R.X:this.x=e;break;case R.Y:this.y=e;break;case R.Z:this.z=e;break;default:throw new Q("Invalid ordinate index: "+t)}},R.prototype.equals2D=function(){if(1===arguments.length){var t=arguments[0];return this.x===t.x&&this.y===t.y}if(2===arguments.length){var e=arguments[0],o=arguments[1];return!!W.equalsWithTolerance(this.x,e.x,o)&&!!W.equalsWithTolerance(this.y,e.y,o)}},R.prototype.getOrdinate=function(t){switch(t){case R.X:return this.x;case R.Y:return this.y;case R.Z:return this.z}throw new Q("Invalid ordinate index: "+t)},R.prototype.equals3D=function(t){return this.x===t.x&&this.y===t.y&&(this.z===t.z||U.isNaN(this.z))&&U.isNaN(t.z)},R.prototype.equals=function(t){return t instanceof R&&this.equals2D(t)},R.prototype.equalInZ=function(t,e){return W.equalsWithTolerance(this.z,t.z,e)},R.prototype.compareTo=function(t){return this.x<t.x?-1:this.x>t.x?1:this.y<t.y?-1:this.y>t.y?1:0},R.prototype.clone=function(){},R.prototype.copy=function(){return new R(this)},R.prototype.toString=function(){return"("+this.x+", "+this.y+", "+this.z+")"},R.prototype.distance3D=function(t){var e=this.x-t.x,o=this.y-t.y,s=this.z-t.z;return Math.sqrt(e*e+o*o+s*s)},R.prototype.distance=function(t){var e=this.x-t.x,o=this.y-t.y;return Math.sqrt(e*e+o*o)},R.prototype.hashCode=function(){var t=17;return 37*(t=37*t+R.hashCode(this.x))+R.hashCode(this.y)},R.prototype.setCoordinate=function(t){this.x=t.x,this.y=t.y,this.z=t.z},R.prototype.interfaces_=function(){return[rt,ut,G]},R.prototype.getClass=function(){return R},R.hashCode=function(){if(1===arguments.length){var e=U.doubleToLongBits(arguments[0]);return Math.trunc((e^e)>>>32)}},Yt.DimensionalComparator.get=function(){return vt},Yt.serialVersionUID.get=function(){return 0x5cbf2c235c7e5800},Yt.NULL_ORDINATE.get=function(){return U.NaN},Yt.X.get=function(){return 0},Yt.Y.get=function(){return 1},Yt.Z.get=function(){return 2},Object.defineProperties(R,Yt);var vt=function(t){if(this._dimensionsToTest=2,0!==arguments.length&&1===arguments.length){var e=arguments[0];if(2!==e&&3!==e)throw new Q("only 2 or 3 dimensions may be specified");this._dimensionsToTest=e}};vt.prototype.compare=function(t,e){var o=t,s=e,f=vt.compare(o.x,s.x);if(0!==f)return f;var v=vt.compare(o.y,s.y);return 0!==v?v:this._dimensionsToTest<=2?0:vt.compare(o.z,s.z)},vt.prototype.interfaces_=function(){return[pt]},vt.prototype.getClass=function(){return vt},vt.compare=function(t,e){return t<e?-1:t>e?1:U.isNaN(t)?U.isNaN(e)?0:-1:U.isNaN(e)?1:0};var mt=function(){};mt.prototype.create=function(){},mt.prototype.interfaces_=function(){return[]},mt.prototype.getClass=function(){return mt};var X=function(){},he={INTERIOR:{configurable:!0},BOUNDARY:{configurable:!0},EXTERIOR:{configurable:!0},NONE:{configurable:!0}};X.prototype.interfaces_=function(){return[]},X.prototype.getClass=function(){return X},X.toLocationSymbol=function(t){switch(t){case X.EXTERIOR:return"e";case X.BOUNDARY:return"b";case X.INTERIOR:return"i";case X.NONE:return"-"}throw new Q("Unknown location value: "+t)},he.INTERIOR.get=function(){return 0},he.BOUNDARY.get=function(){return 1},he.EXTERIOR.get=function(){return 2},he.NONE.get=function(){return-1},Object.defineProperties(X,he);var ee=function(t,e){return t.interfaces_&&t.interfaces_().indexOf(e)>-1},H=function(){},wt={LOG_10:{configurable:!0}};H.prototype.interfaces_=function(){return[]},H.prototype.getClass=function(){return H},H.log10=function(t){var e=Math.log(t);return U.isInfinite(e)||U.isNaN(e)?e:e/H.LOG_10},H.min=function(t,e,o,s){var f=t;return e<f&&(f=e),o<f&&(f=o),s<f&&(f=s),f},H.clamp=function(){if("number"==typeof arguments[2]&&"number"==typeof arguments[0]&&"number"==typeof arguments[1]){var t=arguments[0],e=arguments[1],o=arguments[2];return t<e?e:t>o?o:t}if(Number.isInteger(arguments[2])&&Number.isInteger(arguments[0])&&Number.isInteger(arguments[1])){var s=arguments[0],f=arguments[1],v=arguments[2];return s<f?f:s>v?v:s}},H.wrap=function(t,e){return t<0?e- -t%e:t%e},H.max=function(){if(3===arguments.length){var e=arguments[1],o=arguments[2],s=arguments[0];return e>s&&(s=e),o>s&&(s=o),s}if(4===arguments.length){var v=arguments[1],E=arguments[2],S=arguments[3],q=arguments[0];return v>q&&(q=v),E>q&&(q=E),S>q&&(q=S),q}},H.average=function(t,e){return(t+e)/2},wt.LOG_10.get=function(){return Math.log(10)},Object.defineProperties(H,wt);var lt=function(t){this.str=t};lt.prototype.append=function(t){this.str+=t},lt.prototype.setCharAt=function(t,e){this.str=this.str.substr(0,t)+e+this.str.substr(t+1)},lt.prototype.toString=function(t){return this.str};var Gt=function(t){this.value=t};Gt.prototype.intValue=function(){return this.value},Gt.prototype.compareTo=function(t){return this.value<t?-1:this.value>t?1:0},Gt.isNaN=function(t){return Number.isNaN(t)};var bt=function(){};bt.isWhitespace=function(t){return t<=32&&t>=0||127===t},bt.toUpperCase=function(t){return t.toUpperCase()};var J=function t(){this._hi=0,this._lo=0,0===arguments.length?this.init(0):1===arguments.length?"number"==typeof arguments[0]||arguments[0]instanceof t?this.init(arguments[0]):"string"==typeof arguments[0]&&t.call(this,t.parse(arguments[0])):2===arguments.length&&this.init(arguments[0],arguments[1])},$t={PI:{configurable:!0},TWO_PI:{configurable:!0},PI_2:{configurable:!0},E:{configurable:!0},NaN:{configurable:!0},EPS:{configurable:!0},SPLIT:{configurable:!0},MAX_PRINT_DIGITS:{configurable:!0},TEN:{configurable:!0},ONE:{configurable:!0},SCI_NOT_EXPONENT_CHAR:{configurable:!0},SCI_NOT_ZERO:{configurable:!0}};J.prototype.le=function(t){return(this._hi<t._hi||this._hi===t._hi)&&this._lo<=t._lo},J.prototype.extractSignificantDigits=function(t,e){var o=this.abs(),s=J.magnitude(o._hi),f=J.TEN.pow(s);(o=o.divide(f)).gt(J.TEN)?(o=o.divide(J.TEN),s+=1):o.lt(J.ONE)&&(o=o.multiply(J.TEN),s-=1);for(var v=s+1,E=new lt,S=J.MAX_PRINT_DIGITS-1,q=0;q<=S;q++){t&&q===v&&E.append(".");var it=Math.trunc(o._hi);if(it<0)break;var Mt=!1,Dt=0;it>9?(Mt=!0,Dt="9"):Dt="0"+it,E.append(Dt),o=o.subtract(J.valueOf(it)).multiply(J.TEN),Mt&&o.selfAdd(J.TEN);var ie=!0,ue=J.magnitude(o._hi);if(ue<0&&Math.abs(ue)>=S-q&&(ie=!1),!ie)break}return e[0]=s,E.toString()},J.prototype.sqr=function(){return this.multiply(this)},J.prototype.doubleValue=function(){return this._hi+this._lo},J.prototype.subtract=function(){return arguments[0]instanceof J?this.add(arguments[0].negate()):"number"==typeof arguments[0]?this.add(-arguments[0]):void 0},J.prototype.equals=function(){if(1===arguments.length){var t=arguments[0];return this._hi===t._hi&&this._lo===t._lo}},J.prototype.isZero=function(){return 0===this._hi&&0===this._lo},J.prototype.selfSubtract=function(){if(arguments[0]instanceof J){var t=arguments[0];return this.isNaN()?this:this.selfAdd(-t._hi,-t._lo)}if("number"==typeof arguments[0]){var e=arguments[0];return this.isNaN()?this:this.selfAdd(-e,0)}},J.prototype.getSpecialNumberString=function(){return this.isZero()?"0.0":this.isNaN()?"NaN ":null},J.prototype.min=function(t){return this.le(t)?this:t},J.prototype.selfDivide=function(){if(1===arguments.length){if(arguments[0]instanceof J){var t=arguments[0];return this.selfDivide(t._hi,t._lo)}if("number"==typeof arguments[0])return this.selfDivide(arguments[0],0)}else if(2===arguments.length){var v,S,q,Mt,o=arguments[0],f=null,E=null,it=null,Dt=null;return this._hi=Dt=(q=this._hi/o)+(it=(this._hi-(Mt=q*o)-(Dt=(f=(it=J.SPLIT*q)-(f=it-q))*(E=(Dt=J.SPLIT*o)-(E=Dt-o))-Mt+f*(S=o-E)+(v=q-f)*E+v*S)+this._lo-q*arguments[1])/o),this._lo=q-Dt+it,this}},J.prototype.dump=function(){return"DD<"+this._hi+", "+this._lo+">"},J.prototype.divide=function(){if(arguments[0]instanceof J){var o,f,v,S,t=arguments[0],e=null,s=null,E=null,q=null;return o=(v=this._hi/t._hi)-(e=(E=J.SPLIT*v)-(e=E-v)),q=e*(s=(q=J.SPLIT*t._hi)-(s=q-t._hi))-(S=v*t._hi)+e*(f=t._hi-s)+o*s+o*f,new J(q=v+(E=(this._hi-S-q+this._lo-v*t._lo)/t._hi),v-q+E)}if("number"==typeof arguments[0]){var it=arguments[0];return U.isNaN(it)?J.createNaN():J.copy(this).selfDivide(it,0)}},J.prototype.ge=function(t){return(this._hi>t._hi||this._hi===t._hi)&&this._lo>=t._lo},J.prototype.pow=function(t){if(0===t)return J.valueOf(1);var e=new J(this),o=J.valueOf(1),s=Math.abs(t);if(s>1)for(;s>0;)s%2==1&&o.selfMultiply(e),(s/=2)>0&&(e=e.sqr());else o=e;return t<0?o.reciprocal():o},J.prototype.ceil=function(){if(this.isNaN())return J.NaN;var t=Math.ceil(this._hi),e=0;return t===this._hi&&(e=Math.ceil(this._lo)),new J(t,e)},J.prototype.compareTo=function(t){return this._hi<t._hi?-1:this._hi>t._hi?1:this._lo<t._lo?-1:this._lo>t._lo?1:0},J.prototype.rint=function(){return this.isNaN()?this:this.add(.5).floor()},J.prototype.setValue=function(){return arguments[0]instanceof J||"number"==typeof arguments[0]?(this.init(arguments[0]),this):void 0},J.prototype.max=function(t){return this.ge(t)?this:t},J.prototype.sqrt=function(){if(this.isZero())return J.valueOf(0);if(this.isNegative())return J.NaN;var t=1/Math.sqrt(this._hi),o=J.valueOf(this._hi*t),s=this.subtract(o.sqr())._hi*(.5*t);return o.add(s)},J.prototype.selfAdd=function(){if(1===arguments.length){if(arguments[0]instanceof J){var t=arguments[0];return this.selfAdd(t._hi,t._lo)}if("number"==typeof arguments[0]){var o,s,f,E,S,e=arguments[0];return this._hi=(o=(f=this._hi+e)+(S=e-(E=f-this._hi)+(this._hi-(f-E))+this._lo))+(s=S+(f-o)),this._lo=s+(o-this._hi),this}}else if(2===arguments.length){var Mt,Dt,ue,Bn,q=arguments[0],it=arguments[1],ie=null,de=null,Ne=null;de=(ue=this._hi+q)-(Ne=ue-this._hi),ie=(Dt=this._lo+it)-(Bn=Dt-this._lo);var vr=(Mt=ue+(Ne=(de=q-Ne+(this._hi-de))+Dt))+(Ne=(ie=it-Bn+(this._lo-ie))+(Ne+(ue-Mt))),ni=Ne+(Mt-vr);return this._hi=vr,this._lo=ni,this}},J.prototype.selfMultiply=function(){if(1===arguments.length){if(arguments[0]instanceof J){var t=arguments[0];return this.selfMultiply(t._hi,t._lo)}if("number"==typeof arguments[0])return this.selfMultiply(arguments[0],0)}else if(2===arguments.length){var v,S,o=arguments[0],f=null,E=null,q=null,it=null;f=(q=J.SPLIT*this._hi)-this._hi,f=q-f;var Mt=(q=this._hi*o)+(it=f*(E=(it=J.SPLIT*o)-(E=it-o))-q+f*(S=o-E)+(v=this._hi-f)*E+v*S+(this._hi*arguments[1]+this._lo*o)),Dt=it+(f=q-Mt);return this._hi=Mt,this._lo=Dt,this}},J.prototype.selfSqr=function(){return this.selfMultiply(this)},J.prototype.floor=function(){if(this.isNaN())return J.NaN;var t=Math.floor(this._hi),e=0;return t===this._hi&&(e=Math.floor(this._lo)),new J(t,e)},J.prototype.negate=function(){return this.isNaN()?this:new J(-this._hi,-this._lo)},J.prototype.clone=function(){},J.prototype.multiply=function(){if(arguments[0]instanceof J){var t=arguments[0];return t.isNaN()?J.createNaN():J.copy(this).selfMultiply(t)}if("number"==typeof arguments[0]){var e=arguments[0];return U.isNaN(e)?J.createNaN():J.copy(this).selfMultiply(e,0)}},J.prototype.isNaN=function(){return U.isNaN(this._hi)},J.prototype.intValue=function(){return Math.trunc(this._hi)},J.prototype.toString=function(){var t=J.magnitude(this._hi);return t>=-3&&t<=20?this.toStandardNotation():this.toSciNotation()},J.prototype.toStandardNotation=function(){var t=this.getSpecialNumberString();if(null!==t)return t;var e=new Array(1).fill(null),o=this.extractSignificantDigits(!0,e),s=e[0]+1,f=o;return"."===o.charAt(0)?f="0"+o:s<0?f="0."+J.stringOfChar("0",-s)+o:-1===o.indexOf(".")&&(f=o+J.stringOfChar("0",s-o.length)+".0"),this.isNegative()?"-"+f:f},J.prototype.reciprocal=function(){var e,s,f,E,t=null,o=null,v=null,S=null;e=(f=1/this._hi)-(t=(v=J.SPLIT*f)-(t=v-f)),o=(S=J.SPLIT*this._hi)-this._hi;var q=f+(v=(1-(E=f*this._hi)-(S=t*(o=S-o)-E+t*(s=this._hi-o)+e*o+e*s)-f*this._lo)/this._hi);return new J(q,f-q+v)},J.prototype.toSciNotation=function(){if(this.isZero())return J.SCI_NOT_ZERO;var t=this.getSpecialNumberString();if(null!==t)return t;var e=new Array(1).fill(null),o=this.extractSignificantDigits(!1,e),s=J.SCI_NOT_EXPONENT_CHAR+e[0];if("0"===o.charAt(0))throw new Error("Found leading zero: "+o);var f="";o.length>1&&(f=o.substring(1));var v=o.charAt(0)+"."+f;return this.isNegative()?"-"+v+s:v+s},J.prototype.abs=function(){return this.isNaN()?J.NaN:this.isNegative()?this.negate():new J(this)},J.prototype.isPositive=function(){return(this._hi>0||0===this._hi)&&this._lo>0},J.prototype.lt=function(t){return(this._hi<t._hi||this._hi===t._hi)&&this._lo<t._lo},J.prototype.add=function(){if(arguments[0]instanceof J){var t=arguments[0];return J.copy(this).selfAdd(t)}if("number"==typeof arguments[0]){var e=arguments[0];return J.copy(this).selfAdd(e)}},J.prototype.init=function(){if(1===arguments.length){if("number"==typeof arguments[0])this._hi=arguments[0],this._lo=0;else if(arguments[0]instanceof J){var e=arguments[0];this._hi=e._hi,this._lo=e._lo}}else if(2===arguments.length){var s=arguments[1];this._hi=arguments[0],this._lo=s}},J.prototype.gt=function(t){return(this._hi>t._hi||this._hi===t._hi)&&this._lo>t._lo},J.prototype.isNegative=function(){return(this._hi<0||0===this._hi)&&this._lo<0},J.prototype.trunc=function(){return this.isNaN()?J.NaN:this.isPositive()?this.floor():this.ceil()},J.prototype.signum=function(){return this._hi>0?1:this._hi<0?-1:this._lo>0?1:this._lo<0?-1:0},J.prototype.interfaces_=function(){return[G,rt,ut]},J.prototype.getClass=function(){return J},J.sqr=function(t){return J.valueOf(t).selfMultiply(t)},J.valueOf=function(){return"string"==typeof arguments[0]?J.parse(arguments[0]):"number"==typeof arguments[0]?new J(arguments[0]):void 0},J.sqrt=function(t){return J.valueOf(t).sqrt()},J.parse=function(t){for(var e=0,o=t.length;bt.isWhitespace(t.charAt(e));)e++;var s=!1;if(e<o){var f=t.charAt(e);"-"!==f&&"+"!==f||(e++,"-"===f&&(s=!0))}for(var v=new J,E=0,S=0,q=0;!(e>=o);){var it=t.charAt(e);if(e++,bt.isDigit(it)){var Mt=it-"0";v.selfMultiply(J.TEN),v.selfAdd(Mt),E++}else{if("."!==it){if("e"===it||"E"===it){var Dt=t.substring(e);try{q=Gt.parseInt(Dt)}catch(Bn){throw Bn instanceof Error?new Error("Invalid exponent "+Dt+" in string "+t):Bn}break}throw new Error("Unexpected character '"+it+"' at position "+e+" in string "+t)}S=E}}var ie=v,ue=E-S-q;if(0===ue)ie=v;else if(ue>0){var de=J.TEN.pow(ue);ie=v.divide(de)}else if(ue<0){var Ne=J.TEN.pow(-ue);ie=v.multiply(Ne)}return s?ie.negate():ie},J.createNaN=function(){return new J(U.NaN,U.NaN)},J.copy=function(t){return new J(t)},J.magnitude=function(t){var e=Math.abs(t),o=Math.log(e)/Math.log(10),s=Math.trunc(Math.floor(o));return 10*Math.pow(10,s)<=e&&(s+=1),s},J.stringOfChar=function(t,e){for(var o=new lt,s=0;s<e;s++)o.append(t);return o.toString()},$t.PI.get=function(){return new J(3.141592653589793,12246467991473532e-32)},$t.TWO_PI.get=function(){return new J(6.283185307179586,24492935982947064e-32)},$t.PI_2.get=function(){return new J(1.5707963267948966,6123233995736766e-32)},$t.E.get=function(){return new J(2.718281828459045,14456468917292502e-32)},$t.NaN.get=function(){return new J(U.NaN,U.NaN)},$t.EPS.get=function(){return 123259516440783e-46},$t.SPLIT.get=function(){return 134217729},$t.MAX_PRINT_DIGITS.get=function(){return 32},$t.TEN.get=function(){return J.valueOf(10)},$t.ONE.get=function(){return J.valueOf(1)},$t.SCI_NOT_EXPONENT_CHAR.get=function(){return"E"},$t.SCI_NOT_ZERO.get=function(){return"0.0E0"},Object.defineProperties(J,$t);var Zt=function(){},Se={DP_SAFE_EPSILON:{configurable:!0}};Zt.prototype.interfaces_=function(){return[]},Zt.prototype.getClass=function(){return Zt},Zt.orientationIndex=function(t,e,o){var s=Zt.orientationIndexFilter(t,e,o);if(s<=1)return s;var f=J.valueOf(e.x).selfAdd(-t.x),v=J.valueOf(e.y).selfAdd(-t.y),E=J.valueOf(o.x).selfAdd(-e.x),S=J.valueOf(o.y).selfAdd(-e.y);return f.selfMultiply(S).selfSubtract(v.selfMultiply(E)).signum()},Zt.signOfDet2x2=function(t,e,o,s){return t.multiply(s).selfSubtract(e.multiply(o)).signum()},Zt.intersection=function(t,e,o,s){var f=J.valueOf(s.y).selfSubtract(o.y).selfMultiply(J.valueOf(e.x).selfSubtract(t.x)),v=J.valueOf(s.x).selfSubtract(o.x).selfMultiply(J.valueOf(e.y).selfSubtract(t.y)),E=f.subtract(v),S=J.valueOf(s.x).selfSubtract(o.x).selfMultiply(J.valueOf(t.y).selfSubtract(o.y)),q=J.valueOf(s.y).selfSubtract(o.y).selfMultiply(J.valueOf(t.x).selfSubtract(o.x)),it=S.subtract(q).selfDivide(E).doubleValue(),Mt=J.valueOf(t.x).selfAdd(J.valueOf(e.x).selfSubtract(t.x).selfMultiply(it)).doubleValue(),Dt=J.valueOf(e.x).selfSubtract(t.x).selfMultiply(J.valueOf(t.y).selfSubtract(o.y)),ie=J.valueOf(e.y).selfSubtract(t.y).selfMultiply(J.valueOf(t.x).selfSubtract(o.x)),ue=Dt.subtract(ie).selfDivide(E).doubleValue(),de=J.valueOf(o.y).selfAdd(J.valueOf(s.y).selfSubtract(o.y).selfMultiply(ue)).doubleValue();return new R(Mt,de)},Zt.orientationIndexFilter=function(t,e,o){var s=null,f=(t.x-o.x)*(e.y-o.y),v=(t.y-o.y)*(e.x-o.x),E=f-v;if(f>0){if(v<=0)return Zt.signum(E);s=f+v}else{if(!(f<0)||v>=0)return Zt.signum(E);s=-f-v}var S=Zt.DP_SAFE_EPSILON*s;return E>=S||-E>=S?Zt.signum(E):2},Zt.signum=function(t){return t>0?1:t<0?-1:0},Se.DP_SAFE_EPSILON.get=function(){return 1e-15},Object.defineProperties(Zt,Se);var Vt=function(){},en={X:{configurable:!0},Y:{configurable:!0},Z:{configurable:!0},M:{configurable:!0}};en.X.get=function(){return 0},en.Y.get=function(){return 1},en.Z.get=function(){return 2},en.M.get=function(){return 3},Vt.prototype.setOrdinate=function(t,e,o){},Vt.prototype.size=function(){},Vt.prototype.getOrdinate=function(t,e){},Vt.prototype.getCoordinate=function(){},Vt.prototype.getCoordinateCopy=function(t){},Vt.prototype.getDimension=function(){},Vt.prototype.getX=function(t){},Vt.prototype.clone=function(){},Vt.prototype.expandEnvelope=function(t){},Vt.prototype.copy=function(){},Vt.prototype.getY=function(t){},Vt.prototype.toCoordinateArray=function(){},Vt.prototype.interfaces_=function(){return[ut]},Vt.prototype.getClass=function(){return Vt},Object.defineProperties(Vt,en);var Dn=function(){},je=function(t){function e(){t.call(this,"Projective point not representable on the Cartesian plane.")}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e}(Dn),Xe=function(){};Xe.arraycopy=function(t,e,o,s,f){for(var v=0,E=e;E<e+f;E++)o[s+v]=t[E],v++},Xe.getProperty=function(t){return{"line.separator":"\n"}[t]};var qe=function t(){if(this.x=null,this.y=null,this.w=null,0===arguments.length)this.x=0,this.y=0,this.w=1;else if(1===arguments.length){var e=arguments[0];this.x=e.x,this.y=e.y,this.w=1}else if(2===arguments.length){if("number"==typeof arguments[0]&&"number"==typeof arguments[1]){var s=arguments[1];this.x=arguments[0],this.y=s,this.w=1}else if(arguments[0]instanceof t&&arguments[1]instanceof t){var f=arguments[0],v=arguments[1];this.x=f.y*v.w-v.y*f.w,this.y=v.x*f.w-f.x*v.w,this.w=f.x*v.y-v.x*f.y}else if(arguments[0]instanceof R&&arguments[1]instanceof R){var E=arguments[0],S=arguments[1];this.x=E.y-S.y,this.y=S.x-E.x,this.w=E.x*S.y-S.x*E.y}}else if(3===arguments.length){var it=arguments[1],Mt=arguments[2];this.x=arguments[0],this.y=it,this.w=Mt}else if(4===arguments.length){var Dt=arguments[0],ie=arguments[1],ue=arguments[2],de=arguments[3],Ne=Dt.y-ie.y,Bn=ie.x-Dt.x,vr=Dt.x*ie.y-ie.x*Dt.y,ni=ue.y-de.y,Ao=de.x-ue.x,us=ue.x*de.y-de.x*ue.y;this.x=Bn*us-Ao*vr,this.y=ni*vr-Ne*us,this.w=Ne*Ao-ni*Bn}};qe.prototype.getY=function(){var t=this.y/this.w;if(U.isNaN(t)||U.isInfinite(t))throw new je;return t},qe.prototype.getX=function(){var t=this.x/this.w;if(U.isNaN(t)||U.isInfinite(t))throw new je;return t},qe.prototype.getCoordinate=function(){var t=new R;return t.x=this.getX(),t.y=this.getY(),t},qe.prototype.interfaces_=function(){return[]},qe.prototype.getClass=function(){return qe},qe.intersection=function(t,e,o,s){var f=t.y-e.y,v=e.x-t.x,E=t.x*e.y-e.x*t.y,S=o.y-s.y,q=s.x-o.x,it=o.x*s.y-s.x*o.y,Mt=f*q-S*v,Dt=(v*it-q*E)/Mt,ie=(S*E-f*it)/Mt;if(U.isNaN(Dt)||U.isInfinite(Dt)||U.isNaN(ie)||U.isInfinite(ie))throw new je;return new R(Dt,ie)};var ae=function t(){if(this._minx=null,this._maxx=null,this._miny=null,this._maxy=null,0===arguments.length)this.init();else if(1===arguments.length)if(arguments[0]instanceof R){var e=arguments[0];this.init(e.x,e.x,e.y,e.y)}else arguments[0]instanceof t&&this.init(arguments[0]);else if(2===arguments.length){var s=arguments[0],f=arguments[1];this.init(s.x,f.x,s.y,f.y)}else 4===arguments.length&&this.init(arguments[0],arguments[1],arguments[2],arguments[3])},ke={serialVersionUID:{configurable:!0}};ae.prototype.getArea=function(){return this.getWidth()*this.getHeight()},ae.prototype.equals=function(t){if(!(t instanceof ae))return!1;var e=t;return this.isNull()?e.isNull():this._maxx===e.getMaxX()&&this._maxy===e.getMaxY()&&this._minx===e.getMinX()&&this._miny===e.getMinY()},ae.prototype.intersection=function(t){return this.isNull()||t.isNull()||!this.intersects(t)?new ae:new ae(this._minx>t._minx?this._minx:t._minx,this._maxx<t._maxx?this._maxx:t._maxx,this._miny>t._miny?this._miny:t._miny,this._maxy<t._maxy?this._maxy:t._maxy)},ae.prototype.isNull=function(){return this._maxx<this._minx},ae.prototype.getMaxX=function(){return this._maxx},ae.prototype.covers=function(){if(1===arguments.length){if(arguments[0]instanceof R){var t=arguments[0];return this.covers(t.x,t.y)}if(arguments[0]instanceof ae){var e=arguments[0];return!this.isNull()&&!e.isNull()&&e.getMinX()>=this._minx&&e.getMaxX()<=this._maxx&&e.getMinY()>=this._miny&&e.getMaxY()<=this._maxy}}else if(2===arguments.length){var o=arguments[0],s=arguments[1];return!this.isNull()&&o>=this._minx&&o<=this._maxx&&s>=this._miny&&s<=this._maxy}},ae.prototype.intersects=function(){if(1===arguments.length){if(arguments[0]instanceof ae){var t=arguments[0];return!this.isNull()&&!t.isNull()&&!(t._minx>this._maxx||t._maxx<this._minx||t._miny>this._maxy||t._maxy<this._miny)}if(arguments[0]instanceof R){var e=arguments[0];return this.intersects(e.x,e.y)}}else if(2===arguments.length){var o=arguments[0],s=arguments[1];return!this.isNull()&&!(o>this._maxx||o<this._minx||s>this._maxy||s<this._miny)}},ae.prototype.getMinY=function(){return this._miny},ae.prototype.getMinX=function(){return this._minx},ae.prototype.expandToInclude=function(){if(1===arguments.length){if(arguments[0]instanceof R){var t=arguments[0];this.expandToInclude(t.x,t.y)}else if(arguments[0]instanceof ae){var e=arguments[0];if(e.isNull())return null;this.isNull()?(this._minx=e.getMinX(),this._maxx=e.getMaxX(),this._miny=e.getMinY(),this._maxy=e.getMaxY()):(e._minx<this._minx&&(this._minx=e._minx),e._maxx>this._maxx&&(this._maxx=e._maxx),e._miny<this._miny&&(this._miny=e._miny),e._maxy>this._maxy&&(this._maxy=e._maxy))}}else if(2===arguments.length){var o=arguments[0],s=arguments[1];this.isNull()?(this._minx=o,this._maxx=o,this._miny=s,this._maxy=s):(o<this._minx&&(this._minx=o),o>this._maxx&&(this._maxx=o),s<this._miny&&(this._miny=s),s>this._maxy&&(this._maxy=s))}},ae.prototype.minExtent=function(){if(this.isNull())return 0;var t=this.getWidth(),e=this.getHeight();return t<e?t:e},ae.prototype.getWidth=function(){return this.isNull()?0:this._maxx-this._minx},ae.prototype.compareTo=function(t){var e=t;return this.isNull()?e.isNull()?0:-1:e.isNull()?1:this._minx<e._minx?-1:this._minx>e._minx?1:this._miny<e._miny?-1:this._miny>e._miny?1:this._maxx<e._maxx?-1:this._maxx>e._maxx?1:this._maxy<e._maxy?-1:this._maxy>e._maxy?1:0},ae.prototype.translate=function(t,e){if(this.isNull())return null;this.init(this.getMinX()+t,this.getMaxX()+t,this.getMinY()+e,this.getMaxY()+e)},ae.prototype.toString=function(){return"Env["+this._minx+" : "+this._maxx+", "+this._miny+" : "+this._maxy+"]"},ae.prototype.setToNull=function(){this._minx=0,this._maxx=-1,this._miny=0,this._maxy=-1},ae.prototype.getHeight=function(){return this.isNull()?0:this._maxy-this._miny},ae.prototype.maxExtent=function(){if(this.isNull())return 0;var t=this.getWidth(),e=this.getHeight();return t>e?t:e},ae.prototype.expandBy=function(){if(1===arguments.length){var t=arguments[0];this.expandBy(t,t)}else if(2===arguments.length){var e=arguments[0],o=arguments[1];if(this.isNull())return null;this._minx-=e,this._maxx+=e,this._miny-=o,this._maxy+=o,(this._minx>this._maxx||this._miny>this._maxy)&&this.setToNull()}},ae.prototype.contains=function(){if(1===arguments.length){if(arguments[0]instanceof ae)return this.covers(arguments[0]);if(arguments[0]instanceof R)return this.covers(arguments[0])}else if(2===arguments.length)return this.covers(arguments[0],arguments[1])},ae.prototype.centre=function(){return this.isNull()?null:new R((this.getMinX()+this.getMaxX())/2,(this.getMinY()+this.getMaxY())/2)},ae.prototype.init=function(){if(0===arguments.length)this.setToNull();else if(1===arguments.length){if(arguments[0]instanceof R){var t=arguments[0];this.init(t.x,t.x,t.y,t.y)}else if(arguments[0]instanceof ae){var e=arguments[0];this._minx=e._minx,this._maxx=e._maxx,this._miny=e._miny,this._maxy=e._maxy}}else if(2===arguments.length){var o=arguments[0],s=arguments[1];this.init(o.x,s.x,o.y,s.y)}else if(4===arguments.length){var f=arguments[0],v=arguments[1],E=arguments[2],S=arguments[3];f<v?(this._minx=f,this._maxx=v):(this._minx=v,this._maxx=f),E<S?(this._miny=E,this._maxy=S):(this._miny=S,this._maxy=E)}},ae.prototype.getMaxY=function(){return this._maxy},ae.prototype.distance=function(t){if(this.intersects(t))return 0;var e=0;this._maxx<t._minx?e=t._minx-this._maxx:this._minx>t._maxx&&(e=this._minx-t._maxx);var o=0;return this._maxy<t._miny?o=t._miny-this._maxy:this._miny>t._maxy&&(o=this._miny-t._maxy),0===e?o:0===o?e:Math.sqrt(e*e+o*o)},ae.prototype.hashCode=function(){var t=17;return 37*(t=37*(t=37*(t=37*t+R.hashCode(this._minx))+R.hashCode(this._maxx))+R.hashCode(this._miny))+R.hashCode(this._maxy)},ae.prototype.interfaces_=function(){return[rt,G]},ae.prototype.getClass=function(){return ae},ae.intersects=function(){if(3===arguments.length){var t=arguments[0],e=arguments[1],o=arguments[2];return o.x>=(t.x<e.x?t.x:e.x)&&o.x<=(t.x>e.x?t.x:e.x)&&o.y>=(t.y<e.y?t.y:e.y)&&o.y<=(t.y>e.y?t.y:e.y)}if(4===arguments.length){var s=arguments[0],f=arguments[1],v=arguments[2],E=arguments[3],S=Math.min(v.x,E.x),q=Math.max(v.x,E.x),it=Math.min(s.x,f.x),Mt=Math.max(s.x,f.x);return!(it>q||Mt<S||(S=Math.min(v.y,E.y),q=Math.max(v.y,E.y),it=Math.min(s.y,f.y),Mt=Math.max(s.y,f.y),it>q||Mt<S))}},ke.serialVersionUID.get=function(){return 0x51845cd552189800},Object.defineProperties(ae,ke);var nn={typeStr:/^\s*(\w+)\s*\(\s*(.*)\s*\)\s*$/,emptyTypeStr:/^\s*(\w+)\s*EMPTY\s*$/,spaces:/\s+/,parenComma:/\)\s*,\s*\(/,doubleParenComma:/\)\s*\)\s*,\s*\(\s*\(/,trimParens:/^\s*\(?(.*?)\)?\s*$/},Ue=function(t){this.geometryFactory=t||new Ye};Ue.prototype.read=function(t){var e,o;t=t.replace(/[\n\r]/g," ");var f=nn.typeStr.exec(t);if(-1!==t.search("EMPTY")&&((f=nn.emptyTypeStr.exec(t))[2]=void 0),f&&(o=f[1].toLowerCase(),Oe[o]&&(e=Oe[o].apply(this,[f[2]]))),void 0===e)throw new Error("Could not parse WKT "+t);return e},Ue.prototype.write=function(t){return this.extractGeometry(t)},Ue.prototype.extractGeometry=function(t){var e=t.getGeometryType().toLowerCase();if(!_e[e])return null;var o=e.toUpperCase();return t.isEmpty()?o+" EMPTY":o+"("+_e[e].apply(this,[t])+")"};var _e={coordinate:function(t){return t.x+" "+t.y},point:function(t){return _e.coordinate.call(this,t._coordinates._coordinates[0])},multipoint:function(t){for(var e=[],o=0,s=t._geometries.length;o<s;++o)e.push("("+_e.point.apply(this,[t._geometries[o]])+")");return e.join(",")},linestring:function(t){for(var e=[],o=0,s=t._points._coordinates.length;o<s;++o)e.push(_e.coordinate.apply(this,[t._points._coordinates[o]]));return e.join(",")},linearring:function(t){for(var e=[],o=0,s=t._points._coordinates.length;o<s;++o)e.push(_e.coordinate.apply(this,[t._points._coordinates[o]]));return e.join(",")},multilinestring:function(t){for(var e=[],o=0,s=t._geometries.length;o<s;++o)e.push("("+_e.linestring.apply(this,[t._geometries[o]])+")");return e.join(",")},polygon:function(t){var e=[];e.push("("+_e.linestring.apply(this,[t._shell])+")");for(var o=0,s=t._holes.length;o<s;++o)e.push("("+_e.linestring.apply(this,[t._holes[o]])+")");return e.join(",")},multipolygon:function(t){for(var e=[],o=0,s=t._geometries.length;o<s;++o)e.push("("+_e.polygon.apply(this,[t._geometries[o]])+")");return e.join(",")},geometrycollection:function(t){for(var e=[],o=0,s=t._geometries.length;o<s;++o)e.push(this.extractGeometry(t._geometries[o]));return e.join(",")}},Oe={point:function(t){if(void 0===t)return this.geometryFactory.createPoint();var e=t.trim().split(nn.spaces);return this.geometryFactory.createPoint(new R(Number.parseFloat(e[0]),Number.parseFloat(e[1])))},multipoint:function(t){if(void 0===t)return this.geometryFactory.createMultiPoint();for(var e,o=t.trim().split(","),s=[],f=0,v=o.length;f<v;++f)e=o[f].replace(nn.trimParens,"$1"),s.push(Oe.point.apply(this,[e]));return this.geometryFactory.createMultiPoint(s)},linestring:function(t){if(void 0===t)return this.geometryFactory.createLineString();for(var e,o=t.trim().split(","),s=[],f=0,v=o.length;f<v;++f)e=o[f].trim().split(nn.spaces),s.push(new R(Number.parseFloat(e[0]),Number.parseFloat(e[1])));return this.geometryFactory.createLineString(s)},linearring:function(t){if(void 0===t)return this.geometryFactory.createLinearRing();for(var e,o=t.trim().split(","),s=[],f=0,v=o.length;f<v;++f)e=o[f].trim().split(nn.spaces),s.push(new R(Number.parseFloat(e[0]),Number.parseFloat(e[1])));return this.geometryFactory.createLinearRing(s)},multilinestring:function(t){if(void 0===t)return this.geometryFactory.createMultiLineString();for(var e,o=t.trim().split(nn.parenComma),s=[],f=0,v=o.length;f<v;++f)e=o[f].replace(nn.trimParens,"$1"),s.push(Oe.linestring.apply(this,[e]));return this.geometryFactory.createMultiLineString(s)},polygon:function(t){if(void 0===t)return this.geometryFactory.createPolygon();for(var e,o,s,f,v=t.trim().split(nn.parenComma),E=[],S=0,q=v.length;S<q;++S)e=v[S].replace(nn.trimParens,"$1"),o=Oe.linestring.apply(this,[e]),s=this.geometryFactory.createLinearRing(o._points),0===S?f=s:E.push(s);return this.geometryFactory.createPolygon(f,E)},multipolygon:function(t){if(void 0===t)return this.geometryFactory.createMultiPolygon();for(var e,o=t.trim().split(nn.doubleParenComma),s=[],f=0,v=o.length;f<v;++f)e=o[f].replace(nn.trimParens,"$1"),s.push(Oe.polygon.apply(this,[e]));return this.geometryFactory.createMultiPolygon(s)},geometrycollection:function(t){if(void 0===t)return this.geometryFactory.createGeometryCollection();for(var e=(t=t.replace(/,\s*([A-Za-z])/g,"|$1")).trim().split("|"),o=[],s=0,f=e.length;s<f;++s)o.push(this.read(e[s]));return this.geometryFactory.createGeometryCollection(o)}},cr=function(t){this.parser=new Ue(t)};cr.prototype.write=function(t){return this.parser.write(t)},cr.toLineString=function(t,e){if(2!==arguments.length)throw new Error("Not implemented");return"LINESTRING ( "+t.x+" "+t.y+", "+e.x+" "+e.y+" )"};var Jn=function(t){function e(o){t.call(this,o),this.name="RuntimeException",this.message=o,this.stack=(new t).stack}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e}(Error),Ki=function(t){function e(){t.call(this),0===arguments.length?t.call(this):1===arguments.length&&t.call(this,arguments[0])}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e}(Jn),Ae=function(){};Ae.prototype.interfaces_=function(){return[]},Ae.prototype.getClass=function(){return Ae},Ae.shouldNeverReachHere=function(){if(0===arguments.length)Ae.shouldNeverReachHere(null);else if(1===arguments.length){var t=arguments[0];throw new Ki("Should never reach here"+(null!==t?": "+t:""))}},Ae.isTrue=function(){var e;if(1===arguments.length)Ae.isTrue(arguments[0],null);else if(2===arguments.length&&(e=arguments[1],!arguments[0]))throw null===e?new Ki:new Ki(e)},Ae.equals=function(){var t,e,o;if(2===arguments.length)Ae.equals(t=arguments[0],e=arguments[1],null);else if(3===arguments.length&&(o=arguments[2],!(e=arguments[1]).equals(t=arguments[0])))throw new Ki("Expected "+t+" but encountered "+e+(null!==o?": "+o:""))};var Rn=function(){this._result=null,this._inputLines=Array(2).fill().map(function(){return Array(2)}),this._intPt=new Array(2).fill(null),this._intLineIndex=null,this._isProper=null,this._pa=null,this._pb=null,this._precisionModel=null,this._intPt[0]=new R,this._intPt[1]=new R,this._pa=this._intPt[0],this._pb=this._intPt[1],this._result=0},gi={DONT_INTERSECT:{configurable:!0},DO_INTERSECT:{configurable:!0},COLLINEAR:{configurable:!0},NO_INTERSECTION:{configurable:!0},POINT_INTERSECTION:{configurable:!0},COLLINEAR_INTERSECTION:{configurable:!0}};Rn.prototype.getIndexAlongSegment=function(t,e){return this.computeIntLineIndex(),this._intLineIndex[t][e]},Rn.prototype.getTopologySummary=function(){var t=new lt;return this.isEndPoint()&&t.append(" endpoint"),this._isProper&&t.append(" proper"),this.isCollinear()&&t.append(" collinear"),t.toString()},Rn.prototype.computeIntersection=function(t,e,o,s){this._inputLines[0][0]=t,this._inputLines[0][1]=e,this._inputLines[1][0]=o,this._inputLines[1][1]=s,this._result=this.computeIntersect(t,e,o,s)},Rn.prototype.getIntersectionNum=function(){return this._result},Rn.prototype.computeIntLineIndex=function(){if(0===arguments.length)null===this._intLineIndex&&(this._intLineIndex=Array(2).fill().map(function(){return Array(2)}),this.computeIntLineIndex(0),this.computeIntLineIndex(1));else if(1===arguments.length){var t=arguments[0];this.getEdgeDistance(t,0)>this.getEdgeDistance(t,1)?(this._intLineIndex[t][0]=0,this._intLineIndex[t][1]=1):(this._intLineIndex[t][0]=1,this._intLineIndex[t][1]=0)}},Rn.prototype.isProper=function(){return this.hasIntersection()&&this._isProper},Rn.prototype.setPrecisionModel=function(t){this._precisionModel=t},Rn.prototype.isInteriorIntersection=function(){if(0===arguments.length)return!!this.isInteriorIntersection(0)||!!this.isInteriorIntersection(1);if(1===arguments.length){for(var t=arguments[0],e=0;e<this._result;e++)if(!this._intPt[e].equals2D(this._inputLines[t][0])&&!this._intPt[e].equals2D(this._inputLines[t][1]))return!0;return!1}},Rn.prototype.getIntersection=function(t){return this._intPt[t]},Rn.prototype.isEndPoint=function(){return this.hasIntersection()&&!this._isProper},Rn.prototype.hasIntersection=function(){return this._result!==Rn.NO_INTERSECTION},Rn.prototype.getEdgeDistance=function(t,e){return Rn.computeEdgeDistance(this._intPt[e],this._inputLines[t][0],this._inputLines[t][1])},Rn.prototype.isCollinear=function(){return this._result===Rn.COLLINEAR_INTERSECTION},Rn.prototype.toString=function(){return cr.toLineString(this._inputLines[0][0],this._inputLines[0][1])+" - "+cr.toLineString(this._inputLines[1][0],this._inputLines[1][1])+this.getTopologySummary()},Rn.prototype.getEndpoint=function(t,e){return this._inputLines[t][e]},Rn.prototype.isIntersection=function(t){for(var e=0;e<this._result;e++)if(this._intPt[e].equals2D(t))return!0;return!1},Rn.prototype.getIntersectionAlongSegment=function(t,e){return this.computeIntLineIndex(),this._intPt[this._intLineIndex[t][e]]},Rn.prototype.interfaces_=function(){return[]},Rn.prototype.getClass=function(){return Rn},Rn.computeEdgeDistance=function(t,e,o){var s=Math.abs(o.x-e.x),f=Math.abs(o.y-e.y),v=-1;if(t.equals(e))v=0;else if(t.equals(o))v=s>f?s:f;else{var E=Math.abs(t.x-e.x),S=Math.abs(t.y-e.y);0!==(v=s>f?E:S)||t.equals(e)||(v=Math.max(E,S))}return Ae.isTrue(!(0===v&&!t.equals(e)),"Bad distance calculation"),v},Rn.nonRobustComputeEdgeDistance=function(t,e,o){var s=t.x-e.x,f=t.y-e.y,v=Math.sqrt(s*s+f*f);return Ae.isTrue(!(0===v&&!t.equals(e)),"Invalid distance calculation"),v},gi.DONT_INTERSECT.get=function(){return 0},gi.DO_INTERSECT.get=function(){return 1},gi.COLLINEAR.get=function(){return 2},gi.NO_INTERSECTION.get=function(){return 0},gi.POINT_INTERSECTION.get=function(){return 1},gi.COLLINEAR_INTERSECTION.get=function(){return 2},Object.defineProperties(Rn,gi);var kr=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.isInSegmentEnvelopes=function(o){var s=new ae(this._inputLines[0][0],this._inputLines[0][1]),f=new ae(this._inputLines[1][0],this._inputLines[1][1]);return s.contains(o)&&f.contains(o)},e.prototype.computeIntersection=function(){if(3!==arguments.length)return t.prototype.computeIntersection.apply(this,arguments);var o=arguments[0],s=arguments[1],f=arguments[2];if(this._isProper=!1,ae.intersects(s,f,o)&&0===se.orientationIndex(s,f,o)&&0===se.orientationIndex(f,s,o))return this._isProper=!0,(o.equals(s)||o.equals(f))&&(this._isProper=!1),this._result=t.POINT_INTERSECTION,null;this._result=t.NO_INTERSECTION},e.prototype.normalizeToMinimum=function(o,s,f,v,E){E.x=this.smallestInAbsValue(o.x,s.x,f.x,v.x),E.y=this.smallestInAbsValue(o.y,s.y,f.y,v.y),o.x-=E.x,o.y-=E.y,s.x-=E.x,s.y-=E.y,f.x-=E.x,f.y-=E.y,v.x-=E.x,v.y-=E.y},e.prototype.safeHCoordinateIntersection=function(o,s,f,v){var E=null;try{E=qe.intersection(o,s,f,v)}catch(S){if(!(S instanceof je))throw S;E=e.nearestEndpoint(o,s,f,v)}return E},e.prototype.intersection=function(o,s,f,v){var E=this.intersectionWithNormalization(o,s,f,v);return this.isInSegmentEnvelopes(E)||(E=new R(e.nearestEndpoint(o,s,f,v))),null!==this._precisionModel&&this._precisionModel.makePrecise(E),E},e.prototype.smallestInAbsValue=function(o,s,f,v){var E=o,S=Math.abs(E);return Math.abs(s)<S&&(E=s,S=Math.abs(s)),Math.abs(f)<S&&(E=f,S=Math.abs(f)),Math.abs(v)<S&&(E=v),E},e.prototype.checkDD=function(o,s,f,v,E){var S=Zt.intersection(o,s,f,v),q=this.isInSegmentEnvelopes(S);Xe.out.println("DD in env = "+q+"  --------------------- "+S),E.distance(S)>1e-4&&Xe.out.println("Distance = "+E.distance(S))},e.prototype.intersectionWithNormalization=function(o,s,f,v){var E=new R(o),S=new R(s),q=new R(f),it=new R(v),Mt=new R;this.normalizeToEnvCentre(E,S,q,it,Mt);var Dt=this.safeHCoordinateIntersection(E,S,q,it);return Dt.x+=Mt.x,Dt.y+=Mt.y,Dt},e.prototype.computeCollinearIntersection=function(o,s,f,v){var E=ae.intersects(o,s,f),S=ae.intersects(o,s,v),q=ae.intersects(f,v,o),it=ae.intersects(f,v,s);return E&&S?(this._intPt[0]=f,this._intPt[1]=v,t.COLLINEAR_INTERSECTION):q&&it?(this._intPt[0]=o,this._intPt[1]=s,t.COLLINEAR_INTERSECTION):E&&q?(this._intPt[0]=f,this._intPt[1]=o,!f.equals(o)||S||it?t.COLLINEAR_INTERSECTION:t.POINT_INTERSECTION):E&&it?(this._intPt[0]=f,this._intPt[1]=s,!f.equals(s)||S||q?t.COLLINEAR_INTERSECTION:t.POINT_INTERSECTION):S&&q?(this._intPt[0]=v,this._intPt[1]=o,!v.equals(o)||E||it?t.COLLINEAR_INTERSECTION:t.POINT_INTERSECTION):S&&it?(this._intPt[0]=v,this._intPt[1]=s,!v.equals(s)||E||q?t.COLLINEAR_INTERSECTION:t.POINT_INTERSECTION):t.NO_INTERSECTION},e.prototype.normalizeToEnvCentre=function(o,s,f,v,E){var S=o.x<s.x?o.x:s.x,q=o.y<s.y?o.y:s.y,it=o.x>s.x?o.x:s.x,Mt=o.y>s.y?o.y:s.y,Dt=f.x<v.x?f.x:v.x,ie=f.y<v.y?f.y:v.y,ue=f.x>v.x?f.x:v.x,de=f.y>v.y?f.y:v.y,Bn=((q>ie?q:ie)+(Mt<de?Mt:de))/2;E.x=((S>Dt?S:Dt)+(it<ue?it:ue))/2,E.y=Bn,o.x-=E.x,o.y-=E.y,s.x-=E.x,s.y-=E.y,f.x-=E.x,f.y-=E.y,v.x-=E.x,v.y-=E.y},e.prototype.computeIntersect=function(o,s,f,v){if(this._isProper=!1,!ae.intersects(o,s,f,v))return t.NO_INTERSECTION;var E=se.orientationIndex(o,s,f),S=se.orientationIndex(o,s,v);if(E>0&&S>0||E<0&&S<0)return t.NO_INTERSECTION;var q=se.orientationIndex(f,v,o),it=se.orientationIndex(f,v,s);return q>0&&it>0||q<0&&it<0?t.NO_INTERSECTION:0===E&&0===S&&0===q&&0===it?this.computeCollinearIntersection(o,s,f,v):(0===E||0===S||0===q||0===it?(this._isProper=!1,o.equals2D(f)||o.equals2D(v)?this._intPt[0]=o:s.equals2D(f)||s.equals2D(v)?this._intPt[0]=s:0===E?this._intPt[0]=new R(f):0===S?this._intPt[0]=new R(v):0===q?this._intPt[0]=new R(o):0===it&&(this._intPt[0]=new R(s))):(this._isProper=!0,this._intPt[0]=this.intersection(o,s,f,v)),t.POINT_INTERSECTION)},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e.nearestEndpoint=function(o,s,f,v){var E=o,S=se.distancePointLine(o,f,v),q=se.distancePointLine(s,f,v);return q<S&&(S=q,E=s),(q=se.distancePointLine(f,o,s))<S&&(S=q,E=f),(q=se.distancePointLine(v,o,s))<S&&(S=q,E=v),E},e}(Rn),Ni=function(){};Ni.prototype.interfaces_=function(){return[]},Ni.prototype.getClass=function(){return Ni},Ni.orientationIndex=function(t,e,o){return Ni.signOfDet2x2(e.x-t.x,e.y-t.y,o.x-e.x,o.y-e.y)},Ni.signOfDet2x2=function(t,e,o,s){var f=null,v=null,E=null;if(f=1,0===t||0===s)return 0===e||0===o?0:e>0?o>0?-f:f:o>0?f:-f;if(0===e||0===o)return s>0?t>0?f:-f:t>0?-f:f;if(e>0?s>0?e<=s||(f=-f,v=t,t=o,o=v,v=e,e=s,s=v):e<=-s?(f=-f,o=-o,s=-s):(v=t,t=-o,o=v,v=e,e=-s,s=v):s>0?-e<=s?(f=-f,t=-t,e=-e):(v=-t,t=o,o=v,v=-e,e=s,s=v):e>=s?(t=-t,e=-e,o=-o,s=-s):(f=-f,v=-t,t=-o,o=v,v=-e,e=-s,s=v),t>0){if(!(o>0&&t<=o))return f}else{if(o>0||!(t>=o))return-f;f=-f,t=-t,o=-o}for(;;){if((s-=(E=Math.floor(o/t))*e)<0)return-f;if(s>e)return f;if(t>(o-=E*t)+o){if(e<s+s)return f}else{if(e>s+s)return-f;o=t-o,s=e-s,f=-f}if(0===s)return 0===o?0:-f;if(0===o||(t-=(E=Math.floor(t/o))*o,(e-=E*s)<0))return f;if(e>s)return-f;if(o>t+t){if(s<e+e)return-f}else{if(s>e+e)return f;t=o-t,e=s-e,f=-f}if(0===e)return 0===t?0:f;if(0===t)return-f}};var kn=function(){this._p=null,this._crossingCount=0,this._isPointOnSegment=!1,this._p=arguments[0]};kn.prototype.countSegment=function(t,e){if(t.x<this._p.x&&e.x<this._p.x)return null;if(this._p.x===e.x&&this._p.y===e.y)return this._isPointOnSegment=!0,null;if(t.y===this._p.y&&e.y===this._p.y){var o=t.x,s=e.x;return o>s&&(o=e.x,s=t.x),this._p.x>=o&&this._p.x<=s&&(this._isPointOnSegment=!0),null}if(t.y>this._p.y&&e.y<=this._p.y||e.y>this._p.y&&t.y<=this._p.y){var v=t.y-this._p.y,S=e.y-this._p.y,q=Ni.signOfDet2x2(t.x-this._p.x,v,e.x-this._p.x,S);if(0===q)return this._isPointOnSegment=!0,null;S<v&&(q=-q),q>0&&this._crossingCount++}},kn.prototype.isPointInPolygon=function(){return this.getLocation()!==X.EXTERIOR},kn.prototype.getLocation=function(){return this._isPointOnSegment?X.BOUNDARY:this._crossingCount%2==1?X.INTERIOR:X.EXTERIOR},kn.prototype.isOnSegment=function(){return this._isPointOnSegment},kn.prototype.interfaces_=function(){return[]},kn.prototype.getClass=function(){return kn},kn.locatePointInRing=function(){if(arguments[0]instanceof R&&ee(arguments[1],Vt)){for(var e=arguments[1],o=new kn(arguments[0]),s=new R,f=new R,v=1;v<e.size();v++)if(e.getCoordinate(v,s),e.getCoordinate(v-1,f),o.countSegment(s,f),o.isOnSegment())return o.getLocation();return o.getLocation()}if(arguments[0]instanceof R&&arguments[1]instanceof Array){for(var S=arguments[1],q=new kn(arguments[0]),it=1;it<S.length;it++)if(q.countSegment(S[it],S[it-1]),q.isOnSegment())return q.getLocation();return q.getLocation()}};var se=function(){},Qe={CLOCKWISE:{configurable:!0},RIGHT:{configurable:!0},COUNTERCLOCKWISE:{configurable:!0},LEFT:{configurable:!0},COLLINEAR:{configurable:!0},STRAIGHT:{configurable:!0}};se.prototype.interfaces_=function(){return[]},se.prototype.getClass=function(){return se},se.orientationIndex=function(t,e,o){return Zt.orientationIndex(t,e,o)},se.signedArea=function(){if(arguments[0]instanceof Array){var t=arguments[0];if(t.length<3)return 0;for(var e=0,o=t[0].x,s=1;s<t.length-1;s++)e+=(t[s].x-o)*(t[s-1].y-t[s+1].y);return e/2}if(ee(arguments[0],Vt)){var E=arguments[0],S=E.size();if(S<3)return 0;var q=new R,it=new R,Mt=new R;E.getCoordinate(0,it),E.getCoordinate(1,Mt);var Dt=it.x;Mt.x-=Dt;for(var ie=0,ue=1;ue<S-1;ue++)q.y=it.y,it.x=Mt.x,it.y=Mt.y,E.getCoordinate(ue+1,Mt),Mt.x-=Dt,ie+=it.x*(q.y-Mt.y);return ie/2}},se.distanceLineLine=function(t,e,o,s){if(t.equals(e))return se.distancePointLine(t,o,s);if(o.equals(s))return se.distancePointLine(s,t,e);var f=!1;if(ae.intersects(t,e,o,s)){var v=(e.x-t.x)*(s.y-o.y)-(e.y-t.y)*(s.x-o.x);if(0===v)f=!0;else{var S=((t.y-o.y)*(e.x-t.x)-(t.x-o.x)*(e.y-t.y))/v,q=((t.y-o.y)*(s.x-o.x)-(t.x-o.x)*(s.y-o.y))/v;(q<0||q>1||S<0||S>1)&&(f=!0)}}else f=!0;return f?H.min(se.distancePointLine(t,o,s),se.distancePointLine(e,o,s),se.distancePointLine(o,t,e),se.distancePointLine(s,t,e)):0},se.isPointInRing=function(t,e){return se.locatePointInRing(t,e)!==X.EXTERIOR},se.computeLength=function(t){var e=t.size();if(e<=1)return 0;var o=0,s=new R;t.getCoordinate(0,s);for(var f=s.x,v=s.y,E=1;E<e;E++){t.getCoordinate(E,s);var S=s.x,q=s.y,it=S-f,Mt=q-v;o+=Math.sqrt(it*it+Mt*Mt),f=S,v=q}return o},se.isCCW=function(t){var e=t.length-1;if(e<3)throw new Q("Ring has fewer than 4 points, so orientation cannot be determined");for(var o=t[0],s=0,f=1;f<=e;f++){var v=t[f];v.y>o.y&&(o=v,s=f)}var E=s;do{(E-=1)<0&&(E=e)}while(t[E].equals2D(o)&&E!==s);var S=s;do{S=(S+1)%e}while(t[S].equals2D(o)&&S!==s);var q=t[E],it=t[S];if(q.equals2D(o)||it.equals2D(o)||q.equals2D(it))return!1;var Mt=se.computeOrientation(q,o,it);return 0===Mt?q.x>it.x:Mt>0},se.locatePointInRing=function(t,e){return kn.locatePointInRing(t,e)},se.distancePointLinePerpendicular=function(t,e,o){var s=(o.x-e.x)*(o.x-e.x)+(o.y-e.y)*(o.y-e.y);return Math.abs(((e.y-t.y)*(o.x-e.x)-(e.x-t.x)*(o.y-e.y))/s)*Math.sqrt(s)},se.computeOrientation=function(t,e,o){return se.orientationIndex(t,e,o)},se.distancePointLine=function(){if(2===arguments.length){var t=arguments[0],e=arguments[1];if(0===e.length)throw new Q("Line array must contain at least one vertex");for(var o=t.distance(e[0]),s=0;s<e.length-1;s++){var f=se.distancePointLine(t,e[s],e[s+1]);f<o&&(o=f)}return o}if(3===arguments.length){var v=arguments[0],E=arguments[1],S=arguments[2];if(E.x===S.x&&E.y===S.y)return v.distance(E);var q=(S.x-E.x)*(S.x-E.x)+(S.y-E.y)*(S.y-E.y),it=((v.x-E.x)*(S.x-E.x)+(v.y-E.y)*(S.y-E.y))/q;return it<=0?v.distance(E):it>=1?v.distance(S):Math.abs(((E.y-v.y)*(S.x-E.x)-(E.x-v.x)*(S.y-E.y))/q)*Math.sqrt(q)}},se.isOnLine=function(t,e){for(var o=new kr,s=1;s<e.length;s++)if(o.computeIntersection(t,e[s-1],e[s]),o.hasIntersection())return!0;return!1},Qe.CLOCKWISE.get=function(){return-1},Qe.RIGHT.get=function(){return se.CLOCKWISE},Qe.COUNTERCLOCKWISE.get=function(){return 1},Qe.LEFT.get=function(){return se.COUNTERCLOCKWISE},Qe.COLLINEAR.get=function(){return 0},Qe.STRAIGHT.get=function(){return se.COLLINEAR},Object.defineProperties(se,Qe);var lo=function(){};lo.prototype.filter=function(t){},lo.prototype.interfaces_=function(){return[]},lo.prototype.getClass=function(){return lo};var Le=function(){var t=arguments[0];this._envelope=null,this._factory=null,this._SRID=null,this._userData=null,this._factory=t,this._SRID=t.getSRID()},Ai={serialVersionUID:{configurable:!0},SORTINDEX_POINT:{configurable:!0},SORTINDEX_MULTIPOINT:{configurable:!0},SORTINDEX_LINESTRING:{configurable:!0},SORTINDEX_LINEARRING:{configurable:!0},SORTINDEX_MULTILINESTRING:{configurable:!0},SORTINDEX_POLYGON:{configurable:!0},SORTINDEX_MULTIPOLYGON:{configurable:!0},SORTINDEX_GEOMETRYCOLLECTION:{configurable:!0},geometryChangedFilter:{configurable:!0}};Le.prototype.isGeometryCollection=function(){return this.getSortIndex()===Le.SORTINDEX_GEOMETRYCOLLECTION},Le.prototype.getFactory=function(){return this._factory},Le.prototype.getGeometryN=function(t){return this},Le.prototype.getArea=function(){return 0},Le.prototype.isRectangle=function(){return!1},Le.prototype.equals=function(){if(arguments[0]instanceof Le){var t=arguments[0];return null!==t&&this.equalsTopo(t)}if(arguments[0]instanceof Object){var e=arguments[0];return e instanceof Le&&this.equalsExact(e)}},Le.prototype.equalsExact=function(t){return this===t||this.equalsExact(t,0)},Le.prototype.geometryChanged=function(){this.apply(Le.geometryChangedFilter)},Le.prototype.geometryChangedAction=function(){this._envelope=null},Le.prototype.equalsNorm=function(t){return null!==t&&this.norm().equalsExact(t.norm())},Le.prototype.getLength=function(){return 0},Le.prototype.getNumGeometries=function(){return 1},Le.prototype.compareTo=function(){if(1===arguments.length){var t=arguments[0],e=t;return this.getSortIndex()!==e.getSortIndex()?this.getSortIndex()-e.getSortIndex():this.isEmpty()&&e.isEmpty()?0:this.isEmpty()?-1:e.isEmpty()?1:this.compareToSameClass(t)}if(2===arguments.length){var o=arguments[0],s=arguments[1];return this.getSortIndex()!==o.getSortIndex()?this.getSortIndex()-o.getSortIndex():this.isEmpty()&&o.isEmpty()?0:this.isEmpty()?-1:o.isEmpty()?1:this.compareToSameClass(o,s)}},Le.prototype.getUserData=function(){return this._userData},Le.prototype.getSRID=function(){return this._SRID},Le.prototype.getEnvelope=function(){return this.getFactory().toGeometry(this.getEnvelopeInternal())},Le.prototype.checkNotGeometryCollection=function(t){if(t.getSortIndex()===Le.SORTINDEX_GEOMETRYCOLLECTION)throw new Q("This method does not support GeometryCollection arguments")},Le.prototype.equal=function(t,e,o){return 0===o?t.equals(e):t.distance(e)<=o},Le.prototype.norm=function(){var t=this.copy();return t.normalize(),t},Le.prototype.getPrecisionModel=function(){return this._factory.getPrecisionModel()},Le.prototype.getEnvelopeInternal=function(){return null===this._envelope&&(this._envelope=this.computeEnvelopeInternal()),new ae(this._envelope)},Le.prototype.setSRID=function(t){this._SRID=t},Le.prototype.setUserData=function(t){this._userData=t},Le.prototype.compare=function(t,e){for(var o=t.iterator(),s=e.iterator();o.hasNext()&&s.hasNext();){var f=o.next(),v=s.next(),E=f.compareTo(v);if(0!==E)return E}return o.hasNext()?1:s.hasNext()?-1:0},Le.prototype.hashCode=function(){return this.getEnvelopeInternal().hashCode()},Le.prototype.isGeometryCollectionOrDerived=function(){return this.getSortIndex()===Le.SORTINDEX_GEOMETRYCOLLECTION||this.getSortIndex()===Le.SORTINDEX_MULTIPOINT||this.getSortIndex()===Le.SORTINDEX_MULTILINESTRING||this.getSortIndex()===Le.SORTINDEX_MULTIPOLYGON},Le.prototype.interfaces_=function(){return[ut,rt,G]},Le.prototype.getClass=function(){return Le},Le.hasNonEmptyElements=function(t){for(var e=0;e<t.length;e++)if(!t[e].isEmpty())return!0;return!1},Le.hasNullElements=function(t){for(var e=0;e<t.length;e++)if(null===t[e])return!0;return!1},Ai.serialVersionUID.get=function(){return 0x799ea46522854c00},Ai.SORTINDEX_POINT.get=function(){return 0},Ai.SORTINDEX_MULTIPOINT.get=function(){return 1},Ai.SORTINDEX_LINESTRING.get=function(){return 2},Ai.SORTINDEX_LINEARRING.get=function(){return 3},Ai.SORTINDEX_MULTILINESTRING.get=function(){return 4},Ai.SORTINDEX_POLYGON.get=function(){return 5},Ai.SORTINDEX_MULTIPOLYGON.get=function(){return 6},Ai.SORTINDEX_GEOMETRYCOLLECTION.get=function(){return 7},Ai.geometryChangedFilter.get=function(){return xt},Object.defineProperties(Le,Ai);var xt=function(){};xt.interfaces_=function(){return[lo]},xt.filter=function(t){t.geometryChangedAction()};var P=function(){};P.prototype.filter=function(t){},P.prototype.interfaces_=function(){return[]},P.prototype.getClass=function(){return P};var M=function(){},z={Mod2BoundaryNodeRule:{configurable:!0},EndPointBoundaryNodeRule:{configurable:!0},MultiValentEndPointBoundaryNodeRule:{configurable:!0},MonoValentEndPointBoundaryNodeRule:{configurable:!0},MOD2_BOUNDARY_RULE:{configurable:!0},ENDPOINT_BOUNDARY_RULE:{configurable:!0},MULTIVALENT_ENDPOINT_BOUNDARY_RULE:{configurable:!0},MONOVALENT_ENDPOINT_BOUNDARY_RULE:{configurable:!0},OGC_SFS_BOUNDARY_RULE:{configurable:!0}};M.prototype.isInBoundary=function(t){},M.prototype.interfaces_=function(){return[]},M.prototype.getClass=function(){return M},z.Mod2BoundaryNodeRule.get=function(){return tt},z.EndPointBoundaryNodeRule.get=function(){return j},z.MultiValentEndPointBoundaryNodeRule.get=function(){return zt},z.MonoValentEndPointBoundaryNodeRule.get=function(){return Rt},z.MOD2_BOUNDARY_RULE.get=function(){return new tt},z.ENDPOINT_BOUNDARY_RULE.get=function(){return new j},z.MULTIVALENT_ENDPOINT_BOUNDARY_RULE.get=function(){return new zt},z.MONOVALENT_ENDPOINT_BOUNDARY_RULE.get=function(){return new Rt},z.OGC_SFS_BOUNDARY_RULE.get=function(){return M.MOD2_BOUNDARY_RULE},Object.defineProperties(M,z);var tt=function(){};tt.prototype.isInBoundary=function(t){return t%2==1},tt.prototype.interfaces_=function(){return[M]},tt.prototype.getClass=function(){return tt};var j=function(){};j.prototype.isInBoundary=function(t){return t>0},j.prototype.interfaces_=function(){return[M]},j.prototype.getClass=function(){return j};var zt=function(){};zt.prototype.isInBoundary=function(t){return t>1},zt.prototype.interfaces_=function(){return[M]},zt.prototype.getClass=function(){return zt};var Rt=function(){};Rt.prototype.isInBoundary=function(t){return 1===t},Rt.prototype.interfaces_=function(){return[M]},Rt.prototype.getClass=function(){return Rt};var Xt=function(){};Xt.prototype.add=function(){},Xt.prototype.addAll=function(){},Xt.prototype.isEmpty=function(){},Xt.prototype.iterator=function(){},Xt.prototype.size=function(){},Xt.prototype.toArray=function(){},Xt.prototype.remove=function(){},(V.prototype=new Error).name="IndexOutOfBoundsException";var Ht=function(){};Ht.prototype.hasNext=function(){},Ht.prototype.next=function(){},Ht.prototype.remove=function(){};var ce=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.get=function(){},e.prototype.set=function(){},e.prototype.isEmpty=function(){},e}(Xt);(nt.prototype=new Error).name="NoSuchElementException";var $=function(t){function e(){t.call(this),this.array_=[],arguments[0]instanceof Xt&&this.addAll(arguments[0])}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.ensureCapacity=function(){},e.prototype.interfaces_=function(){return[t,Xt]},e.prototype.add=function(o){return 1===arguments.length?this.array_.push(o):this.array_.splice(arguments[0],arguments[1]),!0},e.prototype.clear=function(){this.array_=[]},e.prototype.addAll=function(o){for(var s=o.iterator();s.hasNext();)this.add(s.next());return!0},e.prototype.set=function(o,s){var f=this.array_[o];return this.array_[o]=s,f},e.prototype.iterator=function(){return new Qt(this)},e.prototype.get=function(o){if(o<0||o>=this.size())throw new V;return this.array_[o]},e.prototype.isEmpty=function(){return 0===this.array_.length},e.prototype.size=function(){return this.array_.length},e.prototype.toArray=function(){for(var o=[],s=0,f=this.array_.length;s<f;s++)o.push(this.array_[s]);return o},e.prototype.remove=function(o){for(var s=!1,f=0,v=this.array_.length;f<v;f++)if(this.array_[f]===o){this.array_.splice(f,1),s=!0;break}return s},e}(ce),Qt=function(t){function e(o){t.call(this),this.arrayList_=o,this.position_=0}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.next=function(){if(this.position_===this.arrayList_.size())throw new nt;return this.arrayList_.get(this.position_++)},e.prototype.hasNext=function(){return this.position_<this.arrayList_.size()},e.prototype.set=function(o){return this.arrayList_.set(this.position_-1,o)},e.prototype.remove=function(){this.arrayList_.remove(this.arrayList_.get(this.position_))},e}(Ht),le=function(t){function e(){if(t.call(this),0!==arguments.length)if(1===arguments.length){var s=arguments[0];this.ensureCapacity(s.length),this.add(s,!0)}else if(2===arguments.length){var f=arguments[0],v=arguments[1];this.ensureCapacity(f.length),this.add(f,v)}}t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e;var o={coordArrayType:{configurable:!0}};return o.coordArrayType.get=function(){return new Array(0).fill(null)},e.prototype.getCoordinate=function(s){return this.get(s)},e.prototype.addAll=function(){if(2===arguments.length){for(var f=arguments[1],v=!1,E=arguments[0].iterator();E.hasNext();)this.add(E.next(),f),v=!0;return v}return t.prototype.addAll.apply(this,arguments)},e.prototype.clone=function(){for(var s=t.prototype.clone.call(this),f=0;f<this.size();f++)s.add(f,this.get(f).copy());return s},e.prototype.toCoordinateArray=function(){return this.toArray(e.coordArrayType)},e.prototype.add=function(){if(1===arguments.length)t.prototype.add.call(this,arguments[0]);else if(2===arguments.length){if(arguments[0]instanceof Array&&"boolean"==typeof arguments[1])return this.add(arguments[0],arguments[1],!0),!0;if(arguments[0]instanceof R&&"boolean"==typeof arguments[1]){var E=arguments[0];if(!arguments[1]&&this.size()>=1&&this.get(this.size()-1).equals2D(E))return null;t.prototype.add.call(this,E)}else if(arguments[0]instanceof Object&&"boolean"==typeof arguments[1])return this.add(arguments[0],arguments[1]),!0}else if(3===arguments.length){if("boolean"==typeof arguments[2]&&arguments[0]instanceof Array&&"boolean"==typeof arguments[1]){var it=arguments[0],Mt=arguments[1];if(arguments[2])for(var Dt=0;Dt<it.length;Dt++)this.add(it[Dt],Mt);else for(var ie=it.length-1;ie>=0;ie--)this.add(it[ie],Mt);return!0}if("boolean"==typeof arguments[2]&&Number.isInteger(arguments[0])&&arguments[1]instanceof R){var ue=arguments[0],de=arguments[1];if(!arguments[2]){var Ne=this.size();if(Ne>0&&(ue>0&&this.get(ue-1).equals2D(de)||ue<Ne&&this.get(ue).equals2D(de)))return null}t.prototype.add.call(this,ue,de)}}else if(4===arguments.length){var Bn=arguments[0],vr=arguments[1],ni=arguments[2],Ao=arguments[3],us=1;ni>Ao&&(us=-1);for(var tu=ni;tu!==Ao;tu+=us)this.add(Bn[tu],vr);return!0}},e.prototype.closeRing=function(){this.size()>0&&this.add(new R(this.get(0)),!1)},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},Object.defineProperties(e,o),e}($),oe=function(){},Te={ForwardComparator:{configurable:!0},BidirectionalComparator:{configurable:!0},coordArrayType:{configurable:!0}};Te.ForwardComparator.get=function(){return rn},Te.BidirectionalComparator.get=function(){return ze},Te.coordArrayType.get=function(){return new Array(0).fill(null)},oe.prototype.interfaces_=function(){return[]},oe.prototype.getClass=function(){return oe},oe.isRing=function(t){return!(t.length<4||!t[0].equals2D(t[t.length-1]))},oe.ptNotInList=function(t,e){for(var o=0;o<t.length;o++){var s=t[o];if(oe.indexOf(s,e)<0)return s}return null},oe.scroll=function(t,e){var o=oe.indexOf(e,t);if(o<0)return null;var s=new Array(t.length).fill(null);Xe.arraycopy(t,o,s,0,t.length-o),Xe.arraycopy(t,0,s,t.length-o,o),Xe.arraycopy(s,0,t,0,t.length)},oe.equals=function(){if(2===arguments.length){var t=arguments[0],e=arguments[1];if(t===e)return!0;if(null===t||null===e||t.length!==e.length)return!1;for(var o=0;o<t.length;o++)if(!t[o].equals(e[o]))return!1;return!0}if(3===arguments.length){var s=arguments[0],f=arguments[1],v=arguments[2];if(s===f)return!0;if(null===s||null===f||s.length!==f.length)return!1;for(var E=0;E<s.length;E++)if(0!==v.compare(s[E],f[E]))return!1;return!0}},oe.intersection=function(t,e){for(var o=new le,s=0;s<t.length;s++)e.intersects(t[s])&&o.add(t[s],!0);return o.toCoordinateArray()},oe.hasRepeatedPoints=function(t){for(var e=1;e<t.length;e++)if(t[e-1].equals(t[e]))return!0;return!1},oe.removeRepeatedPoints=function(t){return oe.hasRepeatedPoints(t)?new le(t,!1).toCoordinateArray():t},oe.reverse=function(t){for(var e=t.length-1,o=Math.trunc(e/2),s=0;s<=o;s++){var f=t[s];t[s]=t[e-s],t[e-s]=f}},oe.removeNull=function(t){for(var e=0,o=0;o<t.length;o++)null!==t[o]&&e++;var s=new Array(e).fill(null);if(0===e)return s;for(var f=0,v=0;v<t.length;v++)null!==t[v]&&(s[f++]=t[v]);return s},oe.copyDeep=function(){if(1===arguments.length){for(var t=arguments[0],e=new Array(t.length).fill(null),o=0;o<t.length;o++)e[o]=new R(t[o]);return e}if(5===arguments.length)for(var s=arguments[0],f=arguments[1],v=arguments[2],E=arguments[3],S=arguments[4],q=0;q<S;q++)v[E+q]=new R(s[f+q])},oe.isEqualReversed=function(t,e){for(var o=0;o<t.length;o++)if(0!==t[o].compareTo(e[t.length-o-1]))return!1;return!0},oe.envelope=function(t){for(var e=new ae,o=0;o<t.length;o++)e.expandToInclude(t[o]);return e},oe.toCoordinateArray=function(t){return t.toArray(oe.coordArrayType)},oe.atLeastNCoordinatesOrNothing=function(t,e){return e.length>=t?e:[]},oe.indexOf=function(t,e){for(var o=0;o<e.length;o++)if(t.equals(e[o]))return o;return-1},oe.increasingDirection=function(t){for(var e=0;e<Math.trunc(t.length/2);e++){var s=t[e].compareTo(t[t.length-1-e]);if(0!==s)return s}return 1},oe.compare=function(t,e){for(var o=0;o<t.length&&o<e.length;){var s=t[o].compareTo(e[o]);if(0!==s)return s;o++}return o<e.length?-1:o<t.length?1:0},oe.minCoordinate=function(t){for(var e=null,o=0;o<t.length;o++)(null===e||e.compareTo(t[o])>0)&&(e=t[o]);return e},oe.extract=function(t,e,o){e=H.clamp(e,0,t.length);var s=(o=H.clamp(o,-1,t.length))-e+1;o<0&&(s=0),e>=t.length&&(s=0),o<e&&(s=0);var f=new Array(s).fill(null);if(0===s)return f;for(var v=0,E=e;E<=o;E++)f[v++]=t[E];return f},Object.defineProperties(oe,Te);var rn=function(){};rn.prototype.compare=function(t,e){return oe.compare(t,e)},rn.prototype.interfaces_=function(){return[pt]},rn.prototype.getClass=function(){return rn};var ze=function(){};ze.prototype.compare=function(t,e){var o=t,s=e;if(o.length<s.length)return-1;if(o.length>s.length)return 1;if(0===o.length)return 0;var f=oe.compare(o,s);return oe.isEqualReversed(o,s)?0:f},ze.prototype.OLDcompare=function(t,e){var o=t,s=e;if(o.length<s.length)return-1;if(o.length>s.length)return 1;if(0===o.length)return 0;for(var f=oe.increasingDirection(o),v=oe.increasingDirection(s),E=f>0?0:o.length-1,S=v>0?0:o.length-1,q=0;q<o.length;q++){var it=o[E].compareTo(s[S]);if(0!==it)return it;E+=f,S+=v}return 0},ze.prototype.interfaces_=function(){return[pt]},ze.prototype.getClass=function(){return ze};var Un=function(){};Un.prototype.get=function(){},Un.prototype.put=function(){},Un.prototype.size=function(){},Un.prototype.values=function(){},Un.prototype.entrySet=function(){};var jt=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e}(Un);(dt.prototype=new Error).name="OperationNotSupported",(ft.prototype=new Xt).contains=function(){};var sr=function(t){function e(){t.call(this),this.array_=[],arguments[0]instanceof Xt&&this.addAll(arguments[0])}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.contains=function(o){for(var s=0,f=this.array_.length;s<f;s++)if(this.array_[s]===o)return!0;return!1},e.prototype.add=function(o){return!this.contains(o)&&(this.array_.push(o),!0)},e.prototype.addAll=function(o){for(var s=o.iterator();s.hasNext();)this.add(s.next());return!0},e.prototype.remove=function(o){throw new Error},e.prototype.size=function(){return this.array_.length},e.prototype.isEmpty=function(){return 0===this.array_.length},e.prototype.toArray=function(){for(var o=[],s=0,f=this.array_.length;s<f;s++)o.push(this.array_[s]);return o},e.prototype.iterator=function(){return new Wr(this)},e}(ft),Wr=function(t){function e(o){t.call(this),this.hashSet_=o,this.position_=0}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.next=function(){if(this.position_===this.hashSet_.size())throw new nt;return this.hashSet_.array_[this.position_++]},e.prototype.hasNext=function(){return this.position_<this.hashSet_.size()},e.prototype.remove=function(){throw new dt},e}(Ht),Qn=0;(kt.prototype=new jt).get=function(t){for(var e=this.root_;null!==e;){var o=t.compareTo(e.key);if(o<0)e=e.left;else{if(!(o>0))return e.value;e=e.right}}return null},kt.prototype.put=function(t,e){if(null===this.root_)return this.root_={key:t,value:e,left:null,right:null,parent:null,color:Qn,getValue:function(){return this.value},getKey:function(){return this.key}},this.size_=1,null;var o,s,f=this.root_;do{if(o=f,(s=t.compareTo(f.key))<0)f=f.left;else{if(!(s>0)){var v=f.value;return f.value=e,v}f=f.right}}while(null!==f);var E={key:t,left:null,right:null,value:e,parent:o,color:Qn,getValue:function(){return this.value},getKey:function(){return this.key}};return s<0?o.left=E:o.right=E,this.fixAfterInsertion(E),this.size_++,null},kt.prototype.fixAfterInsertion=function(t){for(t.color=1;null!=t&&t!==this.root_&&1===t.parent.color;)if(at(t)===qt(at(at(t)))){var e=te(at(at(t)));1===Z(e)?(yt(at(t),Qn),yt(e,Qn),yt(at(at(t)),1),t=at(at(t))):(t===te(at(t))&&(t=at(t),this.rotateLeft(t)),yt(at(t),Qn),yt(at(at(t)),1),this.rotateRight(at(at(t))))}else{var o=qt(at(at(t)));1===Z(o)?(yt(at(t),Qn),yt(o,Qn),yt(at(at(t)),1),t=at(at(t))):(t===qt(at(t))&&(t=at(t),this.rotateRight(t)),yt(at(t),Qn),yt(at(at(t)),1),this.rotateLeft(at(at(t))))}this.root_.color=Qn},kt.prototype.values=function(){var t=new $,e=this.getFirstEntry();if(null!==e)for(t.add(e.value);null!==(e=kt.successor(e));)t.add(e.value);return t},kt.prototype.entrySet=function(){var t=new sr,e=this.getFirstEntry();if(null!==e)for(t.add(e);null!==(e=kt.successor(e));)t.add(e);return t},kt.prototype.rotateLeft=function(t){if(null!=t){var e=t.right;t.right=e.left,null!=e.left&&(e.left.parent=t),e.parent=t.parent,null===t.parent?this.root_=e:t.parent.left===t?t.parent.left=e:t.parent.right=e,e.left=t,t.parent=e}},kt.prototype.rotateRight=function(t){if(null!=t){var e=t.left;t.left=e.right,null!=e.right&&(e.right.parent=t),e.parent=t.parent,null===t.parent?this.root_=e:t.parent.right===t?t.parent.right=e:t.parent.left=e,e.right=t,t.parent=e}},kt.prototype.getFirstEntry=function(){var t=this.root_;if(null!=t)for(;null!=t.left;)t=t.left;return t},kt.successor=function(t){if(null===t)return null;if(null!==t.right){for(var e=t.right;null!==e.left;)e=e.left;return e}for(var o=t.parent,s=t;null!==o&&s===o.right;)s=o,o=o.parent;return o},kt.prototype.size=function(){return this.size_};var fr=function(){};fr.prototype.interfaces_=function(){return[]},fr.prototype.getClass=function(){return fr},Bt.prototype=new ft,(Ot.prototype=new Bt).contains=function(t){for(var e=0,o=this.array_.length;e<o;e++)if(0===this.array_[e].compareTo(t))return!0;return!1},Ot.prototype.add=function(t){if(this.contains(t))return!1;for(var e=0,o=this.array_.length;e<o;e++)if(1===this.array_[e].compareTo(t))return this.array_.splice(e,0,t),!0;return this.array_.push(t),!0},Ot.prototype.addAll=function(t){for(var e=t.iterator();e.hasNext();)this.add(e.next());return!0},Ot.prototype.remove=function(t){throw new dt},Ot.prototype.size=function(){return this.array_.length},Ot.prototype.isEmpty=function(){return 0===this.array_.length},Ot.prototype.toArray=function(){for(var t=[],e=0,o=this.array_.length;e<o;e++)t.push(this.array_[e]);return t},Ot.prototype.iterator=function(){return new Er(this)};var Er=function(t){this.treeSet_=t,this.position_=0};Er.prototype.next=function(){if(this.position_===this.treeSet_.size())throw new nt;return this.treeSet_.array_[this.position_++]},Er.prototype.hasNext=function(){return this.position_<this.treeSet_.size()},Er.prototype.remove=function(){throw new dt};var Pr=function(){};Pr.sort=function(){var t,e,o,f=arguments[0];if(1===arguments.length)f.sort(function(E,S){return E.compareTo(S)});else if(2===arguments.length)o=arguments[1],f.sort(function(E,S){return o.compare(E,S)});else if(3===arguments.length){(e=f.slice(arguments[1],arguments[2])).sort();var v=f.slice(0,arguments[1]).concat(e,f.slice(arguments[2],f.length));for(f.splice(0,f.length),t=0;t<v.length;t++)f.push(v[t])}else if(4===arguments.length)for(e=f.slice(arguments[1],arguments[2]),o=arguments[3],e.sort(function(E,S){return o.compare(E,S)}),v=f.slice(0,arguments[1]).concat(e,f.slice(arguments[2],f.length)),f.splice(0,f.length),t=0;t<v.length;t++)f.push(v[t])},Pr.asList=function(t){for(var e=new $,o=0,s=t.length;o<s;o++)e.add(t[o]);return e};var Be=function(){},Ke={P:{configurable:!0},L:{configurable:!0},A:{configurable:!0},FALSE:{configurable:!0},TRUE:{configurable:!0},DONTCARE:{configurable:!0},SYM_FALSE:{configurable:!0},SYM_TRUE:{configurable:!0},SYM_DONTCARE:{configurable:!0},SYM_P:{configurable:!0},SYM_L:{configurable:!0},SYM_A:{configurable:!0}};Ke.P.get=function(){return 0},Ke.L.get=function(){return 1},Ke.A.get=function(){return 2},Ke.FALSE.get=function(){return-1},Ke.TRUE.get=function(){return-2},Ke.DONTCARE.get=function(){return-3},Ke.SYM_FALSE.get=function(){return"F"},Ke.SYM_TRUE.get=function(){return"T"},Ke.SYM_DONTCARE.get=function(){return"*"},Ke.SYM_P.get=function(){return"0"},Ke.SYM_L.get=function(){return"1"},Ke.SYM_A.get=function(){return"2"},Be.prototype.interfaces_=function(){return[]},Be.prototype.getClass=function(){return Be},Be.toDimensionSymbol=function(t){switch(t){case Be.FALSE:return Be.SYM_FALSE;case Be.TRUE:return Be.SYM_TRUE;case Be.DONTCARE:return Be.SYM_DONTCARE;case Be.P:return Be.SYM_P;case Be.L:return Be.SYM_L;case Be.A:return Be.SYM_A}throw new Q("Unknown dimension value: "+t)},Be.toDimensionValue=function(t){switch(bt.toUpperCase(t)){case Be.SYM_FALSE:return Be.FALSE;case Be.SYM_TRUE:return Be.TRUE;case Be.SYM_DONTCARE:return Be.DONTCARE;case Be.SYM_P:return Be.P;case Be.SYM_L:return Be.L;case Be.SYM_A:return Be.A}throw new Q("Unknown dimension symbol: "+t)},Object.defineProperties(Be,Ke);var ar=function(){};ar.prototype.filter=function(t){},ar.prototype.interfaces_=function(){return[]},ar.prototype.getClass=function(){return ar};var xr=function(){};xr.prototype.filter=function(t,e){},xr.prototype.isDone=function(){},xr.prototype.isGeometryChanged=function(){},xr.prototype.interfaces_=function(){return[]},xr.prototype.getClass=function(){return xr};var hr=function(t){function e(s,f){if(t.call(this,f),this._geometries=s||[],t.hasNullElements(this._geometries))throw new Q("geometries must not contain null elements")}t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e;var o={serialVersionUID:{configurable:!0}};return e.prototype.computeEnvelopeInternal=function(){for(var s=new ae,f=0;f<this._geometries.length;f++)s.expandToInclude(this._geometries[f].getEnvelopeInternal());return s},e.prototype.getGeometryN=function(s){return this._geometries[s]},e.prototype.getSortIndex=function(){return t.SORTINDEX_GEOMETRYCOLLECTION},e.prototype.getCoordinates=function(){for(var s=new Array(this.getNumPoints()).fill(null),f=-1,v=0;v<this._geometries.length;v++)for(var E=this._geometries[v].getCoordinates(),S=0;S<E.length;S++)s[++f]=E[S];return s},e.prototype.getArea=function(){for(var s=0,f=0;f<this._geometries.length;f++)s+=this._geometries[f].getArea();return s},e.prototype.equalsExact=function(){if(2===arguments.length){var s=arguments[0],f=arguments[1];if(!this.isEquivalentClass(s))return!1;var v=s;if(this._geometries.length!==v._geometries.length)return!1;for(var E=0;E<this._geometries.length;E++)if(!this._geometries[E].equalsExact(v._geometries[E],f))return!1;return!0}return t.prototype.equalsExact.apply(this,arguments)},e.prototype.normalize=function(){for(var s=0;s<this._geometries.length;s++)this._geometries[s].normalize();Pr.sort(this._geometries)},e.prototype.getCoordinate=function(){return this.isEmpty()?null:this._geometries[0].getCoordinate()},e.prototype.getBoundaryDimension=function(){for(var s=Be.FALSE,f=0;f<this._geometries.length;f++)s=Math.max(s,this._geometries[f].getBoundaryDimension());return s},e.prototype.getDimension=function(){for(var s=Be.FALSE,f=0;f<this._geometries.length;f++)s=Math.max(s,this._geometries[f].getDimension());return s},e.prototype.getLength=function(){for(var s=0,f=0;f<this._geometries.length;f++)s+=this._geometries[f].getLength();return s},e.prototype.getNumPoints=function(){for(var s=0,f=0;f<this._geometries.length;f++)s+=this._geometries[f].getNumPoints();return s},e.prototype.getNumGeometries=function(){return this._geometries.length},e.prototype.reverse=function(){for(var f=new Array(this._geometries.length).fill(null),v=0;v<this._geometries.length;v++)f[v]=this._geometries[v].reverse();return this.getFactory().createGeometryCollection(f)},e.prototype.compareToSameClass=function(){if(1===arguments.length){var s=arguments[0],f=new Ot(Pr.asList(this._geometries)),v=new Ot(Pr.asList(s._geometries));return this.compare(f,v)}if(2===arguments.length){for(var S=arguments[1],q=arguments[0],it=this.getNumGeometries(),Mt=q.getNumGeometries(),Dt=0;Dt<it&&Dt<Mt;){var ie=this.getGeometryN(Dt),ue=q.getGeometryN(Dt),de=ie.compareToSameClass(ue,S);if(0!==de)return de;Dt++}return Dt<it?1:Dt<Mt?-1:0}},e.prototype.apply=function(){if(ee(arguments[0],P))for(var s=arguments[0],f=0;f<this._geometries.length;f++)this._geometries[f].apply(s);else if(ee(arguments[0],xr)){var v=arguments[0];if(0===this._geometries.length)return null;for(var E=0;E<this._geometries.length&&(this._geometries[E].apply(v),!v.isDone());E++);v.isGeometryChanged()&&this.geometryChanged()}else if(ee(arguments[0],ar)){var S=arguments[0];S.filter(this);for(var q=0;q<this._geometries.length;q++)this._geometries[q].apply(S)}else if(ee(arguments[0],lo)){var it=arguments[0];it.filter(this);for(var Mt=0;Mt<this._geometries.length;Mt++)this._geometries[Mt].apply(it)}},e.prototype.getBoundary=function(){return this.checkNotGeometryCollection(this),Ae.shouldNeverReachHere(),null},e.prototype.clone=function(){var s=t.prototype.clone.call(this);s._geometries=new Array(this._geometries.length).fill(null);for(var f=0;f<this._geometries.length;f++)s._geometries[f]=this._geometries[f].clone();return s},e.prototype.getGeometryType=function(){return"GeometryCollection"},e.prototype.copy=function(){for(var s=new Array(this._geometries.length).fill(null),f=0;f<s.length;f++)s[f]=this._geometries[f].copy();return new e(s,this._factory)},e.prototype.isEmpty=function(){for(var s=0;s<this._geometries.length;s++)if(!this._geometries[s].isEmpty())return!1;return!0},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},o.serialVersionUID.get=function(){return-0x4f07bcb1f857d800},Object.defineProperties(e,o),e}(Le),So=function(t){function e(){t.apply(this,arguments)}t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e;var o={serialVersionUID:{configurable:!0}};return e.prototype.getSortIndex=function(){return Le.SORTINDEX_MULTILINESTRING},e.prototype.equalsExact=function(){if(2===arguments.length){var s=arguments[0],f=arguments[1];return!!this.isEquivalentClass(s)&&t.prototype.equalsExact.call(this,s,f)}return t.prototype.equalsExact.apply(this,arguments)},e.prototype.getBoundaryDimension=function(){return this.isClosed()?Be.FALSE:0},e.prototype.isClosed=function(){if(this.isEmpty())return!1;for(var s=0;s<this._geometries.length;s++)if(!this._geometries[s].isClosed())return!1;return!0},e.prototype.getDimension=function(){return 1},e.prototype.reverse=function(){for(var s=this._geometries.length,f=new Array(s).fill(null),v=0;v<this._geometries.length;v++)f[s-1-v]=this._geometries[v].reverse();return this.getFactory().createMultiLineString(f)},e.prototype.getBoundary=function(){return new di(this).getBoundary()},e.prototype.getGeometryType=function(){return"MultiLineString"},e.prototype.copy=function(){for(var s=new Array(this._geometries.length).fill(null),f=0;f<s.length;f++)s[f]=this._geometries[f].copy();return new e(s,this._factory)},e.prototype.interfaces_=function(){return[fr]},e.prototype.getClass=function(){return e},o.serialVersionUID.get=function(){return 0x7155d2ab4afa8000},Object.defineProperties(e,o),e}(hr),di=function(){if(this._geom=null,this._geomFact=null,this._bnRule=null,this._endpointMap=null,1===arguments.length){var t=arguments[0],e=M.MOD2_BOUNDARY_RULE;this._geom=t,this._geomFact=t.getFactory(),this._bnRule=e}else if(2===arguments.length){var o=arguments[0],s=arguments[1];this._geom=o,this._geomFact=o.getFactory(),this._bnRule=s}};di.prototype.boundaryMultiLineString=function(t){if(this._geom.isEmpty())return this.getEmptyMultiPoint();var e=this.computeBoundaryCoordinates(t);return 1===e.length?this._geomFact.createPoint(e[0]):this._geomFact.createMultiPointFromCoords(e)},di.prototype.getBoundary=function(){return this._geom instanceof Kn?this.boundaryLineString(this._geom):this._geom instanceof So?this.boundaryMultiLineString(this._geom):this._geom.getBoundary()},di.prototype.boundaryLineString=function(t){return this._geom.isEmpty()?this.getEmptyMultiPoint():t.isClosed()?this._bnRule.isInBoundary(2)?t.getStartPoint():this._geomFact.createMultiPoint():this._geomFact.createMultiPoint([t.getStartPoint(),t.getEndPoint()])},di.prototype.getEmptyMultiPoint=function(){return this._geomFact.createMultiPoint()},di.prototype.computeBoundaryCoordinates=function(t){var e=new $;this._endpointMap=new kt;for(var o=0;o<t.getNumGeometries();o++){var s=t.getGeometryN(o);0!==s.getNumPoints()&&(this.addEndpoint(s.getCoordinateN(0)),this.addEndpoint(s.getCoordinateN(s.getNumPoints()-1)))}for(var f=this._endpointMap.entrySet().iterator();f.hasNext();){var v=f.next(),E=v.getValue().count;this._bnRule.isInBoundary(E)&&e.add(v.getKey())}return oe.toCoordinateArray(e)},di.prototype.addEndpoint=function(t){var e=this._endpointMap.get(t);null===e&&(e=new Ps,this._endpointMap.put(t,e)),e.count++},di.prototype.interfaces_=function(){return[]},di.prototype.getClass=function(){return di},di.getBoundary=function(){return 1===arguments.length?new di(arguments[0]).getBoundary():2===arguments.length?new di(arguments[0],arguments[1]).getBoundary():void 0};var Ps=function(){this.count=null};Ps.prototype.interfaces_=function(){return[]},Ps.prototype.getClass=function(){return Ps};var zr=function(){},Wo={NEWLINE:{configurable:!0},SIMPLE_ORDINATE_FORMAT:{configurable:!0}};zr.prototype.interfaces_=function(){return[]},zr.prototype.getClass=function(){return zr},zr.chars=function(t,e){for(var o=new Array(e).fill(null),s=0;s<e;s++)o[s]=t;return String(o)},zr.getStackTrace=function(){if(1===arguments.length){var t=arguments[0],e=new function(){},o=new function(){}(e);return t.printStackTrace(o),e.toString()}if(2===arguments.length){for(var f=arguments[1],v="",E=new function(){}(new function(){}(zr.getStackTrace(arguments[0]))),S=0;S<f;S++)try{v+=E.readLine()+zr.NEWLINE}catch(q){if(!(q instanceof re))throw q;Ae.shouldNeverReachHere()}return v}},zr.split=function(t,e){for(var o=e.length,s=new $,f=""+t,v=f.indexOf(e);v>=0;){var E=f.substring(0,v);s.add(E),v=(f=f.substring(v+o)).indexOf(e)}f.length>0&&s.add(f);for(var S=new Array(s.size()).fill(null),q=0;q<S.length;q++)S[q]=s.get(q);return S},zr.toString=function(){if(1===arguments.length)return zr.SIMPLE_ORDINATE_FORMAT.format(arguments[0])},zr.spaces=function(t){return zr.chars(" ",t)},Wo.NEWLINE.get=function(){return Xe.getProperty("line.separator")},Wo.SIMPLE_ORDINATE_FORMAT.get=function(){return new function(){}("0.#")},Object.defineProperties(zr,Wo);var Yn=function(){};Yn.prototype.interfaces_=function(){return[]},Yn.prototype.getClass=function(){return Yn},Yn.copyCoord=function(t,e,o,s){for(var f=Math.min(t.getDimension(),o.getDimension()),v=0;v<f;v++)o.setOrdinate(s,v,t.getOrdinate(e,v))},Yn.isRing=function(t){var e=t.size();return 0===e||!(e<=3)&&t.getOrdinate(0,Vt.X)===t.getOrdinate(e-1,Vt.X)&&t.getOrdinate(0,Vt.Y)===t.getOrdinate(e-1,Vt.Y)},Yn.isEqual=function(t,e){var o=t.size();if(o!==e.size())return!1;for(var s=Math.min(t.getDimension(),e.getDimension()),f=0;f<o;f++)for(var v=0;v<s;v++){var E=t.getOrdinate(f,v),S=e.getOrdinate(f,v);if(!(t.getOrdinate(f,v)===e.getOrdinate(f,v)||U.isNaN(E)&&U.isNaN(S)))return!1}return!0},Yn.extend=function(t,e,o){var s=t.create(o,e.getDimension()),f=e.size();if(Yn.copy(e,0,s,0,f),f>0)for(var v=f;v<o;v++)Yn.copy(e,f-1,s,v,1);return s},Yn.reverse=function(t){for(var e=t.size()-1,o=Math.trunc(e/2),s=0;s<=o;s++)Yn.swap(t,s,e-s)},Yn.swap=function(t,e,o){if(e===o)return null;for(var s=0;s<t.getDimension();s++){var f=t.getOrdinate(e,s);t.setOrdinate(e,s,t.getOrdinate(o,s)),t.setOrdinate(o,s,f)}},Yn.copy=function(t,e,o,s,f){for(var v=0;v<f;v++)Yn.copyCoord(t,e+v,o,s+v)},Yn.toString=function(){if(1===arguments.length){var t=arguments[0],e=t.size();if(0===e)return"()";var o=t.getDimension(),s=new lt;s.append("(");for(var f=0;f<e;f++){f>0&&s.append(" ");for(var v=0;v<o;v++)v>0&&s.append(","),s.append(zr.toString(t.getOrdinate(f,v)))}return s.append(")"),s.toString()}},Yn.ensureValidRing=function(t,e){var o=e.size();return 0===o?e:o<=3?Yn.createClosedRing(t,e,4):e.getOrdinate(0,Vt.X)===e.getOrdinate(o-1,Vt.X)&&e.getOrdinate(0,Vt.Y)===e.getOrdinate(o-1,Vt.Y)?e:Yn.createClosedRing(t,e,o+1)},Yn.createClosedRing=function(t,e,o){var s=t.create(o,e.getDimension()),f=e.size();Yn.copy(e,0,s,0,f);for(var v=f;v<o;v++)Yn.copy(e,0,s,v,1);return s};var Kn=function(t){function e(s,f){t.call(this,f),this._points=null,this.init(s)}t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e;var o={serialVersionUID:{configurable:!0}};return e.prototype.computeEnvelopeInternal=function(){return this.isEmpty()?new ae:this._points.expandEnvelope(new ae)},e.prototype.isRing=function(){return this.isClosed()&&this.isSimple()},e.prototype.getSortIndex=function(){return t.SORTINDEX_LINESTRING},e.prototype.getCoordinates=function(){return this._points.toCoordinateArray()},e.prototype.equalsExact=function(){if(2===arguments.length){var s=arguments[0],f=arguments[1];if(!this.isEquivalentClass(s))return!1;var v=s;if(this._points.size()!==v._points.size())return!1;for(var E=0;E<this._points.size();E++)if(!this.equal(this._points.getCoordinate(E),v._points.getCoordinate(E),f))return!1;return!0}return t.prototype.equalsExact.apply(this,arguments)},e.prototype.normalize=function(){for(var s=0;s<Math.trunc(this._points.size()/2);s++){var f=this._points.size()-1-s;if(!this._points.getCoordinate(s).equals(this._points.getCoordinate(f)))return this._points.getCoordinate(s).compareTo(this._points.getCoordinate(f))>0&&Yn.reverse(this._points),null}},e.prototype.getCoordinate=function(){return this.isEmpty()?null:this._points.getCoordinate(0)},e.prototype.getBoundaryDimension=function(){return this.isClosed()?Be.FALSE:0},e.prototype.isClosed=function(){return!this.isEmpty()&&this.getCoordinateN(0).equals2D(this.getCoordinateN(this.getNumPoints()-1))},e.prototype.getEndPoint=function(){return this.isEmpty()?null:this.getPointN(this.getNumPoints()-1)},e.prototype.getDimension=function(){return 1},e.prototype.getLength=function(){return se.computeLength(this._points)},e.prototype.getNumPoints=function(){return this._points.size()},e.prototype.reverse=function(){var s=this._points.copy();return Yn.reverse(s),this.getFactory().createLineString(s)},e.prototype.compareToSameClass=function(){if(1===arguments.length){for(var s=arguments[0],f=0,v=0;f<this._points.size()&&v<s._points.size();){var E=this._points.getCoordinate(f).compareTo(s._points.getCoordinate(v));if(0!==E)return E;f++,v++}return f<this._points.size()?1:v<s._points.size()?-1:0}if(2===arguments.length)return arguments[1].compare(this._points,arguments[0]._points)},e.prototype.apply=function(){if(ee(arguments[0],P))for(var s=arguments[0],f=0;f<this._points.size();f++)s.filter(this._points.getCoordinate(f));else if(ee(arguments[0],xr)){var v=arguments[0];if(0===this._points.size())return null;for(var E=0;E<this._points.size()&&(v.filter(this._points,E),!v.isDone());E++);v.isGeometryChanged()&&this.geometryChanged()}else(ee(arguments[0],ar)||ee(arguments[0],lo))&&arguments[0].filter(this)},e.prototype.getBoundary=function(){return new di(this).getBoundary()},e.prototype.isEquivalentClass=function(s){return s instanceof e},e.prototype.clone=function(){var s=t.prototype.clone.call(this);return s._points=this._points.clone(),s},e.prototype.getCoordinateN=function(s){return this._points.getCoordinate(s)},e.prototype.getGeometryType=function(){return"LineString"},e.prototype.copy=function(){return new e(this._points.copy(),this._factory)},e.prototype.getCoordinateSequence=function(){return this._points},e.prototype.isEmpty=function(){return 0===this._points.size()},e.prototype.init=function(s){if(null===s&&(s=this.getFactory().getCoordinateSequenceFactory().create([])),1===s.size())throw new Q("Invalid number of points in LineString (found "+s.size()+" - must be 0 or >= 2)");this._points=s},e.prototype.isCoordinate=function(s){for(var f=0;f<this._points.size();f++)if(this._points.getCoordinate(f).equals(s))return!0;return!1},e.prototype.getStartPoint=function(){return this.isEmpty()?null:this.getPointN(0)},e.prototype.getPointN=function(s){return this.getFactory().createPoint(this._points.getCoordinate(s))},e.prototype.interfaces_=function(){return[fr]},e.prototype.getClass=function(){return e},o.serialVersionUID.get=function(){return 0x2b2b51ba435c8e00},Object.defineProperties(e,o),e}(Le),Ss=function(){};Ss.prototype.interfaces_=function(){return[]},Ss.prototype.getClass=function(){return Ss};var ri=function(t){function e(s,f){t.call(this,f),this._coordinates=s||null,this.init(this._coordinates)}t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e;var o={serialVersionUID:{configurable:!0}};return e.prototype.computeEnvelopeInternal=function(){if(this.isEmpty())return new ae;var s=new ae;return s.expandToInclude(this._coordinates.getX(0),this._coordinates.getY(0)),s},e.prototype.getSortIndex=function(){return t.SORTINDEX_POINT},e.prototype.getCoordinates=function(){return this.isEmpty()?[]:[this.getCoordinate()]},e.prototype.equalsExact=function(){if(2===arguments.length){var s=arguments[0],f=arguments[1];return!!this.isEquivalentClass(s)&&(!(!this.isEmpty()||!s.isEmpty())||this.isEmpty()===s.isEmpty()&&this.equal(s.getCoordinate(),this.getCoordinate(),f))}return t.prototype.equalsExact.apply(this,arguments)},e.prototype.normalize=function(){},e.prototype.getCoordinate=function(){return 0!==this._coordinates.size()?this._coordinates.getCoordinate(0):null},e.prototype.getBoundaryDimension=function(){return Be.FALSE},e.prototype.getDimension=function(){return 0},e.prototype.getNumPoints=function(){return this.isEmpty()?0:1},e.prototype.reverse=function(){return this.copy()},e.prototype.getX=function(){if(null===this.getCoordinate())throw new Error("getX called on empty Point");return this.getCoordinate().x},e.prototype.compareToSameClass=function(){if(1===arguments.length){var s=arguments[0];return this.getCoordinate().compareTo(s.getCoordinate())}if(2===arguments.length)return arguments[1].compare(this._coordinates,arguments[0]._coordinates)},e.prototype.apply=function(){if(ee(arguments[0],P)){var s=arguments[0];if(this.isEmpty())return null;s.filter(this.getCoordinate())}else if(ee(arguments[0],xr)){var f=arguments[0];if(this.isEmpty())return null;f.filter(this._coordinates,0),f.isGeometryChanged()&&this.geometryChanged()}else(ee(arguments[0],ar)||ee(arguments[0],lo))&&arguments[0].filter(this)},e.prototype.getBoundary=function(){return this.getFactory().createGeometryCollection(null)},e.prototype.clone=function(){var s=t.prototype.clone.call(this);return s._coordinates=this._coordinates.clone(),s},e.prototype.getGeometryType=function(){return"Point"},e.prototype.copy=function(){return new e(this._coordinates.copy(),this._factory)},e.prototype.getCoordinateSequence=function(){return this._coordinates},e.prototype.getY=function(){if(null===this.getCoordinate())throw new Error("getY called on empty Point");return this.getCoordinate().y},e.prototype.isEmpty=function(){return 0===this._coordinates.size()},e.prototype.init=function(s){null===s&&(s=this.getFactory().getCoordinateSequenceFactory().create([])),Ae.isTrue(s.size()<=1),this._coordinates=s},e.prototype.isSimple=function(){return!0},e.prototype.interfaces_=function(){return[Ss]},e.prototype.getClass=function(){return e},o.serialVersionUID.get=function(){return 0x44077bad161cbc00},Object.defineProperties(e,o),e}(Le),Co=function(){};Co.prototype.interfaces_=function(){return[]},Co.prototype.getClass=function(){return Co};var ur=function(t){function e(s,f,v){if(t.call(this,v),this._shell=null,this._holes=null,null===s&&(s=this.getFactory().createLinearRing()),null===f&&(f=[]),t.hasNullElements(f))throw new Q("holes must not contain null elements");if(s.isEmpty()&&t.hasNonEmptyElements(f))throw new Q("shell is empty but holes are not");this._shell=s,this._holes=f}t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e;var o={serialVersionUID:{configurable:!0}};return e.prototype.computeEnvelopeInternal=function(){return this._shell.getEnvelopeInternal()},e.prototype.getSortIndex=function(){return t.SORTINDEX_POLYGON},e.prototype.getCoordinates=function(){if(this.isEmpty())return[];for(var s=new Array(this.getNumPoints()).fill(null),f=-1,v=this._shell.getCoordinates(),E=0;E<v.length;E++)s[++f]=v[E];for(var S=0;S<this._holes.length;S++)for(var q=this._holes[S].getCoordinates(),it=0;it<q.length;it++)s[++f]=q[it];return s},e.prototype.getArea=function(){var s=0;s+=Math.abs(se.signedArea(this._shell.getCoordinateSequence()));for(var f=0;f<this._holes.length;f++)s-=Math.abs(se.signedArea(this._holes[f].getCoordinateSequence()));return s},e.prototype.isRectangle=function(){if(0!==this.getNumInteriorRing()||null===this._shell||5!==this._shell.getNumPoints())return!1;for(var s=this._shell.getCoordinateSequence(),f=this.getEnvelopeInternal(),v=0;v<5;v++){var E=s.getX(v);if(E!==f.getMinX()&&E!==f.getMaxX())return!1;var S=s.getY(v);if(S!==f.getMinY()&&S!==f.getMaxY())return!1}for(var q=s.getX(0),it=s.getY(0),Mt=1;Mt<=4;Mt++){var Dt=s.getX(Mt),ie=s.getY(Mt);if(Dt!==q==(ie!==it))return!1;q=Dt,it=ie}return!0},e.prototype.equalsExact=function(){if(2===arguments.length){var s=arguments[0],f=arguments[1];if(!this.isEquivalentClass(s))return!1;var v=s;if(!this._shell.equalsExact(v._shell,f)||this._holes.length!==v._holes.length)return!1;for(var q=0;q<this._holes.length;q++)if(!this._holes[q].equalsExact(v._holes[q],f))return!1;return!0}return t.prototype.equalsExact.apply(this,arguments)},e.prototype.normalize=function(){if(0===arguments.length){this.normalize(this._shell,!0);for(var s=0;s<this._holes.length;s++)this.normalize(this._holes[s],!1);Pr.sort(this._holes)}else if(2===arguments.length){var f=arguments[0],v=arguments[1];if(f.isEmpty())return null;var E=new Array(f.getCoordinates().length-1).fill(null);Xe.arraycopy(f.getCoordinates(),0,E,0,E.length);var S=oe.minCoordinate(f.getCoordinates());oe.scroll(E,S),Xe.arraycopy(E,0,f.getCoordinates(),0,E.length),f.getCoordinates()[E.length]=E[0],se.isCCW(f.getCoordinates())===v&&oe.reverse(f.getCoordinates())}},e.prototype.getCoordinate=function(){return this._shell.getCoordinate()},e.prototype.getNumInteriorRing=function(){return this._holes.length},e.prototype.getBoundaryDimension=function(){return 1},e.prototype.getDimension=function(){return 2},e.prototype.getLength=function(){var s=0;s+=this._shell.getLength();for(var f=0;f<this._holes.length;f++)s+=this._holes[f].getLength();return s},e.prototype.getNumPoints=function(){for(var s=this._shell.getNumPoints(),f=0;f<this._holes.length;f++)s+=this._holes[f].getNumPoints();return s},e.prototype.reverse=function(){var s=this.copy();s._shell=this._shell.copy().reverse(),s._holes=new Array(this._holes.length).fill(null);for(var f=0;f<this._holes.length;f++)s._holes[f]=this._holes[f].copy().reverse();return s},e.prototype.convexHull=function(){return this.getExteriorRing().convexHull()},e.prototype.compareToSameClass=function(){if(1===arguments.length)return this._shell.compareToSameClass(arguments[0]._shell);if(2===arguments.length){var S=arguments[1],q=arguments[0],Dt=this._shell.compareToSameClass(q._shell,S);if(0!==Dt)return Dt;for(var ie=this.getNumInteriorRing(),ue=q.getNumInteriorRing(),de=0;de<ie&&de<ue;){var Ne=this.getInteriorRingN(de),Bn=q.getInteriorRingN(de),vr=Ne.compareToSameClass(Bn,S);if(0!==vr)return vr;de++}return de<ie?1:de<ue?-1:0}},e.prototype.apply=function(s){if(ee(s,P)){this._shell.apply(s);for(var f=0;f<this._holes.length;f++)this._holes[f].apply(s)}else if(ee(s,xr)){if(this._shell.apply(s),!s.isDone())for(var v=0;v<this._holes.length&&(this._holes[v].apply(s),!s.isDone());v++);s.isGeometryChanged()&&this.geometryChanged()}else if(ee(s,ar))s.filter(this);else if(ee(s,lo)){s.filter(this),this._shell.apply(s);for(var E=0;E<this._holes.length;E++)this._holes[E].apply(s)}},e.prototype.getBoundary=function(){if(this.isEmpty())return this.getFactory().createMultiLineString();var s=new Array(this._holes.length+1).fill(null);s[0]=this._shell;for(var f=0;f<this._holes.length;f++)s[f+1]=this._holes[f];return s.length<=1?this.getFactory().createLinearRing(s[0].getCoordinateSequence()):this.getFactory().createMultiLineString(s)},e.prototype.clone=function(){var s=t.prototype.clone.call(this);s._shell=this._shell.clone(),s._holes=new Array(this._holes.length).fill(null);for(var f=0;f<this._holes.length;f++)s._holes[f]=this._holes[f].clone();return s},e.prototype.getGeometryType=function(){return"Polygon"},e.prototype.copy=function(){for(var s=this._shell.copy(),f=new Array(this._holes.length).fill(null),v=0;v<f.length;v++)f[v]=this._holes[v].copy();return new e(s,f,this._factory)},e.prototype.getExteriorRing=function(){return this._shell},e.prototype.isEmpty=function(){return this._shell.isEmpty()},e.prototype.getInteriorRingN=function(s){return this._holes[s]},e.prototype.interfaces_=function(){return[Co]},e.prototype.getClass=function(){return e},o.serialVersionUID.get=function(){return-0x307ffefd8dc97200},Object.defineProperties(e,o),e}(Le),ps=function(t){function e(){t.apply(this,arguments)}t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e;var o={serialVersionUID:{configurable:!0}};return e.prototype.getSortIndex=function(){return Le.SORTINDEX_MULTIPOINT},e.prototype.isValid=function(){return!0},e.prototype.equalsExact=function(){if(2===arguments.length){var s=arguments[0],f=arguments[1];return!!this.isEquivalentClass(s)&&t.prototype.equalsExact.call(this,s,f)}return t.prototype.equalsExact.apply(this,arguments)},e.prototype.getCoordinate=function(){return 1===arguments.length?this._geometries[arguments[0]].getCoordinate():t.prototype.getCoordinate.apply(this,arguments)},e.prototype.getBoundaryDimension=function(){return Be.FALSE},e.prototype.getDimension=function(){return 0},e.prototype.getBoundary=function(){return this.getFactory().createGeometryCollection(null)},e.prototype.getGeometryType=function(){return"MultiPoint"},e.prototype.copy=function(){for(var s=new Array(this._geometries.length).fill(null),f=0;f<s.length;f++)s[f]=this._geometries[f].copy();return new e(s,this._factory)},e.prototype.interfaces_=function(){return[Ss]},e.prototype.getClass=function(){return e},o.serialVersionUID.get=function(){return-0x6fb1ed4162e0fc00},Object.defineProperties(e,o),e}(hr),Gi=function(t){function e(s,f){s instanceof R&&f instanceof Ye&&(s=f.getCoordinateSequenceFactory().create(s)),t.call(this,s,f),this.validateConstruction()}t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e;var o={MINIMUM_VALID_SIZE:{configurable:!0},serialVersionUID:{configurable:!0}};return e.prototype.getSortIndex=function(){return Le.SORTINDEX_LINEARRING},e.prototype.getBoundaryDimension=function(){return Be.FALSE},e.prototype.isClosed=function(){return!!this.isEmpty()||t.prototype.isClosed.call(this)},e.prototype.reverse=function(){var s=this._points.copy();return Yn.reverse(s),this.getFactory().createLinearRing(s)},e.prototype.validateConstruction=function(){if(!this.isEmpty()&&!t.prototype.isClosed.call(this))throw new Q("Points of LinearRing do not form a closed linestring");if(this.getCoordinateSequence().size()>=1&&this.getCoordinateSequence().size()<e.MINIMUM_VALID_SIZE)throw new Q("Invalid number of points in LinearRing (found "+this.getCoordinateSequence().size()+" - must be 0 or >= 4)")},e.prototype.getGeometryType=function(){return"LinearRing"},e.prototype.copy=function(){return new e(this._points.copy(),this._factory)},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},o.MINIMUM_VALID_SIZE.get=function(){return 4},o.serialVersionUID.get=function(){return-0x3b229e262367a600},Object.defineProperties(e,o),e}(Kn),qi=function(t){function e(){t.apply(this,arguments)}t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e;var o={serialVersionUID:{configurable:!0}};return e.prototype.getSortIndex=function(){return Le.SORTINDEX_MULTIPOLYGON},e.prototype.equalsExact=function(){if(2===arguments.length){var s=arguments[0],f=arguments[1];return!!this.isEquivalentClass(s)&&t.prototype.equalsExact.call(this,s,f)}return t.prototype.equalsExact.apply(this,arguments)},e.prototype.getBoundaryDimension=function(){return 1},e.prototype.getDimension=function(){return 2},e.prototype.reverse=function(){for(var f=new Array(this._geometries.length).fill(null),v=0;v<this._geometries.length;v++)f[v]=this._geometries[v].reverse();return this.getFactory().createMultiPolygon(f)},e.prototype.getBoundary=function(){if(this.isEmpty())return this.getFactory().createMultiLineString();for(var s=new $,f=0;f<this._geometries.length;f++)for(var v=this._geometries[f].getBoundary(),E=0;E<v.getNumGeometries();E++)s.add(v.getGeometryN(E));var S=new Array(s.size()).fill(null);return this.getFactory().createMultiLineString(s.toArray(S))},e.prototype.getGeometryType=function(){return"MultiPolygon"},e.prototype.copy=function(){for(var s=new Array(this._geometries.length).fill(null),f=0;f<s.length;f++)s[f]=this._geometries[f].copy();return new e(s,this._factory)},e.prototype.interfaces_=function(){return[Co]},e.prototype.getClass=function(){return e},o.serialVersionUID.get=function(){return-0x7a5aa1369171980},Object.defineProperties(e,o),e}(hr),yi=function(t){this._factory=t||null,this._isUserDataCopied=!1},ki={NoOpGeometryOperation:{configurable:!0},CoordinateOperation:{configurable:!0},CoordinateSequenceOperation:{configurable:!0}};yi.prototype.setCopyUserData=function(t){this._isUserDataCopied=t},yi.prototype.edit=function(t,e){if(null===t)return null;var o=this.editInternal(t,e);return this._isUserDataCopied&&o.setUserData(t.getUserData()),o},yi.prototype.editInternal=function(t,e){return null===this._factory&&(this._factory=t.getFactory()),t instanceof hr?this.editGeometryCollection(t,e):t instanceof ur?this.editPolygon(t,e):t instanceof ri||t instanceof Kn?e.edit(t,this._factory):(Ae.shouldNeverReachHere("Unsupported Geometry class: "+t.getClass().getName()),null)},yi.prototype.editGeometryCollection=function(t,e){for(var o=e.edit(t,this._factory),s=new $,f=0;f<o.getNumGeometries();f++){var v=this.edit(o.getGeometryN(f),e);null===v||v.isEmpty()||s.add(v)}return o.getClass()===ps?this._factory.createMultiPoint(s.toArray([])):o.getClass()===So?this._factory.createMultiLineString(s.toArray([])):o.getClass()===qi?this._factory.createMultiPolygon(s.toArray([])):this._factory.createGeometryCollection(s.toArray([]))},yi.prototype.editPolygon=function(t,e){var o=e.edit(t,this._factory);if(null===o&&(o=this._factory.createPolygon(null)),o.isEmpty())return o;var s=this.edit(o.getExteriorRing(),e);if(null===s||s.isEmpty())return this._factory.createPolygon();for(var f=new $,v=0;v<o.getNumInteriorRing();v++){var E=this.edit(o.getInteriorRingN(v),e);null===E||E.isEmpty()||f.add(E)}return this._factory.createPolygon(s,f.toArray([]))},yi.prototype.interfaces_=function(){return[]},yi.prototype.getClass=function(){return yi},yi.GeometryEditorOperation=function(){},ki.NoOpGeometryOperation.get=function(){return $o},ki.CoordinateOperation.get=function(){return Cs},ki.CoordinateSequenceOperation.get=function(){return $r},Object.defineProperties(yi,ki);var $o=function(){};$o.prototype.edit=function(t,e){return t},$o.prototype.interfaces_=function(){return[yi.GeometryEditorOperation]},$o.prototype.getClass=function(){return $o};var Cs=function(){};Cs.prototype.edit=function(t,e){var o=this.editCoordinates(t.getCoordinates(),t);return null===o?t:t instanceof Gi?e.createLinearRing(o):t instanceof Kn?e.createLineString(o):t instanceof ri?o.length>0?e.createPoint(o[0]):e.createPoint():t},Cs.prototype.interfaces_=function(){return[yi.GeometryEditorOperation]},Cs.prototype.getClass=function(){return Cs};var $r=function(){};$r.prototype.edit=function(t,e){return t instanceof Gi?e.createLinearRing(this.edit(t.getCoordinateSequence(),t)):t instanceof Kn?e.createLineString(this.edit(t.getCoordinateSequence(),t)):t instanceof ri?e.createPoint(this.edit(t.getCoordinateSequence(),t)):t},$r.prototype.interfaces_=function(){return[yi.GeometryEditorOperation]},$r.prototype.getClass=function(){return $r};var Hn=function(){if(this._dimension=3,this._coordinates=null,1===arguments.length){if(arguments[0]instanceof Array)this._coordinates=arguments[0],this._dimension=3;else if(Number.isInteger(arguments[0])){var t=arguments[0];this._coordinates=new Array(t).fill(null);for(var e=0;e<t;e++)this._coordinates[e]=new R}else if(ee(arguments[0],Vt)){var o=arguments[0];if(null===o)return this._coordinates=new Array(0).fill(null),null;this._dimension=o.getDimension(),this._coordinates=new Array(o.size()).fill(null);for(var s=0;s<this._coordinates.length;s++)this._coordinates[s]=o.getCoordinateCopy(s)}}else if(2===arguments.length)if(arguments[0]instanceof Array&&Number.isInteger(arguments[1])){var f=arguments[0],v=arguments[1];this._coordinates=f,this._dimension=v,null===f&&(this._coordinates=new Array(0).fill(null))}else if(Number.isInteger(arguments[0])&&Number.isInteger(arguments[1])){var E=arguments[0],S=arguments[1];this._coordinates=new Array(E).fill(null),this._dimension=S;for(var q=0;q<E;q++)this._coordinates[q]=new R}},gs={serialVersionUID:{configurable:!0}};Hn.prototype.setOrdinate=function(t,e,o){switch(e){case Vt.X:this._coordinates[t].x=o;break;case Vt.Y:this._coordinates[t].y=o;break;case Vt.Z:this._coordinates[t].z=o;break;default:throw new Q("invalid ordinateIndex")}},Hn.prototype.size=function(){return this._coordinates.length},Hn.prototype.getOrdinate=function(t,e){switch(e){case Vt.X:return this._coordinates[t].x;case Vt.Y:return this._coordinates[t].y;case Vt.Z:return this._coordinates[t].z}return U.NaN},Hn.prototype.getCoordinate=function(){if(1===arguments.length)return this._coordinates[arguments[0]];if(2===arguments.length){var e=arguments[0],o=arguments[1];o.x=this._coordinates[e].x,o.y=this._coordinates[e].y,o.z=this._coordinates[e].z}},Hn.prototype.getCoordinateCopy=function(t){return new R(this._coordinates[t])},Hn.prototype.getDimension=function(){return this._dimension},Hn.prototype.getX=function(t){return this._coordinates[t].x},Hn.prototype.clone=function(){for(var t=new Array(this.size()).fill(null),e=0;e<this._coordinates.length;e++)t[e]=this._coordinates[e].clone();return new Hn(t,this._dimension)},Hn.prototype.expandEnvelope=function(t){for(var e=0;e<this._coordinates.length;e++)t.expandToInclude(this._coordinates[e]);return t},Hn.prototype.copy=function(){for(var t=new Array(this.size()).fill(null),e=0;e<this._coordinates.length;e++)t[e]=this._coordinates[e].copy();return new Hn(t,this._dimension)},Hn.prototype.toString=function(){if(this._coordinates.length>0){var t=new lt(17*this._coordinates.length);t.append("("),t.append(this._coordinates[0]);for(var e=1;e<this._coordinates.length;e++)t.append(", "),t.append(this._coordinates[e]);return t.append(")"),t.toString()}return"()"},Hn.prototype.getY=function(t){return this._coordinates[t].y},Hn.prototype.toCoordinateArray=function(){return this._coordinates},Hn.prototype.interfaces_=function(){return[Vt,G]},Hn.prototype.getClass=function(){return Hn},gs.serialVersionUID.get=function(){return-0xcb44a778db18e00},Object.defineProperties(Hn,gs);var zi=function(){},Ui={serialVersionUID:{configurable:!0},instanceObject:{configurable:!0}};zi.prototype.readResolve=function(){return zi.instance()},zi.prototype.create=function(){if(1===arguments.length){if(arguments[0]instanceof Array)return new Hn(arguments[0]);if(ee(arguments[0],Vt))return new Hn(arguments[0])}else if(2===arguments.length){var o=arguments[0],s=arguments[1];return s>3&&(s=3),s<2?new Hn(o):new Hn(o,s)}},zi.prototype.interfaces_=function(){return[mt,G]},zi.prototype.getClass=function(){return zi},zi.instance=function(){return zi.instanceObject},Ui.serialVersionUID.get=function(){return-0x38e49fa6cf6f2e00},Ui.instanceObject.get=function(){return new zi},Object.defineProperties(zi,Ui);var Vs=function(t){function e(){t.call(this),this.map_=new Map}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.get=function(o){return this.map_.get(o)||null},e.prototype.put=function(o,s){return this.map_.set(o,s),s},e.prototype.values=function(){for(var o=new $,s=this.map_.values(),f=s.next();!f.done;)o.add(f.value),f=s.next();return o},e.prototype.entrySet=function(){var o=new sr;return this.map_.entries().forEach(function(s){return o.add(s)}),o},e.prototype.size=function(){return this.map_.size()},e}(Un),Je=function t(){if(this._modelType=null,this._scale=null,0===arguments.length)this._modelType=t.FLOATING;else if(1===arguments.length)if(arguments[0]instanceof co){var e=arguments[0];this._modelType=e,e===t.FIXED&&this.setScale(1)}else if("number"==typeof arguments[0]){var o=arguments[0];this._modelType=t.FIXED,this.setScale(o)}else if(arguments[0]instanceof t){var s=arguments[0];this._modelType=s._modelType,this._scale=s._scale}},ma={serialVersionUID:{configurable:!0},maximumPreciseValue:{configurable:!0}};Je.prototype.equals=function(t){return t instanceof Je&&this._modelType===t._modelType&&this._scale===t._scale},Je.prototype.compareTo=function(t){var e=t,o=this.getMaximumSignificantDigits(),s=e.getMaximumSignificantDigits();return new Gt(o).compareTo(new Gt(s))},Je.prototype.getScale=function(){return this._scale},Je.prototype.isFloating=function(){return this._modelType===Je.FLOATING||this._modelType===Je.FLOATING_SINGLE},Je.prototype.getType=function(){return this._modelType},Je.prototype.toString=function(){var t="UNKNOWN";return this._modelType===Je.FLOATING?t="Floating":this._modelType===Je.FLOATING_SINGLE?t="Floating-Single":this._modelType===Je.FIXED&&(t="Fixed (Scale="+this.getScale()+")"),t},Je.prototype.makePrecise=function(){if("number"==typeof arguments[0]){var t=arguments[0];return U.isNaN(t)||this._modelType===Je.FLOATING_SINGLE?t:this._modelType===Je.FIXED?Math.round(t*this._scale)/this._scale:t}if(arguments[0]instanceof R){var e=arguments[0];if(this._modelType===Je.FLOATING)return null;e.x=this.makePrecise(e.x),e.y=this.makePrecise(e.y)}},Je.prototype.getMaximumSignificantDigits=function(){var t=16;return this._modelType===Je.FLOATING?t=16:this._modelType===Je.FLOATING_SINGLE?t=6:this._modelType===Je.FIXED&&(t=1+Math.trunc(Math.ceil(Math.log(this.getScale())/Math.log(10)))),t},Je.prototype.setScale=function(t){this._scale=Math.abs(t)},Je.prototype.interfaces_=function(){return[G,rt]},Je.prototype.getClass=function(){return Je},Je.mostPrecise=function(t,e){return t.compareTo(e)>=0?t:e},ma.serialVersionUID.get=function(){return 0x6bee6404e9a25c00},ma.maximumPreciseValue.get=function(){return 9007199254740992},Object.defineProperties(Je,ma);var co=function t(e){this._name=e||null,t.nameToTypeMap.put(e,this)},Ya={serialVersionUID:{configurable:!0},nameToTypeMap:{configurable:!0}};co.prototype.readResolve=function(){return co.nameToTypeMap.get(this._name)},co.prototype.toString=function(){return this._name},co.prototype.interfaces_=function(){return[G]},co.prototype.getClass=function(){return co},Ya.serialVersionUID.get=function(){return-552860263173159e4},Ya.nameToTypeMap.get=function(){return new Vs},Object.defineProperties(co,Ya),Je.Type=co,Je.FIXED=new co("FIXED"),Je.FLOATING=new co("FLOATING"),Je.FLOATING_SINGLE=new co("FLOATING SINGLE");var Ye=function t(){this._precisionModel=new Je,this._SRID=0,this._coordinateSequenceFactory=t.getDefaultCoordinateSequenceFactory(),0===arguments.length||(1===arguments.length?ee(arguments[0],mt)?this._coordinateSequenceFactory=arguments[0]:arguments[0]instanceof Je&&(this._precisionModel=arguments[0]):2===arguments.length?(this._precisionModel=arguments[0],this._SRID=arguments[1]):3===arguments.length&&(this._precisionModel=arguments[0],this._SRID=arguments[1],this._coordinateSequenceFactory=arguments[2]))},Ha={serialVersionUID:{configurable:!0}};Ye.prototype.toGeometry=function(t){return t.isNull()?this.createPoint(null):t.getMinX()===t.getMaxX()&&t.getMinY()===t.getMaxY()?this.createPoint(new R(t.getMinX(),t.getMinY())):t.getMinX()===t.getMaxX()||t.getMinY()===t.getMaxY()?this.createLineString([new R(t.getMinX(),t.getMinY()),new R(t.getMaxX(),t.getMaxY())]):this.createPolygon(this.createLinearRing([new R(t.getMinX(),t.getMinY()),new R(t.getMinX(),t.getMaxY()),new R(t.getMaxX(),t.getMaxY()),new R(t.getMaxX(),t.getMinY()),new R(t.getMinX(),t.getMinY())]),null)},Ye.prototype.createLineString=function(t){return t?t instanceof Array?new Kn(this.getCoordinateSequenceFactory().create(t),this):ee(t,Vt)?new Kn(t,this):void 0:new Kn(this.getCoordinateSequenceFactory().create([]),this)},Ye.prototype.createMultiLineString=function(){return 0===arguments.length?new So(null,this):1===arguments.length?new So(arguments[0],this):void 0},Ye.prototype.buildGeometry=function(t){for(var e=null,o=!1,s=!1,f=t.iterator();f.hasNext();){var v=f.next(),E=v.getClass();null===e&&(e=E),E!==e&&(o=!0),v.isGeometryCollectionOrDerived()&&(s=!0)}if(null===e)return this.createGeometryCollection();if(o||s)return this.createGeometryCollection(Ye.toGeometryArray(t));var S=t.iterator().next();if(t.size()>1){if(S instanceof ur)return this.createMultiPolygon(Ye.toPolygonArray(t));if(S instanceof Kn)return this.createMultiLineString(Ye.toLineStringArray(t));if(S instanceof ri)return this.createMultiPoint(Ye.toPointArray(t));Ae.shouldNeverReachHere("Unhandled class: "+S.getClass().getName())}return S},Ye.prototype.createMultiPointFromCoords=function(t){return this.createMultiPoint(null!==t?this.getCoordinateSequenceFactory().create(t):null)},Ye.prototype.createPoint=function(){if(0===arguments.length)return this.createPoint(this.getCoordinateSequenceFactory().create([]));if(1===arguments.length){if(arguments[0]instanceof R){var t=arguments[0];return this.createPoint(null!==t?this.getCoordinateSequenceFactory().create([t]):null)}if(ee(arguments[0],Vt))return new ri(arguments[0],this)}},Ye.prototype.getCoordinateSequenceFactory=function(){return this._coordinateSequenceFactory},Ye.prototype.createPolygon=function(){if(0===arguments.length)return new ur(null,null,this);if(1===arguments.length){if(ee(arguments[0],Vt))return this.createPolygon(this.createLinearRing(arguments[0]));if(arguments[0]instanceof Array)return this.createPolygon(this.createLinearRing(arguments[0]));if(arguments[0]instanceof Gi)return this.createPolygon(arguments[0],null)}else if(2===arguments.length)return new ur(arguments[0],arguments[1],this)},Ye.prototype.getSRID=function(){return this._SRID},Ye.prototype.createGeometryCollection=function(){return 0===arguments.length?new hr(null,this):1===arguments.length?new hr(arguments[0],this):void 0},Ye.prototype.createGeometry=function(t){return new yi(this).edit(t,{edit:function(){if(2===arguments.length)return this._coordinateSequenceFactory.create(arguments[0])}})},Ye.prototype.getPrecisionModel=function(){return this._precisionModel},Ye.prototype.createLinearRing=function(){if(0===arguments.length)return this.createLinearRing(this.getCoordinateSequenceFactory().create([]));if(1===arguments.length){if(arguments[0]instanceof Array){var t=arguments[0];return this.createLinearRing(null!==t?this.getCoordinateSequenceFactory().create(t):null)}if(ee(arguments[0],Vt))return new Gi(arguments[0],this)}},Ye.prototype.createMultiPolygon=function(){return 0===arguments.length?new qi(null,this):1===arguments.length?new qi(arguments[0],this):void 0},Ye.prototype.createMultiPoint=function(){if(0===arguments.length)return new ps(null,this);if(1===arguments.length){if(arguments[0]instanceof Array)return new ps(arguments[0],this);if(arguments[0]instanceof Array){var e=arguments[0];return this.createMultiPoint(null!==e?this.getCoordinateSequenceFactory().create(e):null)}if(ee(arguments[0],Vt)){var o=arguments[0];if(null===o)return this.createMultiPoint(new Array(0).fill(null));for(var s=new Array(o.size()).fill(null),f=0;f<o.size();f++){var v=this.getCoordinateSequenceFactory().create(1,o.getDimension());Yn.copy(o,f,v,0,1),s[f]=this.createPoint(v)}return this.createMultiPoint(s)}}},Ye.prototype.interfaces_=function(){return[G]},Ye.prototype.getClass=function(){return Ye},Ye.toMultiPolygonArray=function(t){var e=new Array(t.size()).fill(null);return t.toArray(e)},Ye.toGeometryArray=function(t){if(null===t)return null;var e=new Array(t.size()).fill(null);return t.toArray(e)},Ye.getDefaultCoordinateSequenceFactory=function(){return zi.instance()},Ye.toMultiLineStringArray=function(t){var e=new Array(t.size()).fill(null);return t.toArray(e)},Ye.toLineStringArray=function(t){var e=new Array(t.size()).fill(null);return t.toArray(e)},Ye.toMultiPointArray=function(t){var e=new Array(t.size()).fill(null);return t.toArray(e)},Ye.toLinearRingArray=function(t){var e=new Array(t.size()).fill(null);return t.toArray(e)},Ye.toPointArray=function(t){var e=new Array(t.size()).fill(null);return t.toArray(e)},Ye.toPolygonArray=function(t){var e=new Array(t.size()).fill(null);return t.toArray(e)},Ye.createPointFromInternalCoord=function(t,e){return e.getPrecisionModel().makePrecise(t),e.getFactory().createPoint(t)},Ha.serialVersionUID.get=function(){return-0x5ea75f2051eeb400},Object.defineProperties(Ye,Ha);var Fu=["Point","MultiPoint","LineString","MultiLineString","Polygon","MultiPolygon"],fo=function(t){this.geometryFactory=t||new Ye};fo.prototype.read=function(t){var e,o=(e="string"==typeof t?JSON.parse(t):t).type;if(!Ur[o])throw new Error("Unknown GeoJSON type: "+e.type);return-1!==Fu.indexOf(o)?Ur[o].apply(this,[e.coordinates]):Ur[o].apply(this,"GeometryCollection"===o?[e.geometries]:[e])},fo.prototype.write=function(t){var e=t.getGeometryType();if(!ii[e])throw new Error("Geometry is not supported");return ii[e].apply(this,[t])};var Ur={Feature:function(t){var e={};for(var o in t)e[o]=t[o];if(t.geometry){if(!Ur[t.geometry.type])throw new Error("Unknown GeoJSON type: "+t.type);e.geometry=this.read(t.geometry)}return t.bbox&&(e.bbox=Ur.bbox.apply(this,[t.bbox])),e},FeatureCollection:function(t){var e={};if(t.features){e.features=[];for(var o=0;o<t.features.length;++o)e.features.push(this.read(t.features[o]))}return t.bbox&&(e.bbox=this.parse.bbox.apply(this,[t.bbox])),e},coordinates:function(t){for(var e=[],o=0;o<t.length;++o){var s=t[o];e.push(new R(s[0],s[1]))}return e},bbox:function(t){return this.geometryFactory.createLinearRing([new R(t[0],t[1]),new R(t[2],t[1]),new R(t[2],t[3]),new R(t[0],t[3]),new R(t[0],t[1])])},Point:function(t){var e=new R(t[0],t[1]);return this.geometryFactory.createPoint(e)},MultiPoint:function(t){for(var e=[],o=0;o<t.length;++o)e.push(Ur.Point.apply(this,[t[o]]));return this.geometryFactory.createMultiPoint(e)},LineString:function(t){var e=Ur.coordinates.apply(this,[t]);return this.geometryFactory.createLineString(e)},MultiLineString:function(t){for(var e=[],o=0;o<t.length;++o)e.push(Ur.LineString.apply(this,[t[o]]));return this.geometryFactory.createMultiLineString(e)},Polygon:function(t){for(var e=Ur.coordinates.apply(this,[t[0]]),o=this.geometryFactory.createLinearRing(e),s=[],f=1;f<t.length;++f){var E=Ur.coordinates.apply(this,[t[f]]),S=this.geometryFactory.createLinearRing(E);s.push(S)}return this.geometryFactory.createPolygon(o,s)},MultiPolygon:function(t){for(var e=[],o=0;o<t.length;++o)e.push(Ur.Polygon.apply(this,[t[o]]));return this.geometryFactory.createMultiPolygon(e)},GeometryCollection:function(t){for(var e=[],o=0;o<t.length;++o)e.push(this.read(t[o]));return this.geometryFactory.createGeometryCollection(e)}},ii={coordinate:function(t){return[t.x,t.y]},Point:function(t){return{type:"Point",coordinates:ii.coordinate.apply(this,[t.getCoordinate()])}},MultiPoint:function(t){for(var e=[],o=0;o<t._geometries.length;++o){var f=ii.Point.apply(this,[t._geometries[o]]);e.push(f.coordinates)}return{type:"MultiPoint",coordinates:e}},LineString:function(t){for(var e=[],o=t.getCoordinates(),s=0;s<o.length;++s)e.push(ii.coordinate.apply(this,[o[s]]));return{type:"LineString",coordinates:e}},MultiLineString:function(t){for(var e=[],o=0;o<t._geometries.length;++o){var f=ii.LineString.apply(this,[t._geometries[o]]);e.push(f.coordinates)}return{type:"MultiLineString",coordinates:e}},Polygon:function(t){var e=[],o=ii.LineString.apply(this,[t._shell]);e.push(o.coordinates);for(var s=0;s<t._holes.length;++s){var v=ii.LineString.apply(this,[t._holes[s]]);e.push(v.coordinates)}return{type:"Polygon",coordinates:e}},MultiPolygon:function(t){for(var e=[],o=0;o<t._geometries.length;++o){var f=ii.Polygon.apply(this,[t._geometries[o]]);e.push(f.coordinates)}return{type:"MultiPolygon",coordinates:e}},GeometryCollection:function(t){for(var e=[],o=0;o<t._geometries.length;++o){var s=t._geometries[o],f=s.getGeometryType();e.push(ii[f].apply(this,[s]))}return{type:"GeometryCollection",geometries:e}}},to=function(t){this.geometryFactory=t||new Ye,this.precisionModel=this.geometryFactory.getPrecisionModel(),this.parser=new fo(this.geometryFactory)};to.prototype.read=function(t){var e=this.parser.read(t);return this.precisionModel.getType()===Je.FIXED&&this.reducePrecision(e),e},to.prototype.reducePrecision=function(t){var e,o;if(t.coordinate)this.precisionModel.makePrecise(t.coordinate);else if(t.points)for(e=0,o=t.points.length;e<o;e++)this.precisionModel.makePrecise(t.points[e]);else if(t.geometries)for(e=0,o=t.geometries.length;e<o;e++)this.reducePrecision(t.geometries[e])};var ho=function(){this.parser=new fo(this.geometryFactory)};ho.prototype.write=function(t){return this.parser.write(t)};var Kt=function(){},Vr={ON:{configurable:!0},LEFT:{configurable:!0},RIGHT:{configurable:!0}};Kt.prototype.interfaces_=function(){return[]},Kt.prototype.getClass=function(){return Kt},Kt.opposite=function(t){return t===Kt.LEFT?Kt.RIGHT:t===Kt.RIGHT?Kt.LEFT:t},Vr.ON.get=function(){return 0},Vr.LEFT.get=function(){return 1},Vr.RIGHT.get=function(){return 2},Object.defineProperties(Kt,Vr),(ct.prototype=new Error).name="EmptyStackException",(Et.prototype=new ce).add=function(t){return this.array_.push(t),!0},Et.prototype.get=function(t){if(t<0||t>=this.size())throw new Error;return this.array_[t]},Et.prototype.push=function(t){return this.array_.push(t),t},Et.prototype.pop=function(t){if(0===this.array_.length)throw new ct;return this.array_.pop()},Et.prototype.peek=function(){if(0===this.array_.length)throw new ct;return this.array_[this.array_.length-1]},Et.prototype.empty=function(){return 0===this.array_.length},Et.prototype.isEmpty=function(){return this.empty()},Et.prototype.search=function(t){return this.array_.indexOf(t)},Et.prototype.size=function(){return this.array_.length},Et.prototype.toArray=function(){for(var t=[],e=0,o=this.array_.length;e<o;e++)t.push(this.array_[e]);return t};var er=function(){this._minIndex=-1,this._minCoord=null,this._minDe=null,this._orientedDe=null};er.prototype.getCoordinate=function(){return this._minCoord},er.prototype.getRightmostSide=function(t,e){var o=this.getRightmostSideOfSegment(t,e);return o<0&&(o=this.getRightmostSideOfSegment(t,e-1)),o<0&&(this._minCoord=null,this.checkForRightmostCoordinate(t)),o},er.prototype.findRightmostEdgeAtVertex=function(){var t=this._minDe.getEdge().getCoordinates();Ae.isTrue(this._minIndex>0&&this._minIndex<t.length,"rightmost point expected to be interior vertex of edge");var e=t[this._minIndex-1],o=t[this._minIndex+1],s=se.computeOrientation(this._minCoord,o,e),f=!1;(e.y<this._minCoord.y&&o.y<this._minCoord.y&&s===se.COUNTERCLOCKWISE||e.y>this._minCoord.y&&o.y>this._minCoord.y&&s===se.CLOCKWISE)&&(f=!0),f&&(this._minIndex=this._minIndex-1)},er.prototype.getRightmostSideOfSegment=function(t,e){var o=t.getEdge().getCoordinates();if(e<0||e+1>=o.length||o[e].y===o[e+1].y)return-1;var s=Kt.LEFT;return o[e].y<o[e+1].y&&(s=Kt.RIGHT),s},er.prototype.getEdge=function(){return this._orientedDe},er.prototype.checkForRightmostCoordinate=function(t){for(var e=t.getEdge().getCoordinates(),o=0;o<e.length-1;o++)(null===this._minCoord||e[o].x>this._minCoord.x)&&(this._minDe=t,this._minIndex=o,this._minCoord=e[o])},er.prototype.findRightmostEdgeAtNode=function(){var t=this._minDe.getNode().getEdges();this._minDe=t.getRightmostEdge(),this._minDe.isForward()||(this._minDe=this._minDe.getSym(),this._minIndex=this._minDe.getEdge().getCoordinates().length-1)},er.prototype.findEdge=function(t){for(var e=t.iterator();e.hasNext();){var o=e.next();o.isForward()&&this.checkForRightmostCoordinate(o)}Ae.isTrue(0!==this._minIndex||this._minCoord.equals(this._minDe.getCoordinate()),"inconsistency in rightmost processing"),0===this._minIndex?this.findRightmostEdgeAtNode():this.findRightmostEdgeAtVertex(),this._orientedDe=this._minDe,this.getRightmostSide(this._minDe,this._minIndex)===Kt.LEFT&&(this._orientedDe=this._minDe.getSym())},er.prototype.interfaces_=function(){return[]},er.prototype.getClass=function(){return er};var eo=function(t){function e(o,s){t.call(this,e.msgWithCoord(o,s)),this.pt=s?new R(s):null,this.name="TopologyException"}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.getCoordinate=function(){return this.pt},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e.msgWithCoord=function(o,s){return s?o:o+" [ "+s+" ]"},e}(Jn),Ns=function(){this.array_=[]};Ns.prototype.addLast=function(t){this.array_.push(t)},Ns.prototype.removeFirst=function(){return this.array_.shift()},Ns.prototype.isEmpty=function(){return 0===this.array_.length};var Lr=function(){this._finder=null,this._dirEdgeList=new $,this._nodes=new $,this._rightMostCoord=null,this._env=null,this._finder=new er};Lr.prototype.clearVisitedEdges=function(){for(var t=this._dirEdgeList.iterator();t.hasNext();)t.next().setVisited(!1)},Lr.prototype.getRightmostCoordinate=function(){return this._rightMostCoord},Lr.prototype.computeNodeDepth=function(t){for(var e=null,o=t.getEdges().iterator();o.hasNext();){var s=o.next();if(s.isVisited()||s.getSym().isVisited()){e=s;break}}if(null===e)throw new eo("unable to find edge to compute depths at "+t.getCoordinate());t.getEdges().computeDepths(e);for(var f=t.getEdges().iterator();f.hasNext();){var v=f.next();v.setVisited(!0),this.copySymDepths(v)}},Lr.prototype.computeDepth=function(t){this.clearVisitedEdges();var e=this._finder.getEdge();e.setEdgeDepths(Kt.RIGHT,t),this.copySymDepths(e),this.computeDepths(e)},Lr.prototype.create=function(t){this.addReachable(t),this._finder.findEdge(this._dirEdgeList),this._rightMostCoord=this._finder.getCoordinate()},Lr.prototype.findResultEdges=function(){for(var t=this._dirEdgeList.iterator();t.hasNext();){var e=t.next();e.getDepth(Kt.RIGHT)>=1&&e.getDepth(Kt.LEFT)<=0&&!e.isInteriorAreaEdge()&&e.setInResult(!0)}},Lr.prototype.computeDepths=function(t){var e=new sr,o=new Ns,s=t.getNode();for(o.addLast(s),e.add(s),t.setVisited(!0);!o.isEmpty();){var f=o.removeFirst();e.add(f),this.computeNodeDepth(f);for(var v=f.getEdges().iterator();v.hasNext();){var E=v.next().getSym();if(!E.isVisited()){var S=E.getNode();e.contains(S)||(o.addLast(S),e.add(S))}}}},Lr.prototype.compareTo=function(t){return this._rightMostCoord.x<t._rightMostCoord.x?-1:this._rightMostCoord.x>t._rightMostCoord.x?1:0},Lr.prototype.getEnvelope=function(){if(null===this._env){for(var t=new ae,e=this._dirEdgeList.iterator();e.hasNext();)for(var o=e.next().getEdge().getCoordinates(),s=0;s<o.length-1;s++)t.expandToInclude(o[s]);this._env=t}return this._env},Lr.prototype.addReachable=function(t){var e=new Et;for(e.add(t);!e.empty();){var o=e.pop();this.add(o,e)}},Lr.prototype.copySymDepths=function(t){var e=t.getSym();e.setDepth(Kt.LEFT,t.getDepth(Kt.RIGHT)),e.setDepth(Kt.RIGHT,t.getDepth(Kt.LEFT))},Lr.prototype.add=function(t,e){t.setVisited(!0),this._nodes.add(t);for(var o=t.getEdges().iterator();o.hasNext();){var s=o.next();this._dirEdgeList.add(s);var f=s.getSym().getNode();f.isVisited()||e.push(f)}},Lr.prototype.getNodes=function(){return this._nodes},Lr.prototype.getDirectedEdges=function(){return this._dirEdgeList},Lr.prototype.interfaces_=function(){return[rt]},Lr.prototype.getClass=function(){return Lr};var qn=function t(){if(this.location=null,1===arguments.length){if(arguments[0]instanceof Array)this.init(arguments[0].length);else if(Number.isInteger(arguments[0])){var o=arguments[0];this.init(1),this.location[Kt.ON]=o}else if(arguments[0]instanceof t){var s=arguments[0];if(this.init(s.location.length),null!==s)for(var f=0;f<this.location.length;f++)this.location[f]=s.location[f]}}else if(3===arguments.length){var v=arguments[0],E=arguments[1],S=arguments[2];this.init(3),this.location[Kt.ON]=v,this.location[Kt.LEFT]=E,this.location[Kt.RIGHT]=S}};qn.prototype.setAllLocations=function(t){for(var e=0;e<this.location.length;e++)this.location[e]=t},qn.prototype.isNull=function(){for(var t=0;t<this.location.length;t++)if(this.location[t]!==X.NONE)return!1;return!0},qn.prototype.setAllLocationsIfNull=function(t){for(var e=0;e<this.location.length;e++)this.location[e]===X.NONE&&(this.location[e]=t)},qn.prototype.isLine=function(){return 1===this.location.length},qn.prototype.merge=function(t){if(t.location.length>this.location.length){var e=new Array(3).fill(null);e[Kt.ON]=this.location[Kt.ON],e[Kt.LEFT]=X.NONE,e[Kt.RIGHT]=X.NONE,this.location=e}for(var o=0;o<this.location.length;o++)this.location[o]===X.NONE&&o<t.location.length&&(this.location[o]=t.location[o])},qn.prototype.getLocations=function(){return this.location},qn.prototype.flip=function(){if(this.location.length<=1)return null;var t=this.location[Kt.LEFT];this.location[Kt.LEFT]=this.location[Kt.RIGHT],this.location[Kt.RIGHT]=t},qn.prototype.toString=function(){var t=new lt;return this.location.length>1&&t.append(X.toLocationSymbol(this.location[Kt.LEFT])),t.append(X.toLocationSymbol(this.location[Kt.ON])),this.location.length>1&&t.append(X.toLocationSymbol(this.location[Kt.RIGHT])),t.toString()},qn.prototype.setLocations=function(t,e,o){this.location[Kt.ON]=t,this.location[Kt.LEFT]=e,this.location[Kt.RIGHT]=o},qn.prototype.get=function(t){return t<this.location.length?this.location[t]:X.NONE},qn.prototype.isArea=function(){return this.location.length>1},qn.prototype.isAnyNull=function(){for(var t=0;t<this.location.length;t++)if(this.location[t]===X.NONE)return!0;return!1},qn.prototype.setLocation=function(){1===arguments.length?this.setLocation(Kt.ON,arguments[0]):2===arguments.length&&(this.location[arguments[0]]=arguments[1])},qn.prototype.init=function(t){this.location=new Array(t).fill(null),this.setAllLocations(X.NONE)},qn.prototype.isEqualOnSide=function(t,e){return this.location[e]===t.location[e]},qn.prototype.allPositionsEqual=function(t){for(var e=0;e<this.location.length;e++)if(this.location[e]!==t)return!1;return!0},qn.prototype.interfaces_=function(){return[]},qn.prototype.getClass=function(){return qn};var sn=function t(){if(this.elt=new Array(2).fill(null),1===arguments.length){if(Number.isInteger(arguments[0])){var e=arguments[0];this.elt[0]=new qn(e),this.elt[1]=new qn(e)}else if(arguments[0]instanceof t){var o=arguments[0];this.elt[0]=new qn(o.elt[0]),this.elt[1]=new qn(o.elt[1])}}else if(2===arguments.length){var s=arguments[0],f=arguments[1];this.elt[0]=new qn(X.NONE),this.elt[1]=new qn(X.NONE),this.elt[s].setLocation(f)}else if(3===arguments.length){var v=arguments[0],E=arguments[1],S=arguments[2];this.elt[0]=new qn(v,E,S),this.elt[1]=new qn(v,E,S)}else if(4===arguments.length){var q=arguments[0],it=arguments[1],Mt=arguments[2],Dt=arguments[3];this.elt[0]=new qn(X.NONE,X.NONE,X.NONE),this.elt[1]=new qn(X.NONE,X.NONE,X.NONE),this.elt[q].setLocations(it,Mt,Dt)}};sn.prototype.getGeometryCount=function(){var t=0;return this.elt[0].isNull()||t++,this.elt[1].isNull()||t++,t},sn.prototype.setAllLocations=function(t,e){this.elt[t].setAllLocations(e)},sn.prototype.isNull=function(t){return this.elt[t].isNull()},sn.prototype.setAllLocationsIfNull=function(){if(1===arguments.length){var t=arguments[0];this.setAllLocationsIfNull(0,t),this.setAllLocationsIfNull(1,t)}else 2===arguments.length&&this.elt[arguments[0]].setAllLocationsIfNull(arguments[1])},sn.prototype.isLine=function(t){return this.elt[t].isLine()},sn.prototype.merge=function(t){for(var e=0;e<2;e++)null===this.elt[e]&&null!==t.elt[e]?this.elt[e]=new qn(t.elt[e]):this.elt[e].merge(t.elt[e])},sn.prototype.flip=function(){this.elt[0].flip(),this.elt[1].flip()},sn.prototype.getLocation=function(){return 1===arguments.length?this.elt[arguments[0]].get(Kt.ON):2===arguments.length?this.elt[arguments[0]].get(arguments[1]):void 0},sn.prototype.toString=function(){var t=new lt;return null!==this.elt[0]&&(t.append("A:"),t.append(this.elt[0].toString())),null!==this.elt[1]&&(t.append(" B:"),t.append(this.elt[1].toString())),t.toString()},sn.prototype.isArea=function(){return 0===arguments.length?this.elt[0].isArea()||this.elt[1].isArea():1===arguments.length?this.elt[arguments[0]].isArea():void 0},sn.prototype.isAnyNull=function(t){return this.elt[t].isAnyNull()},sn.prototype.setLocation=function(){2===arguments.length?this.elt[arguments[0]].setLocation(Kt.ON,arguments[1]):3===arguments.length&&this.elt[arguments[0]].setLocation(arguments[1],arguments[2])},sn.prototype.isEqualOnSide=function(t,e){return this.elt[0].isEqualOnSide(t.elt[0],e)&&this.elt[1].isEqualOnSide(t.elt[1],e)},sn.prototype.allPositionsEqual=function(t,e){return this.elt[t].allPositionsEqual(e)},sn.prototype.toLine=function(t){this.elt[t].isArea()&&(this.elt[t]=new qn(this.elt[t].location[0]))},sn.prototype.interfaces_=function(){return[]},sn.prototype.getClass=function(){return sn},sn.toLineLabel=function(t){for(var e=new sn(X.NONE),o=0;o<2;o++)e.setLocation(o,t.getLocation(o));return e};var nr=function(){this._startDe=null,this._maxNodeDegree=-1,this._edges=new $,this._pts=new $,this._label=new sn(X.NONE),this._ring=null,this._isHole=null,this._shell=null,this._holes=new $,this._geometryFactory=null;var t=arguments[0];this._geometryFactory=arguments[1],this.computePoints(t),this.computeRing()};nr.prototype.computeRing=function(){if(null!==this._ring)return null;for(var t=new Array(this._pts.size()).fill(null),e=0;e<this._pts.size();e++)t[e]=this._pts.get(e);this._ring=this._geometryFactory.createLinearRing(t),this._isHole=se.isCCW(this._ring.getCoordinates())},nr.prototype.isIsolated=function(){return 1===this._label.getGeometryCount()},nr.prototype.computePoints=function(t){this._startDe=t;var e=t,o=!0;do{if(null===e)throw new eo("Found null DirectedEdge");if(e.getEdgeRing()===this)throw new eo("Directed Edge visited twice during ring-building at "+e.getCoordinate());this._edges.add(e);var s=e.getLabel();Ae.isTrue(s.isArea()),this.mergeLabel(s),this.addPoints(e.getEdge(),e.isForward(),o),o=!1,this.setEdgeRing(e,this),e=this.getNext(e)}while(e!==this._startDe)},nr.prototype.getLinearRing=function(){return this._ring},nr.prototype.getCoordinate=function(t){return this._pts.get(t)},nr.prototype.computeMaxNodeDegree=function(){this._maxNodeDegree=0;var t=this._startDe;do{var e=t.getNode().getEdges().getOutgoingDegree(this);e>this._maxNodeDegree&&(this._maxNodeDegree=e),t=this.getNext(t)}while(t!==this._startDe);this._maxNodeDegree*=2},nr.prototype.addPoints=function(t,e,o){var s=t.getCoordinates();if(e){var f=1;o&&(f=0);for(var v=f;v<s.length;v++)this._pts.add(s[v])}else{var E=s.length-2;o&&(E=s.length-1);for(var S=E;S>=0;S--)this._pts.add(s[S])}},nr.prototype.isHole=function(){return this._isHole},nr.prototype.setInResult=function(){var t=this._startDe;do{t.getEdge().setInResult(!0),t=t.getNext()}while(t!==this._startDe)},nr.prototype.containsPoint=function(t){var e=this.getLinearRing();if(!e.getEnvelopeInternal().contains(t)||!se.isPointInRing(t,e.getCoordinates()))return!1;for(var o=this._holes.iterator();o.hasNext();)if(o.next().containsPoint(t))return!1;return!0},nr.prototype.addHole=function(t){this._holes.add(t)},nr.prototype.isShell=function(){return null===this._shell},nr.prototype.getLabel=function(){return this._label},nr.prototype.getEdges=function(){return this._edges},nr.prototype.getMaxNodeDegree=function(){return this._maxNodeDegree<0&&this.computeMaxNodeDegree(),this._maxNodeDegree},nr.prototype.getShell=function(){return this._shell},nr.prototype.mergeLabel=function(){if(1===arguments.length){var t=arguments[0];this.mergeLabel(t,0),this.mergeLabel(t,1)}else if(2===arguments.length){var o=arguments[1],s=arguments[0].getLocation(o,Kt.RIGHT);if(s===X.NONE)return null;if(this._label.getLocation(o)===X.NONE)return this._label.setLocation(o,s),null}},nr.prototype.setShell=function(t){this._shell=t,null!==t&&t.addHole(this)},nr.prototype.toPolygon=function(t){for(var e=new Array(this._holes.size()).fill(null),o=0;o<this._holes.size();o++)e[o]=this._holes.get(o).getLinearRing();return t.createPolygon(this.getLinearRing(),e)},nr.prototype.interfaces_=function(){return[]},nr.prototype.getClass=function(){return nr};var js=function(t){function e(){t.call(this,arguments[0],arguments[1])}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.setEdgeRing=function(o,s){o.setMinEdgeRing(s)},e.prototype.getNext=function(o){return o.getNextMin()},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e}(nr),Js=function(t){function e(){t.call(this,arguments[0],arguments[1])}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.buildMinimalRings=function(){var o=new $,s=this._startDe;do{if(null===s.getMinEdgeRing()){var f=new js(s,this._geometryFactory);o.add(f)}s=s.getNext()}while(s!==this._startDe);return o},e.prototype.setEdgeRing=function(o,s){o.setEdgeRing(s)},e.prototype.linkDirectedEdgesForMinimalEdgeRings=function(){var o=this._startDe;do{o.getNode().getEdges().linkMinimalDirectedEdges(this),o=o.getNext()}while(o!==this._startDe)},e.prototype.getNext=function(o){return o.getNext()},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e}(nr),jr=function(){this._label=null,this._isInResult=!1,this._isCovered=!1,this._isCoveredSet=!1,this._isVisited=!1,0!==arguments.length&&1===arguments.length&&(this._label=arguments[0])};jr.prototype.setVisited=function(t){this._isVisited=t},jr.prototype.setInResult=function(t){this._isInResult=t},jr.prototype.isCovered=function(){return this._isCovered},jr.prototype.isCoveredSet=function(){return this._isCoveredSet},jr.prototype.setLabel=function(t){this._label=t},jr.prototype.getLabel=function(){return this._label},jr.prototype.setCovered=function(t){this._isCovered=t,this._isCoveredSet=!0},jr.prototype.updateIM=function(t){Ae.isTrue(this._label.getGeometryCount()>=2,"found partial label"),this.computeIM(t)},jr.prototype.isInResult=function(){return this._isInResult},jr.prototype.isVisited=function(){return this._isVisited},jr.prototype.interfaces_=function(){return[]},jr.prototype.getClass=function(){return jr};var No=function(t){function e(){t.call(this),this._coord=null,this._edges=null;var s=arguments[1];this._coord=arguments[0],this._edges=s,this._label=new sn(0,X.NONE)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.isIncidentEdgeInResult=function(){for(var o=this.getEdges().getEdges().iterator();o.hasNext();)if(o.next().getEdge().isInResult())return!0;return!1},e.prototype.isIsolated=function(){return 1===this._label.getGeometryCount()},e.prototype.getCoordinate=function(){return this._coord},e.prototype.print=function(o){o.println("node "+this._coord+" lbl: "+this._label)},e.prototype.computeIM=function(o){},e.prototype.computeMergedLocation=function(o,s){var f=X.NONE;if(f=this._label.getLocation(s),!o.isNull(s)){var v=o.getLocation(s);f!==X.BOUNDARY&&(f=v)}return f},e.prototype.setLabel=function(){if(2!==arguments.length)return t.prototype.setLabel.apply(this,arguments);var o=arguments[0],s=arguments[1];null===this._label?this._label=new sn(o,s):this._label.setLocation(o,s)},e.prototype.getEdges=function(){return this._edges},e.prototype.mergeLabel=function(){if(arguments[0]instanceof e)this.mergeLabel(arguments[0]._label);else if(arguments[0]instanceof sn)for(var s=arguments[0],f=0;f<2;f++){var v=this.computeMergedLocation(s,f);this._label.getLocation(f)===X.NONE&&this._label.setLocation(f,v)}},e.prototype.add=function(o){this._edges.insert(o),o.setNode(this)},e.prototype.setLabelBoundary=function(o){if(null===this._label)return null;var s=X.NONE;null!==this._label&&(s=this._label.getLocation(o)),this._label.setLocation(o,s===X.BOUNDARY?X.INTERIOR:X.BOUNDARY)},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e}(jr),Jr=function(){this.nodeMap=new kt,this.nodeFact=null,this.nodeFact=arguments[0]};Jr.prototype.find=function(t){return this.nodeMap.get(t)},Jr.prototype.addNode=function(){if(arguments[0]instanceof R){var t=arguments[0],e=this.nodeMap.get(t);return null===e&&(e=this.nodeFact.createNode(t),this.nodeMap.put(t,e)),e}if(arguments[0]instanceof No){var o=arguments[0],s=this.nodeMap.get(o.getCoordinate());return null===s?(this.nodeMap.put(o.getCoordinate(),o),o):(s.mergeLabel(o),s)}},Jr.prototype.print=function(t){for(var e=this.iterator();e.hasNext();)e.next().print(t)},Jr.prototype.iterator=function(){return this.nodeMap.values().iterator()},Jr.prototype.values=function(){return this.nodeMap.values()},Jr.prototype.getBoundaryNodes=function(t){for(var e=new $,o=this.iterator();o.hasNext();){var s=o.next();s.getLabel().getLocation(t)===X.BOUNDARY&&e.add(s)}return e},Jr.prototype.add=function(t){var e=t.getCoordinate();this.addNode(e).add(t)},Jr.prototype.interfaces_=function(){return[]},Jr.prototype.getClass=function(){return Jr};var tn=function(){},Ee={NE:{configurable:!0},NW:{configurable:!0},SW:{configurable:!0},SE:{configurable:!0}};tn.prototype.interfaces_=function(){return[]},tn.prototype.getClass=function(){return tn},tn.isNorthern=function(t){return t===tn.NE||t===tn.NW},tn.isOpposite=function(t,e){return t!==e&&(t-e+4)%4==2},tn.commonHalfPlane=function(t,e){if(t===e)return t;if((t-e+4)%4==2)return-1;var o=t<e?t:e;return 0===o&&3===(t>e?t:e)?3:o},tn.isInHalfPlane=function(t,e){return e===tn.SE?t===tn.SE||t===tn.SW:t===e||t===e+1},tn.quadrant=function(){if("number"==typeof arguments[0]&&"number"==typeof arguments[1]){var t=arguments[0],e=arguments[1];if(0===t&&0===e)throw new Q("Cannot compute the quadrant for point ( "+t+", "+e+" )");return t>=0?e>=0?tn.NE:tn.SE:e>=0?tn.NW:tn.SW}if(arguments[0]instanceof R&&arguments[1]instanceof R){var o=arguments[0],s=arguments[1];if(s.x===o.x&&s.y===o.y)throw new Q("Cannot compute the quadrant for two identical points "+o);return s.x>=o.x?s.y>=o.y?tn.NE:tn.SE:s.y>=o.y?tn.NW:tn.SW}},Ee.NE.get=function(){return 0},Ee.NW.get=function(){return 1},Ee.SW.get=function(){return 2},Ee.SE.get=function(){return 3},Object.defineProperties(tn,Ee);var ye=function(){if(this._edge=null,this._label=null,this._node=null,this._p0=null,this._p1=null,this._dx=null,this._dy=null,this._quadrant=null,1===arguments.length)this._edge=arguments[0];else if(3===arguments.length){var o=arguments[1],s=arguments[2];this._edge=arguments[0],this.init(o,s),this._label=null}else if(4===arguments.length){var v=arguments[1],E=arguments[2],S=arguments[3];this._edge=arguments[0],this.init(v,E),this._label=S}};ye.prototype.compareDirection=function(t){return this._dx===t._dx&&this._dy===t._dy?0:this._quadrant>t._quadrant?1:this._quadrant<t._quadrant?-1:se.computeOrientation(t._p0,t._p1,this._p1)},ye.prototype.getDy=function(){return this._dy},ye.prototype.getCoordinate=function(){return this._p0},ye.prototype.setNode=function(t){this._node=t},ye.prototype.print=function(t){var e=Math.atan2(this._dy,this._dx),o=this.getClass().getName(),s=o.lastIndexOf("."),f=o.substring(s+1);t.print("  "+f+": "+this._p0+" - "+this._p1+" "+this._quadrant+":"+e+"   "+this._label)},ye.prototype.compareTo=function(t){return this.compareDirection(t)},ye.prototype.getDirectedCoordinate=function(){return this._p1},ye.prototype.getDx=function(){return this._dx},ye.prototype.getLabel=function(){return this._label},ye.prototype.getEdge=function(){return this._edge},ye.prototype.getQuadrant=function(){return this._quadrant},ye.prototype.getNode=function(){return this._node},ye.prototype.toString=function(){var t=Math.atan2(this._dy,this._dx),e=this.getClass().getName(),o=e.lastIndexOf(".");return"  "+e.substring(o+1)+": "+this._p0+" - "+this._p1+" "+this._quadrant+":"+t+"   "+this._label},ye.prototype.computeLabel=function(t){},ye.prototype.init=function(t,e){this._p0=t,this._p1=e,this._dx=e.x-t.x,this._dy=e.y-t.y,this._quadrant=tn.quadrant(this._dx,this._dy),Ae.isTrue(!(0===this._dx&&0===this._dy),"EdgeEnd with identical endpoints found")},ye.prototype.interfaces_=function(){return[rt]},ye.prototype.getClass=function(){return ye};var zn=function(t){function e(){var o=arguments[0],s=arguments[1];if(t.call(this,o),this._isForward=null,this._isInResult=!1,this._isVisited=!1,this._sym=null,this._next=null,this._nextMin=null,this._edgeRing=null,this._minEdgeRing=null,this._depth=[0,-999,-999],this._isForward=s,s)this.init(o.getCoordinate(0),o.getCoordinate(1));else{var f=o.getNumPoints()-1;this.init(o.getCoordinate(f),o.getCoordinate(f-1))}this.computeDirectedLabel()}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.getNextMin=function(){return this._nextMin},e.prototype.getDepth=function(o){return this._depth[o]},e.prototype.setVisited=function(o){this._isVisited=o},e.prototype.computeDirectedLabel=function(){this._label=new sn(this._edge.getLabel()),this._isForward||this._label.flip()},e.prototype.getNext=function(){return this._next},e.prototype.setDepth=function(o,s){if(-999!==this._depth[o]&&this._depth[o]!==s)throw new eo("assigned depths do not match",this.getCoordinate());this._depth[o]=s},e.prototype.isInteriorAreaEdge=function(){for(var o=!0,s=0;s<2;s++)this._label.isArea(s)&&this._label.getLocation(s,Kt.LEFT)===X.INTERIOR&&this._label.getLocation(s,Kt.RIGHT)===X.INTERIOR||(o=!1);return o},e.prototype.setNextMin=function(o){this._nextMin=o},e.prototype.print=function(o){t.prototype.print.call(this,o),o.print(" "+this._depth[Kt.LEFT]+"/"+this._depth[Kt.RIGHT]),o.print(" ("+this.getDepthDelta()+")"),this._isInResult&&o.print(" inResult")},e.prototype.setMinEdgeRing=function(o){this._minEdgeRing=o},e.prototype.isLineEdge=function(){var o=this._label.isLine(0)||this._label.isLine(1),s=!this._label.isArea(0)||this._label.allPositionsEqual(0,X.EXTERIOR),f=!this._label.isArea(1)||this._label.allPositionsEqual(1,X.EXTERIOR);return o&&s&&f},e.prototype.setEdgeRing=function(o){this._edgeRing=o},e.prototype.getMinEdgeRing=function(){return this._minEdgeRing},e.prototype.getDepthDelta=function(){var o=this._edge.getDepthDelta();return this._isForward||(o=-o),o},e.prototype.setInResult=function(o){this._isInResult=o},e.prototype.getSym=function(){return this._sym},e.prototype.isForward=function(){return this._isForward},e.prototype.getEdge=function(){return this._edge},e.prototype.printEdge=function(o){this.print(o),o.print(" "),this._isForward?this._edge.print(o):this._edge.printReverse(o)},e.prototype.setSym=function(o){this._sym=o},e.prototype.setVisitedEdge=function(o){this.setVisited(o),this._sym.setVisited(o)},e.prototype.setEdgeDepths=function(o,s){var f=this.getEdge().getDepthDelta();this._isForward||(f=-f);var v=1;o===Kt.LEFT&&(v=-1);var E=Kt.opposite(o),S=s+f*v;this.setDepth(o,s),this.setDepth(E,S)},e.prototype.getEdgeRing=function(){return this._edgeRing},e.prototype.isInResult=function(){return this._isInResult},e.prototype.setNext=function(o){this._next=o},e.prototype.isVisited=function(){return this._isVisited},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e.depthFactor=function(o,s){return o===X.EXTERIOR&&s===X.INTERIOR?1:o===X.INTERIOR&&s===X.EXTERIOR?-1:0},e}(ye),Fn=function(){};Fn.prototype.createNode=function(t){return new No(t,null)},Fn.prototype.interfaces_=function(){return[]},Fn.prototype.getClass=function(){return Fn};var Me=function(){this._edges=new $,this._nodes=null,this._edgeEndList=new $,0===arguments.length?this._nodes=new Jr(new Fn):1===arguments.length&&(this._nodes=new Jr(arguments[0]))};Me.prototype.printEdges=function(t){t.println("Edges:");for(var e=0;e<this._edges.size();e++){t.println("edge "+e+":");var o=this._edges.get(e);o.print(t),o.eiList.print(t)}},Me.prototype.find=function(t){return this._nodes.find(t)},Me.prototype.addNode=function(){return arguments[0]instanceof No||arguments[0]instanceof R?this._nodes.addNode(arguments[0]):void 0},Me.prototype.getNodeIterator=function(){return this._nodes.iterator()},Me.prototype.linkResultDirectedEdges=function(){for(var t=this._nodes.iterator();t.hasNext();)t.next().getEdges().linkResultDirectedEdges()},Me.prototype.debugPrintln=function(t){Xe.out.println(t)},Me.prototype.isBoundaryNode=function(t,e){var o=this._nodes.find(e);if(null===o)return!1;var s=o.getLabel();return null!==s&&s.getLocation(t)===X.BOUNDARY},Me.prototype.linkAllDirectedEdges=function(){for(var t=this._nodes.iterator();t.hasNext();)t.next().getEdges().linkAllDirectedEdges()},Me.prototype.matchInSameDirection=function(t,e,o,s){return!!t.equals(o)&&se.computeOrientation(t,e,s)===se.COLLINEAR&&tn.quadrant(t,e)===tn.quadrant(o,s)},Me.prototype.getEdgeEnds=function(){return this._edgeEndList},Me.prototype.debugPrint=function(t){Xe.out.print(t)},Me.prototype.getEdgeIterator=function(){return this._edges.iterator()},Me.prototype.findEdgeInSameDirection=function(t,e){for(var o=0;o<this._edges.size();o++){var s=this._edges.get(o),f=s.getCoordinates();if(this.matchInSameDirection(t,e,f[0],f[1])||this.matchInSameDirection(t,e,f[f.length-1],f[f.length-2]))return s}return null},Me.prototype.insertEdge=function(t){this._edges.add(t)},Me.prototype.findEdgeEnd=function(t){for(var e=this.getEdgeEnds().iterator();e.hasNext();){var o=e.next();if(o.getEdge()===t)return o}return null},Me.prototype.addEdges=function(t){for(var e=t.iterator();e.hasNext();){var o=e.next();this._edges.add(o);var s=new zn(o,!0),f=new zn(o,!1);s.setSym(f),f.setSym(s),this.add(s),this.add(f)}},Me.prototype.add=function(t){this._nodes.add(t),this._edgeEndList.add(t)},Me.prototype.getNodes=function(){return this._nodes.values()},Me.prototype.findEdge=function(t,e){for(var o=0;o<this._edges.size();o++){var s=this._edges.get(o),f=s.getCoordinates();if(t.equals(f[0])&&e.equals(f[1]))return s}return null},Me.prototype.interfaces_=function(){return[]},Me.prototype.getClass=function(){return Me},Me.linkResultDirectedEdges=function(t){for(var e=t.iterator();e.hasNext();)e.next().getEdges().linkResultDirectedEdges()};var pr=function(){this._geometryFactory=null,this._shellList=new $,this._geometryFactory=arguments[0]};pr.prototype.sortShellsAndHoles=function(t,e,o){for(var s=t.iterator();s.hasNext();){var f=s.next();f.isHole()?o.add(f):e.add(f)}},pr.prototype.computePolygons=function(t){for(var e=new $,o=t.iterator();o.hasNext();){var s=o.next().toPolygon(this._geometryFactory);e.add(s)}return e},pr.prototype.placeFreeHoles=function(t,e){for(var o=e.iterator();o.hasNext();){var s=o.next();if(null===s.getShell()){var f=this.findEdgeRingContaining(s,t);if(null===f)throw new eo("unable to assign hole to a shell",s.getCoordinate(0));s.setShell(f)}}},pr.prototype.buildMinimalEdgeRings=function(t,e,o){for(var s=new $,f=t.iterator();f.hasNext();){var v=f.next();if(v.getMaxNodeDegree()>2){v.linkDirectedEdgesForMinimalEdgeRings();var E=v.buildMinimalRings(),S=this.findShell(E);null!==S?(this.placePolygonHoles(S,E),e.add(S)):o.addAll(E)}else s.add(v)}return s},pr.prototype.containsPoint=function(t){for(var e=this._shellList.iterator();e.hasNext();)if(e.next().containsPoint(t))return!0;return!1},pr.prototype.buildMaximalEdgeRings=function(t){for(var e=new $,o=t.iterator();o.hasNext();){var s=o.next();if(s.isInResult()&&s.getLabel().isArea()&&null===s.getEdgeRing()){var f=new Js(s,this._geometryFactory);e.add(f),f.setInResult()}}return e},pr.prototype.placePolygonHoles=function(t,e){for(var o=e.iterator();o.hasNext();){var s=o.next();s.isHole()&&s.setShell(t)}},pr.prototype.getPolygons=function(){return this.computePolygons(this._shellList)},pr.prototype.findEdgeRingContaining=function(t,e){for(var o=t.getLinearRing(),s=o.getEnvelopeInternal(),f=o.getCoordinateN(0),v=null,E=null,S=e.iterator();S.hasNext();){var q=S.next(),it=q.getLinearRing(),Mt=it.getEnvelopeInternal();null!==v&&(E=v.getLinearRing().getEnvelopeInternal());var Dt=!1;Mt.contains(s)&&se.isPointInRing(f,it.getCoordinates())&&(Dt=!0),Dt&&(null===v||E.contains(Mt))&&(v=q)}return v},pr.prototype.findShell=function(t){for(var e=0,o=null,s=t.iterator();s.hasNext();){var f=s.next();f.isHole()||(o=f,e++)}return Ae.isTrue(e<=1,"found two shells in MinimalEdgeRing list"),o},pr.prototype.add=function(){if(1===arguments.length){var t=arguments[0];this.add(t.getEdgeEnds(),t.getNodes())}else if(2===arguments.length){var e=arguments[0];Me.linkResultDirectedEdges(arguments[1]);var s=this.buildMaximalEdgeRings(e),f=new $,v=this.buildMinimalEdgeRings(s,this._shellList,f);this.sortShellsAndHoles(v,this._shellList,f),this.placeFreeHoles(this._shellList,f)}},pr.prototype.interfaces_=function(){return[]},pr.prototype.getClass=function(){return pr};var Zn=function(){};Zn.prototype.getBounds=function(){},Zn.prototype.interfaces_=function(){return[]},Zn.prototype.getClass=function(){return Zn};var rr=function(){this._bounds=null,this._item=null;var e=arguments[1];this._bounds=arguments[0],this._item=e};rr.prototype.getItem=function(){return this._item},rr.prototype.getBounds=function(){return this._bounds},rr.prototype.interfaces_=function(){return[Zn,G]},rr.prototype.getClass=function(){return rr};var bi=function(){this._size=null,this._items=null,this._size=0,this._items=new $,this._items.add(null)};bi.prototype.poll=function(){if(this.isEmpty())return null;var t=this._items.get(1);return this._items.set(1,this._items.get(this._size)),this._size-=1,this.reorder(1),t},bi.prototype.size=function(){return this._size},bi.prototype.reorder=function(t){for(var e=null,o=this._items.get(t);2*t<=this._size&&((e=2*t)!==this._size&&this._items.get(e+1).compareTo(this._items.get(e))<0&&e++,this._items.get(e).compareTo(o)<0);t=e)this._items.set(t,this._items.get(e));this._items.set(t,o)},bi.prototype.clear=function(){this._size=0,this._items.clear()},bi.prototype.isEmpty=function(){return 0===this._size},bi.prototype.add=function(t){this._items.add(null),this._size+=1;var e=this._size;for(this._items.set(0,t);t.compareTo(this._items.get(Math.trunc(e/2)))<0;e/=2)this._items.set(e,this._items.get(Math.trunc(e/2)));this._items.set(e,t)},bi.prototype.interfaces_=function(){return[]},bi.prototype.getClass=function(){return bi};var po=function(){};po.prototype.visitItem=function(t){},po.prototype.interfaces_=function(){return[]},po.prototype.getClass=function(){return po};var Wn=function(){};Wn.prototype.insert=function(t,e){},Wn.prototype.remove=function(t,e){},Wn.prototype.query=function(){},Wn.prototype.interfaces_=function(){return[]},Wn.prototype.getClass=function(){return Wn};var gr=function(){this._childBoundables=new $,this._bounds=null,this._level=null,0!==arguments.length&&1===arguments.length&&(this._level=arguments[0])},Bu={serialVersionUID:{configurable:!0}};gr.prototype.getLevel=function(){return this._level},gr.prototype.size=function(){return this._childBoundables.size()},gr.prototype.getChildBoundables=function(){return this._childBoundables},gr.prototype.addChildBoundable=function(t){Ae.isTrue(null===this._bounds),this._childBoundables.add(t)},gr.prototype.isEmpty=function(){return this._childBoundables.isEmpty()},gr.prototype.getBounds=function(){return null===this._bounds&&(this._bounds=this.computeBounds()),this._bounds},gr.prototype.interfaces_=function(){return[Zn,G]},gr.prototype.getClass=function(){return gr},Bu.serialVersionUID.get=function(){return 0x5a1e55ec41369800},Object.defineProperties(gr,Bu);var no=function(){};no.reverseOrder=function(){return{compare:function(t,e){return e.compareTo(t)}}},no.min=function(t){return no.sort(t),t.get(0)},no.sort=function(t,e){var o=t.toArray();e?Pr.sort(o,e):Pr.sort(o);for(var s=t.iterator(),f=0,v=o.length;f<v;f++)s.next(),s.set(o[f])},no.singletonList=function(t){var e=new $;return e.add(t),e};var lr=function(){this._boundable1=null,this._boundable2=null,this._distance=null,this._itemDistance=null;var e=arguments[1],o=arguments[2];this._boundable1=arguments[0],this._boundable2=e,this._itemDistance=o,this._distance=this.distance()};lr.prototype.expandToQueue=function(t,e){var o=lr.isComposite(this._boundable1),s=lr.isComposite(this._boundable2);if(o&&s)return lr.area(this._boundable1)>lr.area(this._boundable2)?(this.expand(this._boundable1,this._boundable2,t,e),null):(this.expand(this._boundable2,this._boundable1,t,e),null);if(o)return this.expand(this._boundable1,this._boundable2,t,e),null;if(s)return this.expand(this._boundable2,this._boundable1,t,e),null;throw new Q("neither boundable is composite")},lr.prototype.isLeaves=function(){return!(lr.isComposite(this._boundable1)||lr.isComposite(this._boundable2))},lr.prototype.compareTo=function(t){return this._distance<t._distance?-1:this._distance>t._distance?1:0},lr.prototype.expand=function(t,e,o,s){for(var f=t.getChildBoundables().iterator();f.hasNext();){var v=f.next(),E=new lr(v,e,this._itemDistance);E.getDistance()<s&&o.add(E)}},lr.prototype.getBoundable=function(t){return 0===t?this._boundable1:this._boundable2},lr.prototype.getDistance=function(){return this._distance},lr.prototype.distance=function(){return this.isLeaves()?this._itemDistance.distance(this._boundable1,this._boundable2):this._boundable1.getBounds().distance(this._boundable2.getBounds())},lr.prototype.interfaces_=function(){return[rt]},lr.prototype.getClass=function(){return lr},lr.area=function(t){return t.getBounds().getArea()},lr.isComposite=function(t){return t instanceof gr};var Sr=function t(){if(this._root=null,this._built=!1,this._itemBoundables=new $,this._nodeCapacity=null,0===arguments.length)this._nodeCapacity=t.DEFAULT_NODE_CAPACITY;else if(1===arguments.length){var o=arguments[0];Ae.isTrue(o>1,"Node capacity must be greater than 1"),this._nodeCapacity=o}},Zs={IntersectsOp:{configurable:!0},serialVersionUID:{configurable:!0},DEFAULT_NODE_CAPACITY:{configurable:!0}};Sr.prototype.getNodeCapacity=function(){return this._nodeCapacity},Sr.prototype.lastNode=function(t){return t.get(t.size()-1)},Sr.prototype.size=function(){if(0===arguments.length)return this.isEmpty()?0:(this.build(),this.size(this._root));if(1===arguments.length){for(var t=0,e=arguments[0].getChildBoundables().iterator();e.hasNext();){var o=e.next();o instanceof gr?t+=this.size(o):o instanceof rr&&(t+=1)}return t}},Sr.prototype.removeItem=function(t,e){for(var o=null,s=t.getChildBoundables().iterator();s.hasNext();){var f=s.next();f instanceof rr&&f.getItem()===e&&(o=f)}return null!==o&&(t.getChildBoundables().remove(o),!0)},Sr.prototype.itemsTree=function(){if(0===arguments.length){this.build();var t=this.itemsTree(this._root);return null===t?new $:t}if(1===arguments.length){for(var e=arguments[0],o=new $,s=e.getChildBoundables().iterator();s.hasNext();){var f=s.next();if(f instanceof gr){var v=this.itemsTree(f);null!==v&&o.add(v)}else f instanceof rr?o.add(f.getItem()):Ae.shouldNeverReachHere()}return o.size()<=0?null:o}},Sr.prototype.insert=function(t,e){Ae.isTrue(!this._built,"Cannot insert items into an STR packed R-tree after it has been built."),this._itemBoundables.add(new rr(t,e))},Sr.prototype.boundablesAtLevel=function(){if(1===arguments.length){var t=arguments[0],e=new $;return this.boundablesAtLevel(t,this._root,e),e}if(3===arguments.length){var o=arguments[0],s=arguments[1],f=arguments[2];if(Ae.isTrue(o>-2),s.getLevel()===o)return f.add(s),null;for(var v=s.getChildBoundables().iterator();v.hasNext();){var E=v.next();E instanceof gr?this.boundablesAtLevel(o,E,f):(Ae.isTrue(E instanceof rr),-1===o&&f.add(E))}return null}},Sr.prototype.query=function(){if(1===arguments.length){var t=arguments[0];this.build();var e=new $;return this.isEmpty()||this.getIntersectsOp().intersects(this._root.getBounds(),t)&&this.query(t,this._root,e),e}if(2===arguments.length){var o=arguments[0],s=arguments[1];if(this.build(),this.isEmpty())return null;this.getIntersectsOp().intersects(this._root.getBounds(),o)&&this.query(o,this._root,s)}else if(3===arguments.length)if(ee(arguments[2],po)&&arguments[0]instanceof Object&&arguments[1]instanceof gr)for(var f=arguments[0],E=arguments[2],S=arguments[1].getChildBoundables(),q=0;q<S.size();q++){var it=S.get(q);this.getIntersectsOp().intersects(it.getBounds(),f)&&(it instanceof gr?this.query(f,it,E):it instanceof rr?E.visitItem(it.getItem()):Ae.shouldNeverReachHere())}else if(ee(arguments[2],ce)&&arguments[0]instanceof Object&&arguments[1]instanceof gr)for(var Mt=arguments[0],ie=arguments[2],ue=arguments[1].getChildBoundables(),de=0;de<ue.size();de++){var Ne=ue.get(de);this.getIntersectsOp().intersects(Ne.getBounds(),Mt)&&(Ne instanceof gr?this.query(Mt,Ne,ie):Ne instanceof rr?ie.add(Ne.getItem()):Ae.shouldNeverReachHere())}},Sr.prototype.build=function(){if(this._built)return null;this._root=this._itemBoundables.isEmpty()?this.createNode(0):this.createHigherLevels(this._itemBoundables,-1),this._itemBoundables=null,this._built=!0},Sr.prototype.getRoot=function(){return this.build(),this._root},Sr.prototype.remove=function(){if(2===arguments.length){var t=arguments[0],e=arguments[1];return this.build(),!!this.getIntersectsOp().intersects(this._root.getBounds(),t)&&this.remove(t,this._root,e)}if(3===arguments.length){var o=arguments[0],s=arguments[1],f=arguments[2],v=this.removeItem(s,f);if(v)return!0;for(var E=null,S=s.getChildBoundables().iterator();S.hasNext();){var q=S.next();if(this.getIntersectsOp().intersects(q.getBounds(),o)&&q instanceof gr&&(v=this.remove(o,q,f))){E=q;break}}return null!==E&&E.getChildBoundables().isEmpty()&&s.getChildBoundables().remove(E),v}},Sr.prototype.createHigherLevels=function(t,e){Ae.isTrue(!t.isEmpty());var o=this.createParentBoundables(t,e+1);return 1===o.size()?o.get(0):this.createHigherLevels(o,e+1)},Sr.prototype.depth=function(){if(0===arguments.length)return this.isEmpty()?0:(this.build(),this.depth(this._root));if(1===arguments.length){for(var t=0,e=arguments[0].getChildBoundables().iterator();e.hasNext();){var o=e.next();if(o instanceof gr){var s=this.depth(o);s>t&&(t=s)}}return t+1}},Sr.prototype.createParentBoundables=function(t,e){Ae.isTrue(!t.isEmpty());var o=new $;o.add(this.createNode(e));var s=new $(t);no.sort(s,this.getComparator());for(var f=s.iterator();f.hasNext();){var v=f.next();this.lastNode(o).getChildBoundables().size()===this.getNodeCapacity()&&o.add(this.createNode(e)),this.lastNode(o).addChildBoundable(v)}return o},Sr.prototype.isEmpty=function(){return this._built?this._root.isEmpty():this._itemBoundables.isEmpty()},Sr.prototype.interfaces_=function(){return[G]},Sr.prototype.getClass=function(){return Sr},Sr.compareDoubles=function(t,e){return t>e?1:t<e?-1:0},Zs.IntersectsOp.get=function(){return Xi},Zs.serialVersionUID.get=function(){return-0x35ef64c82d4c5400},Zs.DEFAULT_NODE_CAPACITY.get=function(){return 10},Object.defineProperties(Sr,Zs);var Xi=function(){},Zr=function(){};Zr.prototype.distance=function(t,e){},Zr.prototype.interfaces_=function(){return[]},Zr.prototype.getClass=function(){return Zr};var Ti=function(t){function e(s){t.call(this,s=s||e.DEFAULT_NODE_CAPACITY)}t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e;var o={STRtreeNode:{configurable:!0},serialVersionUID:{configurable:!0},xComparator:{configurable:!0},yComparator:{configurable:!0},intersectsOp:{configurable:!0},DEFAULT_NODE_CAPACITY:{configurable:!0}};return e.prototype.createParentBoundablesFromVerticalSlices=function(s,f){Ae.isTrue(s.length>0);for(var v=new $,E=0;E<s.length;E++)v.addAll(this.createParentBoundablesFromVerticalSlice(s[E],f));return v},e.prototype.createNode=function(s){return new Vo(s)},e.prototype.size=function(){return 0===arguments.length?t.prototype.size.call(this):t.prototype.size.apply(this,arguments)},e.prototype.insert=function(){if(2!==arguments.length)return t.prototype.insert.apply(this,arguments);var s=arguments[0],f=arguments[1];if(s.isNull())return null;t.prototype.insert.call(this,s,f)},e.prototype.getIntersectsOp=function(){return e.intersectsOp},e.prototype.verticalSlices=function(s,f){for(var v=Math.trunc(Math.ceil(s.size()/f)),E=new Array(f).fill(null),S=s.iterator(),q=0;q<f;q++){E[q]=new $;for(var it=0;S.hasNext()&&it<v;){var Mt=S.next();E[q].add(Mt),it++}}return E},e.prototype.query=function(){if(1===arguments.length)return t.prototype.query.call(this,arguments[0]);2===arguments.length?t.prototype.query.call(this,arguments[0],arguments[1]):3===arguments.length&&(ee(arguments[2],po)&&arguments[0]instanceof Object&&arguments[1]instanceof gr||ee(arguments[2],ce)&&arguments[0]instanceof Object&&arguments[1]instanceof gr)&&t.prototype.query.call(this,arguments[0],arguments[1],arguments[2])},e.prototype.getComparator=function(){return e.yComparator},e.prototype.createParentBoundablesFromVerticalSlice=function(s,f){return t.prototype.createParentBoundables.call(this,s,f)},e.prototype.remove=function(){return 2===arguments.length?t.prototype.remove.call(this,arguments[0],arguments[1]):t.prototype.remove.apply(this,arguments)},e.prototype.depth=function(){return 0===arguments.length?t.prototype.depth.call(this):t.prototype.depth.apply(this,arguments)},e.prototype.createParentBoundables=function(s,f){Ae.isTrue(!s.isEmpty());var v=Math.trunc(Math.ceil(s.size()/this.getNodeCapacity())),E=new $(s);no.sort(E,e.xComparator);var S=this.verticalSlices(E,Math.trunc(Math.ceil(Math.sqrt(v))));return this.createParentBoundablesFromVerticalSlices(S,f)},e.prototype.nearestNeighbour=function(){if(1===arguments.length){if(ee(arguments[0],Zr)){var s=arguments[0],f=new lr(this.getRoot(),this.getRoot(),s);return this.nearestNeighbour(f)}if(arguments[0]instanceof lr)return this.nearestNeighbour(arguments[0],U.POSITIVE_INFINITY)}else if(2===arguments.length){if(arguments[0]instanceof e&&ee(arguments[1],Zr)){var E=arguments[0],S=arguments[1],q=new lr(this.getRoot(),E.getRoot(),S);return this.nearestNeighbour(q)}if(arguments[0]instanceof lr&&"number"==typeof arguments[1]){var it=arguments[0],Mt=arguments[1],Dt=null,ie=new bi;for(ie.add(it);!ie.isEmpty()&&Mt>0;){var ue=ie.poll(),de=ue.getDistance();if(de>=Mt)break;ue.isLeaves()?(Mt=de,Dt=ue):ue.expandToQueue(ie,Mt)}return[Dt.getBoundable(0).getItem(),Dt.getBoundable(1).getItem()]}}else if(3===arguments.length){var vr=arguments[2],ni=new rr(arguments[0],arguments[1]),Ao=new lr(this.getRoot(),ni,vr);return this.nearestNeighbour(Ao)[0]}},e.prototype.interfaces_=function(){return[Wn,G]},e.prototype.getClass=function(){return e},e.centreX=function(s){return e.avg(s.getMinX(),s.getMaxX())},e.avg=function(s,f){return(s+f)/2},e.centreY=function(s){return e.avg(s.getMinY(),s.getMaxY())},o.STRtreeNode.get=function(){return Vo},o.serialVersionUID.get=function(){return 0x39920f7d5f261e0},o.xComparator.get=function(){return{interfaces_:function(){return[pt]},compare:function(s,f){return t.compareDoubles(e.centreX(s.getBounds()),e.centreX(f.getBounds()))}}},o.yComparator.get=function(){return{interfaces_:function(){return[pt]},compare:function(s,f){return t.compareDoubles(e.centreY(s.getBounds()),e.centreY(f.getBounds()))}}},o.intersectsOp.get=function(){return{interfaces_:function(){return[t.IntersectsOp]},intersects:function(s,f){return s.intersects(f)}}},o.DEFAULT_NODE_CAPACITY.get=function(){return 10},Object.defineProperties(e,o),e}(Sr),Vo=function(t){function e(){t.call(this,arguments[0])}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.computeBounds=function(){for(var o=null,s=this.getChildBoundables().iterator();s.hasNext();){var f=s.next();null===o?o=new ae(f.getBounds()):o.expandToInclude(f.getBounds())}return o},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e}(gr),dr=function(){};dr.prototype.interfaces_=function(){return[]},dr.prototype.getClass=function(){return dr},dr.relativeSign=function(t,e){return t<e?-1:t>e?1:0},dr.compare=function(t,e,o){if(e.equals2D(o))return 0;var s=dr.relativeSign(e.x,o.x),f=dr.relativeSign(e.y,o.y);switch(t){case 0:return dr.compareValue(s,f);case 1:return dr.compareValue(f,s);case 2:return dr.compareValue(f,-s);case 3:return dr.compareValue(-s,f);case 4:return dr.compareValue(-s,-f);case 5:return dr.compareValue(-f,-s);case 6:return dr.compareValue(-f,s);case 7:return dr.compareValue(s,-f)}return Ae.shouldNeverReachHere("invalid octant value"),0},dr.compareValue=function(t,e){return t<0?-1:t>0?1:e<0?-1:e>0?1:0};var Cr=function(){this._segString=null,this.coord=null,this.segmentIndex=null,this._segmentOctant=null,this._isInterior=null;var t=arguments[0],e=arguments[1],o=arguments[2],s=arguments[3];this._segString=t,this.coord=new R(e),this.segmentIndex=o,this._segmentOctant=s,this._isInterior=!e.equals2D(t.getCoordinate(o))};Cr.prototype.getCoordinate=function(){return this.coord},Cr.prototype.print=function(t){t.print(this.coord),t.print(" seg # = "+this.segmentIndex)},Cr.prototype.compareTo=function(t){var e=t;return this.segmentIndex<e.segmentIndex?-1:this.segmentIndex>e.segmentIndex?1:this.coord.equals2D(e.coord)?0:dr.compare(this._segmentOctant,this.coord,e.coord)},Cr.prototype.isEndPoint=function(t){return 0===this.segmentIndex&&!this._isInterior||this.segmentIndex===t},Cr.prototype.isInterior=function(){return this._isInterior},Cr.prototype.interfaces_=function(){return[rt]},Cr.prototype.getClass=function(){return Cr};var $n=function(){this._nodeMap=new kt,this._edge=null,this._edge=arguments[0]};$n.prototype.getSplitCoordinates=function(){var t=new le;this.addEndpoints();for(var e=this.iterator(),o=e.next();e.hasNext();){var s=e.next();this.addEdgeCoordinates(o,s,t),o=s}return t.toCoordinateArray()},$n.prototype.addCollapsedNodes=function(){var t=new $;this.findCollapsesFromInsertedNodes(t),this.findCollapsesFromExistingVertices(t);for(var e=t.iterator();e.hasNext();){var o=e.next().intValue();this.add(this._edge.getCoordinate(o),o)}},$n.prototype.print=function(t){t.println("Intersections:");for(var e=this.iterator();e.hasNext();)e.next().print(t)},$n.prototype.findCollapsesFromExistingVertices=function(t){for(var e=0;e<this._edge.size()-2;e++){var o=this._edge.getCoordinate(e),s=this._edge.getCoordinate(e+2);o.equals2D(s)&&t.add(new Gt(e+1))}},$n.prototype.addEdgeCoordinates=function(t,e,o){var s=this._edge.getCoordinate(e.segmentIndex),f=e.isInterior()||!e.coord.equals2D(s);o.add(new R(t.coord),!1);for(var v=t.segmentIndex+1;v<=e.segmentIndex;v++)o.add(this._edge.getCoordinate(v));f&&o.add(new R(e.coord))},$n.prototype.iterator=function(){return this._nodeMap.values().iterator()},$n.prototype.addSplitEdges=function(t){this.addEndpoints(),this.addCollapsedNodes();for(var e=this.iterator(),o=e.next();e.hasNext();){var s=e.next(),f=this.createSplitEdge(o,s);t.add(f),o=s}},$n.prototype.findCollapseIndex=function(t,e,o){if(!t.coord.equals2D(e.coord))return!1;var s=e.segmentIndex-t.segmentIndex;return e.isInterior()||s--,1===s&&(o[0]=t.segmentIndex+1,!0)},$n.prototype.findCollapsesFromInsertedNodes=function(t){for(var e=new Array(1).fill(null),o=this.iterator(),s=o.next();o.hasNext();){var f=o.next();this.findCollapseIndex(s,f,e)&&t.add(new Gt(e[0])),s=f}},$n.prototype.getEdge=function(){return this._edge},$n.prototype.addEndpoints=function(){var t=this._edge.size()-1;this.add(this._edge.getCoordinate(0),0),this.add(this._edge.getCoordinate(t),t)},$n.prototype.createSplitEdge=function(t,e){var o=e.segmentIndex-t.segmentIndex+2,s=this._edge.getCoordinate(e.segmentIndex),f=e.isInterior()||!e.coord.equals2D(s);f||o--;var v=new Array(o).fill(null),E=0;v[E++]=new R(t.coord);for(var S=t.segmentIndex+1;S<=e.segmentIndex;S++)v[E++]=this._edge.getCoordinate(S);return f&&(v[E]=new R(e.coord)),new tr(v,this._edge.getData())},$n.prototype.add=function(t,e){var o=new Cr(this._edge,t,e,this._edge.getSegmentOctant(e)),s=this._nodeMap.get(o);return null!==s?(Ae.isTrue(s.coord.equals2D(t),"Found equal nodes with different coordinates"),s):(this._nodeMap.put(o,o),o)},$n.prototype.checkSplitEdgesCorrectness=function(t){var e=this._edge.getCoordinates(),o=t.get(0).getCoordinate(0);if(!o.equals2D(e[0]))throw new Jn("bad split edge start point at "+o);var s=t.get(t.size()-1).getCoordinates(),f=s[s.length-1];if(!f.equals2D(e[e.length-1]))throw new Jn("bad split edge end point at "+f)},$n.prototype.interfaces_=function(){return[]},$n.prototype.getClass=function(){return $n};var Yi=function(){};Yi.prototype.interfaces_=function(){return[]},Yi.prototype.getClass=function(){return Yi},Yi.octant=function(){if("number"==typeof arguments[0]&&"number"==typeof arguments[1]){var t=arguments[0],e=arguments[1];if(0===t&&0===e)throw new Q("Cannot compute the octant for point ( "+t+", "+e+" )");var o=Math.abs(t),s=Math.abs(e);return t>=0?e>=0?o>=s?0:1:o>=s?7:6:e>=0?o>=s?3:2:o>=s?4:5}if(arguments[0]instanceof R&&arguments[1]instanceof R){var f=arguments[0],v=arguments[1],E=v.x-f.x,S=v.y-f.y;if(0===E&&0===S)throw new Q("Cannot compute the octant for two identical points "+f);return Yi.octant(E,S)}};var yr=function(){};yr.prototype.getCoordinates=function(){},yr.prototype.size=function(){},yr.prototype.getCoordinate=function(t){},yr.prototype.isClosed=function(){},yr.prototype.setData=function(t){},yr.prototype.getData=function(){},yr.prototype.interfaces_=function(){return[]},yr.prototype.getClass=function(){return yr};var go=function(){};go.prototype.addIntersection=function(t,e){},go.prototype.interfaces_=function(){return[yr]},go.prototype.getClass=function(){return go};var tr=function(){this._nodeList=new $n(this),this._pts=null,this._data=null;var e=arguments[1];this._pts=arguments[0],this._data=e};tr.prototype.getCoordinates=function(){return this._pts},tr.prototype.size=function(){return this._pts.length},tr.prototype.getCoordinate=function(t){return this._pts[t]},tr.prototype.isClosed=function(){return this._pts[0].equals(this._pts[this._pts.length-1])},tr.prototype.getSegmentOctant=function(t){return t===this._pts.length-1?-1:this.safeOctant(this.getCoordinate(t),this.getCoordinate(t+1))},tr.prototype.setData=function(t){this._data=t},tr.prototype.safeOctant=function(t,e){return t.equals2D(e)?0:Yi.octant(t,e)},tr.prototype.getData=function(){return this._data},tr.prototype.addIntersection=function(){if(2===arguments.length)this.addIntersectionNode(arguments[0],arguments[1]);else if(4===arguments.length){var s=arguments[1],v=new R(arguments[0].getIntersection(arguments[3]));this.addIntersection(v,s)}},tr.prototype.toString=function(){return cr.toLineString(new Hn(this._pts))},tr.prototype.getNodeList=function(){return this._nodeList},tr.prototype.addIntersectionNode=function(t,e){var o=e,s=o+1;return s<this._pts.length&&t.equals2D(this._pts[s])&&(o=s),this._nodeList.add(t,o)},tr.prototype.addIntersections=function(t,e,o){for(var s=0;s<t.getIntersectionNum();s++)this.addIntersection(t,e,o,s)},tr.prototype.interfaces_=function(){return[go]},tr.prototype.getClass=function(){return tr},tr.getNodedSubstrings=function(){if(1===arguments.length){var t=arguments[0],e=new $;return tr.getNodedSubstrings(t,e),e}if(2===arguments.length)for(var s=arguments[1],f=arguments[0].iterator();f.hasNext();)f.next().getNodeList().addSplitEdges(s)};var Pe=function(){if(this.p0=null,this.p1=null,0===arguments.length)this.p0=new R,this.p1=new R;else if(1===arguments.length){var t=arguments[0];this.p0=new R(t.p0),this.p1=new R(t.p1)}else if(2===arguments.length)this.p0=arguments[0],this.p1=arguments[1];else if(4===arguments.length){var s=arguments[2],f=arguments[3];this.p0=new R(arguments[0],arguments[1]),this.p1=new R(s,f)}},Qs={serialVersionUID:{configurable:!0}};Pe.prototype.minX=function(){return Math.min(this.p0.x,this.p1.x)},Pe.prototype.orientationIndex=function(){if(arguments[0]instanceof Pe){var t=arguments[0],e=se.orientationIndex(this.p0,this.p1,t.p0),o=se.orientationIndex(this.p0,this.p1,t.p1);return e>=0&&o>=0||e<=0&&o<=0?Math.max(e,o):0}if(arguments[0]instanceof R)return se.orientationIndex(this.p0,this.p1,arguments[0])},Pe.prototype.toGeometry=function(t){return t.createLineString([this.p0,this.p1])},Pe.prototype.isVertical=function(){return this.p0.x===this.p1.x},Pe.prototype.equals=function(t){if(!(t instanceof Pe))return!1;var e=t;return this.p0.equals(e.p0)&&this.p1.equals(e.p1)},Pe.prototype.intersection=function(t){var e=new kr;return e.computeIntersection(this.p0,this.p1,t.p0,t.p1),e.hasIntersection()?e.getIntersection(0):null},Pe.prototype.project=function(){if(arguments[0]instanceof R){var t=arguments[0];if(t.equals(this.p0)||t.equals(this.p1))return new R(t);var e=this.projectionFactor(t),o=new R;return o.x=this.p0.x+e*(this.p1.x-this.p0.x),o.y=this.p0.y+e*(this.p1.y-this.p0.y),o}if(arguments[0]instanceof Pe){var s=arguments[0],f=this.projectionFactor(s.p0),v=this.projectionFactor(s.p1);if(f>=1&&v>=1||f<=0&&v<=0)return null;var E=this.project(s.p0);f<0&&(E=this.p0),f>1&&(E=this.p1);var S=this.project(s.p1);return v<0&&(S=this.p0),v>1&&(S=this.p1),new Pe(E,S)}},Pe.prototype.normalize=function(){this.p1.compareTo(this.p0)<0&&this.reverse()},Pe.prototype.angle=function(){return Math.atan2(this.p1.y-this.p0.y,this.p1.x-this.p0.x)},Pe.prototype.getCoordinate=function(t){return 0===t?this.p0:this.p1},Pe.prototype.distancePerpendicular=function(t){return se.distancePointLinePerpendicular(t,this.p0,this.p1)},Pe.prototype.minY=function(){return Math.min(this.p0.y,this.p1.y)},Pe.prototype.midPoint=function(){return Pe.midPoint(this.p0,this.p1)},Pe.prototype.projectionFactor=function(t){if(t.equals(this.p0))return 0;if(t.equals(this.p1))return 1;var e=this.p1.x-this.p0.x,o=this.p1.y-this.p0.y,s=e*e+o*o;return s<=0?U.NaN:((t.x-this.p0.x)*e+(t.y-this.p0.y)*o)/s},Pe.prototype.closestPoints=function(t){var e=this.intersection(t);if(null!==e)return[e,e];var o=new Array(2).fill(null),s=U.MAX_VALUE,f=null,v=this.closestPoint(t.p0);s=v.distance(t.p0),o[0]=v,o[1]=t.p0;var E=this.closestPoint(t.p1);(f=E.distance(t.p1))<s&&(s=f,o[0]=E,o[1]=t.p1);var S=t.closestPoint(this.p0);(f=S.distance(this.p0))<s&&(s=f,o[0]=this.p0,o[1]=S);var q=t.closestPoint(this.p1);return(f=q.distance(this.p1))<s&&(s=f,o[0]=this.p1,o[1]=q),o},Pe.prototype.closestPoint=function(t){var e=this.projectionFactor(t);return e>0&&e<1?this.project(t):this.p0.distance(t)<this.p1.distance(t)?this.p0:this.p1},Pe.prototype.maxX=function(){return Math.max(this.p0.x,this.p1.x)},Pe.prototype.getLength=function(){return this.p0.distance(this.p1)},Pe.prototype.compareTo=function(t){var e=t,o=this.p0.compareTo(e.p0);return 0!==o?o:this.p1.compareTo(e.p1)},Pe.prototype.reverse=function(){var t=this.p0;this.p0=this.p1,this.p1=t},Pe.prototype.equalsTopo=function(t){return this.p0.equals(t.p0)&&(this.p1.equals(t.p1)||this.p0.equals(t.p1))&&this.p1.equals(t.p0)},Pe.prototype.lineIntersection=function(t){try{return qe.intersection(this.p0,this.p1,t.p0,t.p1)}catch(e){if(!(e instanceof je))throw e}return null},Pe.prototype.maxY=function(){return Math.max(this.p0.y,this.p1.y)},Pe.prototype.pointAlongOffset=function(t,e){var o=this.p0.x+t*(this.p1.x-this.p0.x),s=this.p0.y+t*(this.p1.y-this.p0.y),f=this.p1.x-this.p0.x,v=this.p1.y-this.p0.y,E=Math.sqrt(f*f+v*v),S=0,q=0;if(0!==e){if(E<=0)throw new Error("Cannot compute offset from zero-length line segment");S=e*f/E,q=e*v/E}return new R(o-q,s+S)},Pe.prototype.setCoordinates=function(){if(1===arguments.length){var t=arguments[0];this.setCoordinates(t.p0,t.p1)}else if(2===arguments.length){var e=arguments[0],o=arguments[1];this.p0.x=e.x,this.p0.y=e.y,this.p1.x=o.x,this.p1.y=o.y}},Pe.prototype.segmentFraction=function(t){var e=this.projectionFactor(t);return e<0?e=0:(e>1||U.isNaN(e))&&(e=1),e},Pe.prototype.toString=function(){return"LINESTRING( "+this.p0.x+" "+this.p0.y+", "+this.p1.x+" "+this.p1.y+")"},Pe.prototype.isHorizontal=function(){return this.p0.y===this.p1.y},Pe.prototype.distance=function(){if(arguments[0]instanceof Pe){var t=arguments[0];return se.distanceLineLine(this.p0,this.p1,t.p0,t.p1)}if(arguments[0]instanceof R)return se.distancePointLine(arguments[0],this.p0,this.p1)},Pe.prototype.pointAlong=function(t){var e=new R;return e.x=this.p0.x+t*(this.p1.x-this.p0.x),e.y=this.p0.y+t*(this.p1.y-this.p0.y),e},Pe.prototype.hashCode=function(){var t=U.doubleToLongBits(this.p0.x);t^=31*U.doubleToLongBits(this.p0.y);var e=Math.trunc(t)^Math.trunc(t>>32),o=U.doubleToLongBits(this.p1.x);return o^=31*U.doubleToLongBits(this.p1.y),e^Math.trunc(o)^Math.trunc(o>>32)},Pe.prototype.interfaces_=function(){return[rt,G]},Pe.prototype.getClass=function(){return Pe},Pe.midPoint=function(t,e){return new R((t.x+e.x)/2,(t.y+e.y)/2)},Qs.serialVersionUID.get=function(){return 0x2d2172135f411c00},Object.defineProperties(Pe,Qs);var ds=function(){this.tempEnv1=new ae,this.tempEnv2=new ae,this._overlapSeg1=new Pe,this._overlapSeg2=new Pe};ds.prototype.overlap=function(){if(2!==arguments.length&&4===arguments.length){var o=arguments[2],s=arguments[3];arguments[0].getLineSegment(arguments[1],this._overlapSeg1),o.getLineSegment(s,this._overlapSeg2),this.overlap(this._overlapSeg1,this._overlapSeg2)}},ds.prototype.interfaces_=function(){return[]},ds.prototype.getClass=function(){return ds};var Qr=function(){this._pts=null,this._start=null,this._end=null,this._env=null,this._context=null,this._id=null;var e=arguments[1],o=arguments[2],s=arguments[3];this._pts=arguments[0],this._start=e,this._end=o,this._context=s};Qr.prototype.getLineSegment=function(t,e){e.p0=this._pts[t],e.p1=this._pts[t+1]},Qr.prototype.computeSelect=function(t,e,o,s){if(s.tempEnv1.init(this._pts[e],this._pts[o]),o-e==1)return s.select(this,e),null;if(!t.intersects(s.tempEnv1))return null;var E=Math.trunc((e+o)/2);e<E&&this.computeSelect(t,e,E,s),E<o&&this.computeSelect(t,E,o,s)},Qr.prototype.getCoordinates=function(){for(var t=new Array(this._end-this._start+1).fill(null),e=0,o=this._start;o<=this._end;o++)t[e++]=this._pts[o];return t},Qr.prototype.computeOverlaps=function(t,e){this.computeOverlapsInternal(this._start,this._end,t,t._start,t._end,e)},Qr.prototype.setId=function(t){this._id=t},Qr.prototype.select=function(t,e){this.computeSelect(t,this._start,this._end,e)},Qr.prototype.getEnvelope=function(){return null===this._env&&(this._env=new ae(this._pts[this._start],this._pts[this._end])),this._env},Qr.prototype.getEndIndex=function(){return this._end},Qr.prototype.getStartIndex=function(){return this._start},Qr.prototype.getContext=function(){return this._context},Qr.prototype.getId=function(){return this._id},Qr.prototype.computeOverlapsInternal=function(t,e,o,s,f,v){var E=this._pts[t],S=this._pts[e],q=o._pts[s],it=o._pts[f];if(e-t==1&&f-s==1)return v.overlap(this,t,o,s),null;if(v.tempEnv1.init(E,S),v.tempEnv2.init(q,it),!v.tempEnv1.intersects(v.tempEnv2))return null;var Mt=Math.trunc((t+e)/2),Dt=Math.trunc((s+f)/2);t<Mt&&(s<Dt&&this.computeOverlapsInternal(t,Mt,o,s,Dt,v),Dt<f&&this.computeOverlapsInternal(t,Mt,o,Dt,f,v)),Mt<e&&(s<Dt&&this.computeOverlapsInternal(Mt,e,o,s,Dt,v),Dt<f&&this.computeOverlapsInternal(Mt,e,o,Dt,f,v))},Qr.prototype.interfaces_=function(){return[]},Qr.prototype.getClass=function(){return Qr};var Di=function(){};Di.prototype.interfaces_=function(){return[]},Di.prototype.getClass=function(){return Di},Di.getChainStartIndices=function(t){var e=0,o=new $;o.add(new Gt(e));do{var s=Di.findChainEnd(t,e);o.add(new Gt(s)),e=s}while(e<t.length-1);return Di.toIntArray(o)},Di.findChainEnd=function(t,e){for(var o=e;o<t.length-1&&t[o].equals2D(t[o+1]);)o++;if(o>=t.length-1)return t.length-1;for(var s=tn.quadrant(t[o],t[o+1]),f=e+1;f<t.length&&(t[f-1].equals2D(t[f])||tn.quadrant(t[f-1],t[f])===s);)f++;return f-1},Di.getChains=function(){if(1===arguments.length)return Di.getChains(arguments[0],null);if(2===arguments.length){for(var e=arguments[0],o=arguments[1],s=new $,f=Di.getChainStartIndices(e),v=0;v<f.length-1;v++){var E=new Qr(e,f[v],f[v+1],o);s.add(E)}return s}},Di.toIntArray=function(t){for(var e=new Array(t.size()).fill(null),o=0;o<e.length;o++)e[o]=t.get(o).intValue();return e};var bo=function(){};bo.prototype.computeNodes=function(t){},bo.prototype.getNodedSubstrings=function(){},bo.prototype.interfaces_=function(){return[]},bo.prototype.getClass=function(){return bo};var ys=function(){this._segInt=null,0!==arguments.length&&1===arguments.length&&this.setSegmentIntersector(arguments[0])};ys.prototype.setSegmentIntersector=function(t){this._segInt=t},ys.prototype.interfaces_=function(){return[bo]},ys.prototype.getClass=function(){return ys};var ks=function(t){function e(s){s?t.call(this,s):t.call(this),this._monoChains=new $,this._index=new Ti,this._idCounter=0,this._nodedSegStrings=null,this._nOverlaps=0}t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e;var o={SegmentOverlapAction:{configurable:!0}};return e.prototype.getMonotoneChains=function(){return this._monoChains},e.prototype.getNodedSubstrings=function(){return tr.getNodedSubstrings(this._nodedSegStrings)},e.prototype.getIndex=function(){return this._index},e.prototype.add=function(s){for(var f=Di.getChains(s.getCoordinates(),s).iterator();f.hasNext();){var v=f.next();v.setId(this._idCounter++),this._index.insert(v.getEnvelope(),v),this._monoChains.add(v)}},e.prototype.computeNodes=function(s){this._nodedSegStrings=s;for(var f=s.iterator();f.hasNext();)this.add(f.next());this.intersectChains()},e.prototype.intersectChains=function(){for(var s=new Ks(this._segInt),f=this._monoChains.iterator();f.hasNext();)for(var v=f.next(),E=this._index.query(v.getEnvelope()).iterator();E.hasNext();){var S=E.next();if(S.getId()>v.getId()&&(v.computeOverlaps(S,s),this._nOverlaps++),this._segInt.isDone())return null}},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},o.SegmentOverlapAction.get=function(){return Ks},Object.defineProperties(e,o),e}(ys),Ks=function(t){function e(){t.call(this),this._si=null,this._si=arguments[0]}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.overlap=function(){if(4!==arguments.length)return t.prototype.overlap.apply(this,arguments);var s=arguments[1],f=arguments[2],v=arguments[3],E=arguments[0].getContext(),S=f.getContext();this._si.processIntersections(E,s,S,v)},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e}(ds),Ze=function t(){if(this._quadrantSegments=t.DEFAULT_QUADRANT_SEGMENTS,this._endCapStyle=t.CAP_ROUND,this._joinStyle=t.JOIN_ROUND,this._mitreLimit=t.DEFAULT_MITRE_LIMIT,this._isSingleSided=!1,this._simplifyFactor=t.DEFAULT_SIMPLIFY_FACTOR,0!==arguments.length)if(1===arguments.length)this.setQuadrantSegments(arguments[0]);else if(2===arguments.length){var s=arguments[1];this.setQuadrantSegments(arguments[0]),this.setEndCapStyle(s)}else if(4===arguments.length){var v=arguments[1],E=arguments[2],S=arguments[3];this.setQuadrantSegments(arguments[0]),this.setEndCapStyle(v),this.setJoinStyle(E),this.setMitreLimit(S)}},Hi={CAP_ROUND:{configurable:!0},CAP_FLAT:{configurable:!0},CAP_SQUARE:{configurable:!0},JOIN_ROUND:{configurable:!0},JOIN_MITRE:{configurable:!0},JOIN_BEVEL:{configurable:!0},DEFAULT_QUADRANT_SEGMENTS:{configurable:!0},DEFAULT_MITRE_LIMIT:{configurable:!0},DEFAULT_SIMPLIFY_FACTOR:{configurable:!0}};Ze.prototype.getEndCapStyle=function(){return this._endCapStyle},Ze.prototype.isSingleSided=function(){return this._isSingleSided},Ze.prototype.setQuadrantSegments=function(t){this._quadrantSegments=t,0===this._quadrantSegments&&(this._joinStyle=Ze.JOIN_BEVEL),this._quadrantSegments<0&&(this._joinStyle=Ze.JOIN_MITRE,this._mitreLimit=Math.abs(this._quadrantSegments)),t<=0&&(this._quadrantSegments=1),this._joinStyle!==Ze.JOIN_ROUND&&(this._quadrantSegments=Ze.DEFAULT_QUADRANT_SEGMENTS)},Ze.prototype.getJoinStyle=function(){return this._joinStyle},Ze.prototype.setJoinStyle=function(t){this._joinStyle=t},Ze.prototype.setSimplifyFactor=function(t){this._simplifyFactor=t<0?0:t},Ze.prototype.getSimplifyFactor=function(){return this._simplifyFactor},Ze.prototype.getQuadrantSegments=function(){return this._quadrantSegments},Ze.prototype.setEndCapStyle=function(t){this._endCapStyle=t},Ze.prototype.getMitreLimit=function(){return this._mitreLimit},Ze.prototype.setMitreLimit=function(t){this._mitreLimit=t},Ze.prototype.setSingleSided=function(t){this._isSingleSided=t},Ze.prototype.interfaces_=function(){return[]},Ze.prototype.getClass=function(){return Ze},Ze.bufferDistanceError=function(t){var e=Math.PI/2/t;return 1-Math.cos(e/2)},Hi.CAP_ROUND.get=function(){return 1},Hi.CAP_FLAT.get=function(){return 2},Hi.CAP_SQUARE.get=function(){return 3},Hi.JOIN_ROUND.get=function(){return 1},Hi.JOIN_MITRE.get=function(){return 2},Hi.JOIN_BEVEL.get=function(){return 3},Hi.DEFAULT_QUADRANT_SEGMENTS.get=function(){return 8},Hi.DEFAULT_MITRE_LIMIT.get=function(){return 5},Hi.DEFAULT_SIMPLIFY_FACTOR.get=function(){return.01},Object.defineProperties(Ze,Hi);var Vn=function(t){this._distanceTol=null,this._isDeleted=null,this._angleOrientation=se.COUNTERCLOCKWISE,this._inputLine=t||null},jo={INIT:{configurable:!0},DELETE:{configurable:!0},KEEP:{configurable:!0},NUM_PTS_TO_CHECK:{configurable:!0}};Vn.prototype.isDeletable=function(t,e,o,s){var f=this._inputLine[t],v=this._inputLine[e],E=this._inputLine[o];return!!this.isConcave(f,v,E)&&!!this.isShallow(f,v,E,s)&&this.isShallowSampled(f,v,t,o,s)},Vn.prototype.deleteShallowConcavities=function(){for(var t=1,e=this.findNextNonDeletedIndex(t),o=this.findNextNonDeletedIndex(e),s=!1;o<this._inputLine.length;){var f=!1;this.isDeletable(t,e,o,this._distanceTol)&&(this._isDeleted[e]=Vn.DELETE,f=!0,s=!0),e=this.findNextNonDeletedIndex(t=f?o:e),o=this.findNextNonDeletedIndex(e)}return s},Vn.prototype.isShallowConcavity=function(t,e,o,s){return se.computeOrientation(t,e,o)===this._angleOrientation&&se.distancePointLine(e,t,o)<s},Vn.prototype.isShallowSampled=function(t,e,o,s,f){var v=Math.trunc((s-o)/Vn.NUM_PTS_TO_CHECK);v<=0&&(v=1);for(var E=o;E<s;E+=v)if(!this.isShallow(t,e,this._inputLine[E],f))return!1;return!0},Vn.prototype.isConcave=function(t,e,o){return se.computeOrientation(t,e,o)===this._angleOrientation},Vn.prototype.simplify=function(t){this._distanceTol=Math.abs(t),t<0&&(this._angleOrientation=se.CLOCKWISE),this._isDeleted=new Array(this._inputLine.length).fill(null);var e=!1;do{e=this.deleteShallowConcavities()}while(e);return this.collapseLine()},Vn.prototype.findNextNonDeletedIndex=function(t){for(var e=t+1;e<this._inputLine.length&&this._isDeleted[e]===Vn.DELETE;)e++;return e},Vn.prototype.isShallow=function(t,e,o,s){return se.distancePointLine(e,t,o)<s},Vn.prototype.collapseLine=function(){for(var t=new le,e=0;e<this._inputLine.length;e++)this._isDeleted[e]!==Vn.DELETE&&t.add(this._inputLine[e]);return t.toCoordinateArray()},Vn.prototype.interfaces_=function(){return[]},Vn.prototype.getClass=function(){return Vn},Vn.simplify=function(t,e){return new Vn(t).simplify(e)},jo.INIT.get=function(){return 0},jo.DELETE.get=function(){return 1},jo.KEEP.get=function(){return 1},jo.NUM_PTS_TO_CHECK.get=function(){return 10},Object.defineProperties(Vn,jo);var mi=function(){this._ptList=null,this._precisionModel=null,this._minimimVertexDistance=0,this._ptList=new $},ta={COORDINATE_ARRAY_TYPE:{configurable:!0}};mi.prototype.getCoordinates=function(){return this._ptList.toArray(mi.COORDINATE_ARRAY_TYPE)},mi.prototype.setPrecisionModel=function(t){this._precisionModel=t},mi.prototype.addPt=function(t){var e=new R(t);if(this._precisionModel.makePrecise(e),this.isRedundant(e))return null;this._ptList.add(e)},mi.prototype.revere=function(){},mi.prototype.addPts=function(t,e){if(e)for(var o=0;o<t.length;o++)this.addPt(t[o]);else for(var s=t.length-1;s>=0;s--)this.addPt(t[s])},mi.prototype.isRedundant=function(t){if(this._ptList.size()<1)return!1;var e=this._ptList.get(this._ptList.size()-1);return t.distance(e)<this._minimimVertexDistance},mi.prototype.toString=function(){return(new Ye).createLineString(this.getCoordinates()).toString()},mi.prototype.closeRing=function(){if(this._ptList.size()<1)return null;var t=new R(this._ptList.get(0)),e=this._ptList.get(this._ptList.size()-1);if(t.equals(e))return null;this._ptList.add(t)},mi.prototype.setMinimumVertexDistance=function(t){this._minimimVertexDistance=t},mi.prototype.interfaces_=function(){return[]},mi.prototype.getClass=function(){return mi},ta.COORDINATE_ARRAY_TYPE.get=function(){return new Array(0).fill(null)},Object.defineProperties(mi,ta);var Ve=function(){},Jo={PI_TIMES_2:{configurable:!0},PI_OVER_2:{configurable:!0},PI_OVER_4:{configurable:!0},COUNTERCLOCKWISE:{configurable:!0},CLOCKWISE:{configurable:!0},NONE:{configurable:!0}};Ve.prototype.interfaces_=function(){return[]},Ve.prototype.getClass=function(){return Ve},Ve.toDegrees=function(t){return 180*t/Math.PI},Ve.normalize=function(t){for(;t>Math.PI;)t-=Ve.PI_TIMES_2;for(;t<=-Math.PI;)t+=Ve.PI_TIMES_2;return t},Ve.angle=function(){if(1===arguments.length){var t=arguments[0];return Math.atan2(t.y,t.x)}if(2===arguments.length){var e=arguments[0],o=arguments[1];return Math.atan2(o.y-e.y,o.x-e.x)}},Ve.isAcute=function(t,e,o){return(t.x-e.x)*(o.x-e.x)+(t.y-e.y)*(o.y-e.y)>0},Ve.isObtuse=function(t,e,o){return(t.x-e.x)*(o.x-e.x)+(t.y-e.y)*(o.y-e.y)<0},Ve.interiorAngle=function(t,e,o){var s=Ve.angle(e,t),f=Ve.angle(e,o);return Math.abs(f-s)},Ve.normalizePositive=function(t){if(t<0){for(;t<0;)t+=Ve.PI_TIMES_2;t>=Ve.PI_TIMES_2&&(t=0)}else{for(;t>=Ve.PI_TIMES_2;)t-=Ve.PI_TIMES_2;t<0&&(t=0)}return t},Ve.angleBetween=function(t,e,o){var s=Ve.angle(e,t),f=Ve.angle(e,o);return Ve.diff(s,f)},Ve.diff=function(t,e){var o=null;return(o=t<e?e-t:t-e)>Math.PI&&(o=2*Math.PI-o),o},Ve.toRadians=function(t){return t*Math.PI/180},Ve.getTurn=function(t,e){var o=Math.sin(e-t);return o>0?Ve.COUNTERCLOCKWISE:o<0?Ve.CLOCKWISE:Ve.NONE},Ve.angleBetweenOriented=function(t,e,o){var s=Ve.angle(e,t),f=Ve.angle(e,o)-s;return f<=-Math.PI?f+Ve.PI_TIMES_2:f>Math.PI?f-Ve.PI_TIMES_2:f},Jo.PI_TIMES_2.get=function(){return 2*Math.PI},Jo.PI_OVER_2.get=function(){return Math.PI/2},Jo.PI_OVER_4.get=function(){return Math.PI/4},Jo.COUNTERCLOCKWISE.get=function(){return se.COUNTERCLOCKWISE},Jo.CLOCKWISE.get=function(){return se.CLOCKWISE},Jo.NONE.get=function(){return se.COLLINEAR},Object.defineProperties(Ve,Jo);var jn=function t(){this._maxCurveSegmentError=0,this._filletAngleQuantum=null,this._closingSegLengthFactor=1,this._segList=null,this._distance=0,this._precisionModel=null,this._bufParams=null,this._li=null,this._s0=null,this._s1=null,this._s2=null,this._seg0=new Pe,this._seg1=new Pe,this._offset0=new Pe,this._offset1=new Pe,this._side=0,this._hasNarrowConcaveAngle=!1;var o=arguments[1],s=arguments[2];this._precisionModel=arguments[0],this._bufParams=o,this._li=new kr,this._filletAngleQuantum=Math.PI/2/o.getQuadrantSegments(),o.getQuadrantSegments()>=8&&o.getJoinStyle()===Ze.JOIN_ROUND&&(this._closingSegLengthFactor=t.MAX_CLOSING_SEG_LEN_FACTOR),this.init(s)},bs={OFFSET_SEGMENT_SEPARATION_FACTOR:{configurable:!0},INSIDE_TURN_VERTEX_SNAP_DISTANCE_FACTOR:{configurable:!0},CURVE_VERTEX_SNAP_DISTANCE_FACTOR:{configurable:!0},MAX_CLOSING_SEG_LEN_FACTOR:{configurable:!0}};jn.prototype.addNextSegment=function(t,e){if(this._s0=this._s1,this._s1=this._s2,this._s2=t,this._seg0.setCoordinates(this._s0,this._s1),this.computeOffsetSegment(this._seg0,this._side,this._distance,this._offset0),this._seg1.setCoordinates(this._s1,this._s2),this.computeOffsetSegment(this._seg1,this._side,this._distance,this._offset1),this._s1.equals(this._s2))return null;var o=se.computeOrientation(this._s0,this._s1,this._s2),s=o===se.CLOCKWISE&&this._side===Kt.LEFT||o===se.COUNTERCLOCKWISE&&this._side===Kt.RIGHT;0===o?this.addCollinear(e):s?this.addOutsideTurn(o,e):this.addInsideTurn(o,e)},jn.prototype.addLineEndCap=function(t,e){var o=new Pe(t,e),s=new Pe;this.computeOffsetSegment(o,Kt.LEFT,this._distance,s);var f=new Pe;this.computeOffsetSegment(o,Kt.RIGHT,this._distance,f);var S=Math.atan2(e.y-t.y,e.x-t.x);switch(this._bufParams.getEndCapStyle()){case Ze.CAP_ROUND:this._segList.addPt(s.p1),this.addFilletArc(e,S+Math.PI/2,S-Math.PI/2,se.CLOCKWISE,this._distance),this._segList.addPt(f.p1);break;case Ze.CAP_FLAT:this._segList.addPt(s.p1),this._segList.addPt(f.p1);break;case Ze.CAP_SQUARE:var q=new R;q.x=Math.abs(this._distance)*Math.cos(S),q.y=Math.abs(this._distance)*Math.sin(S);var it=new R(s.p1.x+q.x,s.p1.y+q.y),Mt=new R(f.p1.x+q.x,f.p1.y+q.y);this._segList.addPt(it),this._segList.addPt(Mt)}},jn.prototype.getCoordinates=function(){return this._segList.getCoordinates()},jn.prototype.addMitreJoin=function(t,e,o,s){var f=!0,v=null;try{v=qe.intersection(e.p0,e.p1,o.p0,o.p1),(s<=0?1:v.distance(t)/Math.abs(s))>this._bufParams.getMitreLimit()&&(f=!1)}catch(E){if(!(E instanceof je))throw E;v=new R(0,0),f=!1}f?this._segList.addPt(v):this.addLimitedMitreJoin(e,o,s,this._bufParams.getMitreLimit())},jn.prototype.addFilletCorner=function(t,e,o,s,f){var S=Math.atan2(e.y-t.y,e.x-t.x),Mt=Math.atan2(o.y-t.y,o.x-t.x);s===se.CLOCKWISE?S<=Mt&&(S+=2*Math.PI):S>=Mt&&(S-=2*Math.PI),this._segList.addPt(e),this.addFilletArc(t,S,Mt,s,f),this._segList.addPt(o)},jn.prototype.addOutsideTurn=function(t,e){if(this._offset0.p1.distance(this._offset1.p0)<this._distance*jn.OFFSET_SEGMENT_SEPARATION_FACTOR)return this._segList.addPt(this._offset0.p1),null;this._bufParams.getJoinStyle()===Ze.JOIN_MITRE?this.addMitreJoin(this._s1,this._offset0,this._offset1,this._distance):this._bufParams.getJoinStyle()===Ze.JOIN_BEVEL?this.addBevelJoin(this._offset0,this._offset1):(e&&this._segList.addPt(this._offset0.p1),this.addFilletCorner(this._s1,this._offset0.p1,this._offset1.p0,t,this._distance),this._segList.addPt(this._offset1.p0))},jn.prototype.createSquare=function(t){this._segList.addPt(new R(t.x+this._distance,t.y+this._distance)),this._segList.addPt(new R(t.x+this._distance,t.y-this._distance)),this._segList.addPt(new R(t.x-this._distance,t.y-this._distance)),this._segList.addPt(new R(t.x-this._distance,t.y+this._distance)),this._segList.closeRing()},jn.prototype.addSegments=function(t,e){this._segList.addPts(t,e)},jn.prototype.addFirstSegment=function(){this._segList.addPt(this._offset1.p0)},jn.prototype.addLastSegment=function(){this._segList.addPt(this._offset1.p1)},jn.prototype.initSideSegments=function(t,e,o){this._s1=t,this._s2=e,this._side=o,this._seg1.setCoordinates(t,e),this.computeOffsetSegment(this._seg1,o,this._distance,this._offset1)},jn.prototype.addLimitedMitreJoin=function(t,e,o,s){var f=this._seg0.p1,v=Ve.angle(f,this._seg0.p0),E=Ve.angleBetweenOriented(this._seg0.p0,f,this._seg1.p1)/2,S=Ve.normalize(v+E),q=Ve.normalize(S+Math.PI),it=s*o,Mt=o-it*Math.abs(Math.sin(E)),Dt=f.x+it*Math.cos(q),ie=f.y+it*Math.sin(q),ue=new R(Dt,ie),de=new Pe(f,ue),Ne=de.pointAlongOffset(1,Mt),Bn=de.pointAlongOffset(1,-Mt);this._side===Kt.LEFT?(this._segList.addPt(Ne),this._segList.addPt(Bn)):(this._segList.addPt(Bn),this._segList.addPt(Ne))},jn.prototype.computeOffsetSegment=function(t,e,o,s){var f=e===Kt.LEFT?1:-1,v=t.p1.x-t.p0.x,E=t.p1.y-t.p0.y,S=Math.sqrt(v*v+E*E),q=f*o*v/S,it=f*o*E/S;s.p0.x=t.p0.x-it,s.p0.y=t.p0.y+q,s.p1.x=t.p1.x-it,s.p1.y=t.p1.y+q},jn.prototype.addFilletArc=function(t,e,o,s,f){var v=s===se.CLOCKWISE?-1:1,E=Math.abs(e-o),S=Math.trunc(E/this._filletAngleQuantum+.5);if(S<1)return null;for(var q=E/S,it=0,Mt=new R;it<E;){var Dt=e+v*it;Mt.x=t.x+f*Math.cos(Dt),Mt.y=t.y+f*Math.sin(Dt),this._segList.addPt(Mt),it+=q}},jn.prototype.addInsideTurn=function(t,e){if(this._li.computeIntersection(this._offset0.p0,this._offset0.p1,this._offset1.p0,this._offset1.p1),this._li.hasIntersection())this._segList.addPt(this._li.getIntersection(0));else if(this._hasNarrowConcaveAngle=!0,this._offset0.p1.distance(this._offset1.p0)<this._distance*jn.INSIDE_TURN_VERTEX_SNAP_DISTANCE_FACTOR)this._segList.addPt(this._offset0.p1);else{if(this._segList.addPt(this._offset0.p1),this._closingSegLengthFactor>0){var o=new R((this._closingSegLengthFactor*this._offset0.p1.x+this._s1.x)/(this._closingSegLengthFactor+1),(this._closingSegLengthFactor*this._offset0.p1.y+this._s1.y)/(this._closingSegLengthFactor+1));this._segList.addPt(o);var s=new R((this._closingSegLengthFactor*this._offset1.p0.x+this._s1.x)/(this._closingSegLengthFactor+1),(this._closingSegLengthFactor*this._offset1.p0.y+this._s1.y)/(this._closingSegLengthFactor+1));this._segList.addPt(s)}else this._segList.addPt(this._s1);this._segList.addPt(this._offset1.p0)}},jn.prototype.createCircle=function(t){var e=new R(t.x+this._distance,t.y);this._segList.addPt(e),this.addFilletArc(t,0,2*Math.PI,-1,this._distance),this._segList.closeRing()},jn.prototype.addBevelJoin=function(t,e){this._segList.addPt(t.p1),this._segList.addPt(e.p0)},jn.prototype.init=function(t){this._distance=t,this._maxCurveSegmentError=t*(1-Math.cos(this._filletAngleQuantum/2)),this._segList=new mi,this._segList.setPrecisionModel(this._precisionModel),this._segList.setMinimumVertexDistance(t*jn.CURVE_VERTEX_SNAP_DISTANCE_FACTOR)},jn.prototype.addCollinear=function(t){this._li.computeIntersection(this._s0,this._s1,this._s1,this._s2),this._li.getIntersectionNum()>=2&&(this._bufParams.getJoinStyle()===Ze.JOIN_BEVEL||this._bufParams.getJoinStyle()===Ze.JOIN_MITRE?(t&&this._segList.addPt(this._offset0.p1),this._segList.addPt(this._offset1.p0)):this.addFilletCorner(this._s1,this._offset0.p1,this._offset1.p0,se.CLOCKWISE,this._distance))},jn.prototype.closeRing=function(){this._segList.closeRing()},jn.prototype.hasNarrowConcaveAngle=function(){return this._hasNarrowConcaveAngle},jn.prototype.interfaces_=function(){return[]},jn.prototype.getClass=function(){return jn},bs.OFFSET_SEGMENT_SEPARATION_FACTOR.get=function(){return.001},bs.INSIDE_TURN_VERTEX_SNAP_DISTANCE_FACTOR.get=function(){return.001},bs.CURVE_VERTEX_SNAP_DISTANCE_FACTOR.get=function(){return 1e-6},bs.MAX_CLOSING_SEG_LEN_FACTOR.get=function(){return 80},Object.defineProperties(jn,bs);var Kr=function(){this._distance=0,this._precisionModel=null,this._bufParams=null;var e=arguments[1];this._precisionModel=arguments[0],this._bufParams=e};Kr.prototype.getOffsetCurve=function(t,e){if(this._distance=e,0===e)return null;var o=e<0,s=Math.abs(e),f=this.getSegGen(s);t.length<=1?this.computePointCurve(t[0],f):this.computeOffsetCurve(t,o,f);var v=f.getCoordinates();return o&&oe.reverse(v),v},Kr.prototype.computeSingleSidedBufferCurve=function(t,e,o){var s=this.simplifyTolerance(this._distance);if(e){o.addSegments(t,!0);var f=Vn.simplify(t,-s),v=f.length-1;o.initSideSegments(f[v],f[v-1],Kt.LEFT),o.addFirstSegment();for(var E=v-2;E>=0;E--)o.addNextSegment(f[E],!0)}else{o.addSegments(t,!1);var S=Vn.simplify(t,s),q=S.length-1;o.initSideSegments(S[0],S[1],Kt.LEFT),o.addFirstSegment();for(var it=2;it<=q;it++)o.addNextSegment(S[it],!0)}o.addLastSegment(),o.closeRing()},Kr.prototype.computeRingBufferCurve=function(t,e,o){var s=this.simplifyTolerance(this._distance);e===Kt.RIGHT&&(s=-s);var f=Vn.simplify(t,s),v=f.length-1;o.initSideSegments(f[v-1],f[0],e);for(var E=1;E<=v;E++)o.addNextSegment(f[E],1!==E);o.closeRing()},Kr.prototype.computeLineBufferCurve=function(t,e){var o=this.simplifyTolerance(this._distance),s=Vn.simplify(t,o),f=s.length-1;e.initSideSegments(s[0],s[1],Kt.LEFT);for(var v=2;v<=f;v++)e.addNextSegment(s[v],!0);e.addLastSegment(),e.addLineEndCap(s[f-1],s[f]);var E=Vn.simplify(t,-o),S=E.length-1;e.initSideSegments(E[S],E[S-1],Kt.LEFT);for(var q=S-2;q>=0;q--)e.addNextSegment(E[q],!0);e.addLastSegment(),e.addLineEndCap(E[1],E[0]),e.closeRing()},Kr.prototype.computePointCurve=function(t,e){switch(this._bufParams.getEndCapStyle()){case Ze.CAP_ROUND:e.createCircle(t);break;case Ze.CAP_SQUARE:e.createSquare(t)}},Kr.prototype.getLineCurve=function(t,e){if(this._distance=e,e<0&&!this._bufParams.isSingleSided()||0===e)return null;var o=Math.abs(e),s=this.getSegGen(o);return t.length<=1?this.computePointCurve(t[0],s):this._bufParams.isSingleSided()?this.computeSingleSidedBufferCurve(t,e<0,s):this.computeLineBufferCurve(t,s),s.getCoordinates()},Kr.prototype.getBufferParameters=function(){return this._bufParams},Kr.prototype.simplifyTolerance=function(t){return t*this._bufParams.getSimplifyFactor()},Kr.prototype.getRingCurve=function(t,e,o){if(this._distance=o,t.length<=2)return this.getLineCurve(t,o);if(0===o)return Kr.copyCoordinates(t);var s=this.getSegGen(o);return this.computeRingBufferCurve(t,e,s),s.getCoordinates()},Kr.prototype.computeOffsetCurve=function(t,e,o){var s=this.simplifyTolerance(this._distance);if(e){var f=Vn.simplify(t,-s),v=f.length-1;o.initSideSegments(f[v],f[v-1],Kt.LEFT),o.addFirstSegment();for(var E=v-2;E>=0;E--)o.addNextSegment(f[E],!0)}else{var S=Vn.simplify(t,s),q=S.length-1;o.initSideSegments(S[0],S[1],Kt.LEFT),o.addFirstSegment();for(var it=2;it<=q;it++)o.addNextSegment(S[it],!0)}o.addLastSegment()},Kr.prototype.getSegGen=function(t){return new jn(this._precisionModel,this._bufParams,t)},Kr.prototype.interfaces_=function(){return[]},Kr.prototype.getClass=function(){return Kr},Kr.copyCoordinates=function(t){for(var e=new Array(t.length).fill(null),o=0;o<e.length;o++)e[o]=new R(t[o]);return e};var Zo=function(){this._subgraphs=null,this._seg=new Pe,this._cga=new se,this._subgraphs=arguments[0]},Wa={DepthSegment:{configurable:!0}};Zo.prototype.findStabbedSegments=function(){if(1===arguments.length){for(var t=arguments[0],e=new $,o=this._subgraphs.iterator();o.hasNext();){var s=o.next(),f=s.getEnvelope();t.y<f.getMinY()||t.y>f.getMaxY()||this.findStabbedSegments(t,s.getDirectedEdges(),e)}return e}if(3===arguments.length)if(ee(arguments[2],ce)&&arguments[0]instanceof R&&arguments[1]instanceof zn){for(var v=arguments[0],E=arguments[1],S=arguments[2],q=E.getEdge().getCoordinates(),it=0;it<q.length-1;it++)if(this._seg.p0=q[it],this._seg.p1=q[it+1],this._seg.p0.y>this._seg.p1.y&&this._seg.reverse(),!(Math.max(this._seg.p0.x,this._seg.p1.x)<v.x||this._seg.isHorizontal()||v.y<this._seg.p0.y||v.y>this._seg.p1.y||se.computeOrientation(this._seg.p0,this._seg.p1,v)===se.RIGHT)){var Mt=E.getDepth(Kt.LEFT);this._seg.p0.equals(q[it])||(Mt=E.getDepth(Kt.RIGHT));var Dt=new yo(this._seg,Mt);S.add(Dt)}}else if(ee(arguments[2],ce)&&arguments[0]instanceof R&&ee(arguments[1],ce))for(var ie=arguments[0],de=arguments[2],Ne=arguments[1].iterator();Ne.hasNext();){var Bn=Ne.next();Bn.isForward()&&this.findStabbedSegments(ie,Bn,de)}},Zo.prototype.getDepth=function(t){var e=this.findStabbedSegments(t);return 0===e.size()?0:no.min(e)._leftDepth},Zo.prototype.interfaces_=function(){return[]},Zo.prototype.getClass=function(){return Zo},Wa.DepthSegment.get=function(){return yo},Object.defineProperties(Zo,Wa);var yo=function(){this._upwardSeg=null,this._leftDepth=null;var e=arguments[1];this._upwardSeg=new Pe(arguments[0]),this._leftDepth=e};yo.prototype.compareTo=function(t){var e=t;if(this._upwardSeg.minX()>=e._upwardSeg.maxX())return 1;if(this._upwardSeg.maxX()<=e._upwardSeg.minX())return-1;var o=this._upwardSeg.orientationIndex(e._upwardSeg);return 0!==o||0!=(o=-1*e._upwardSeg.orientationIndex(this._upwardSeg))?o:this._upwardSeg.compareTo(e._upwardSeg)},yo.prototype.compareX=function(t,e){var o=t.p0.compareTo(e.p0);return 0!==o?o:t.p1.compareTo(e.p1)},yo.prototype.toString=function(){return this._upwardSeg.toString()},yo.prototype.interfaces_=function(){return[rt]},yo.prototype.getClass=function(){return yo};var He=function(t,e,o){this.p0=t||null,this.p1=e||null,this.p2=o||null};He.prototype.area=function(){return He.area(this.p0,this.p1,this.p2)},He.prototype.signedArea=function(){return He.signedArea(this.p0,this.p1,this.p2)},He.prototype.interpolateZ=function(t){if(null===t)throw new Q("Supplied point is null.");return He.interpolateZ(t,this.p0,this.p1,this.p2)},He.prototype.longestSideLength=function(){return He.longestSideLength(this.p0,this.p1,this.p2)},He.prototype.isAcute=function(){return He.isAcute(this.p0,this.p1,this.p2)},He.prototype.circumcentre=function(){return He.circumcentre(this.p0,this.p1,this.p2)},He.prototype.area3D=function(){return He.area3D(this.p0,this.p1,this.p2)},He.prototype.centroid=function(){return He.centroid(this.p0,this.p1,this.p2)},He.prototype.inCentre=function(){return He.inCentre(this.p0,this.p1,this.p2)},He.prototype.interfaces_=function(){return[]},He.prototype.getClass=function(){return He},He.area=function(t,e,o){return Math.abs(((o.x-t.x)*(e.y-t.y)-(e.x-t.x)*(o.y-t.y))/2)},He.signedArea=function(t,e,o){return((o.x-t.x)*(e.y-t.y)-(e.x-t.x)*(o.y-t.y))/2},He.det=function(t,e,o,s){return t*s-e*o},He.interpolateZ=function(t,e,o,s){var f=e.x,v=e.y,E=o.x-f,S=s.x-f,q=o.y-v,it=s.y-v,Mt=E*it-S*q,Dt=t.x-f,ie=t.y-v;return e.z+(it*Dt-S*ie)/Mt*(o.z-e.z)+(-q*Dt+E*ie)/Mt*(s.z-e.z)},He.longestSideLength=function(t,e,o){var s=t.distance(e),f=e.distance(o),v=o.distance(t),E=s;return f>E&&(E=f),v>E&&(E=v),E},He.isAcute=function(t,e,o){return!!Ve.isAcute(t,e,o)&&!!Ve.isAcute(e,o,t)&&!!Ve.isAcute(o,t,e)},He.circumcentre=function(t,e,o){var s=o.x,f=o.y,v=t.x-s,E=t.y-f,S=e.x-s,q=e.y-f,it=2*He.det(v,E,S,q),Mt=He.det(E,v*v+E*E,q,S*S+q*q),Dt=He.det(v,v*v+E*E,S,S*S+q*q);return new R(s-Mt/it,f+Dt/it)},He.perpendicularBisector=function(t,e){var o=e.x-t.x,s=e.y-t.y,f=new qe(t.x+o/2,t.y+s/2,1),v=new qe(t.x-s+o/2,t.y+o+s/2,1);return new qe(f,v)},He.angleBisector=function(t,e,o){var s=e.distance(t),f=s/(s+e.distance(o));return new R(t.x+f*(o.x-t.x),t.y+f*(o.y-t.y))},He.area3D=function(t,e,o){var s=e.x-t.x,f=e.y-t.y,v=e.z-t.z,E=o.x-t.x,S=o.y-t.y,q=o.z-t.z,it=f*q-v*S,Mt=v*E-s*q,Dt=s*S-f*E;return Math.sqrt(it*it+Mt*Mt+Dt*Dt)/2},He.centroid=function(t,e,o){return new R((t.x+e.x+o.x)/3,(t.y+e.y+o.y)/3)},He.inCentre=function(t,e,o){var s=e.distance(o),f=t.distance(o),v=t.distance(e),E=s+f+v;return new R((s*t.x+f*e.x+v*o.x)/E,(s*t.y+f*e.y+v*o.y)/E)};var vi=function(){this._inputGeom=null,this._distance=null,this._curveBuilder=null,this._curveList=new $;var e=arguments[1],o=arguments[2];this._inputGeom=arguments[0],this._distance=e,this._curveBuilder=o};vi.prototype.addPoint=function(t){if(this._distance<=0)return null;var e=t.getCoordinates(),o=this._curveBuilder.getLineCurve(e,this._distance);this.addCurve(o,X.EXTERIOR,X.INTERIOR)},vi.prototype.addPolygon=function(t){var e=this._distance,o=Kt.LEFT;this._distance<0&&(e=-this._distance,o=Kt.RIGHT);var s=t.getExteriorRing(),f=oe.removeRepeatedPoints(s.getCoordinates());if(this._distance<0&&this.isErodedCompletely(s,this._distance)||this._distance<=0&&f.length<3)return null;this.addPolygonRing(f,e,o,X.EXTERIOR,X.INTERIOR);for(var v=0;v<t.getNumInteriorRing();v++){var E=t.getInteriorRingN(v),S=oe.removeRepeatedPoints(E.getCoordinates());this._distance>0&&this.isErodedCompletely(E,-this._distance)||this.addPolygonRing(S,e,Kt.opposite(o),X.INTERIOR,X.EXTERIOR)}},vi.prototype.isTriangleErodedCompletely=function(t,e){var o=new He(t[0],t[1],t[2]),s=o.inCentre();return se.distancePointLine(s,o.p0,o.p1)<Math.abs(e)},vi.prototype.addLineString=function(t){if(this._distance<=0&&!this._curveBuilder.getBufferParameters().isSingleSided())return null;var e=oe.removeRepeatedPoints(t.getCoordinates()),o=this._curveBuilder.getLineCurve(e,this._distance);this.addCurve(o,X.EXTERIOR,X.INTERIOR)},vi.prototype.addCurve=function(t,e,o){if(null===t||t.length<2)return null;var s=new tr(t,new sn(0,X.BOUNDARY,e,o));this._curveList.add(s)},vi.prototype.getCurves=function(){return this.add(this._inputGeom),this._curveList},vi.prototype.addPolygonRing=function(t,e,o,s,f){if(0===e&&t.length<Gi.MINIMUM_VALID_SIZE)return null;var v=s,E=f;t.length>=Gi.MINIMUM_VALID_SIZE&&se.isCCW(t)&&(v=f,E=s,o=Kt.opposite(o));var S=this._curveBuilder.getRingCurve(t,o,e);this.addCurve(S,v,E)},vi.prototype.add=function(t){if(t.isEmpty())return null;t instanceof ur?this.addPolygon(t):t instanceof Kn?this.addLineString(t):t instanceof ri?this.addPoint(t):(t instanceof ps||t instanceof So||t instanceof qi||t instanceof hr)&&this.addCollection(t)},vi.prototype.isErodedCompletely=function(t,e){var o=t.getCoordinates();if(o.length<4)return e<0;if(4===o.length)return this.isTriangleErodedCompletely(o,e);var s=t.getEnvelopeInternal(),f=Math.min(s.getHeight(),s.getWidth());return e<0&&2*Math.abs(e)>f},vi.prototype.addCollection=function(t){for(var e=0;e<t.getNumGeometries();e++){var o=t.getGeometryN(e);this.add(o)}},vi.prototype.interfaces_=function(){return[]},vi.prototype.getClass=function(){return vi};var Bo=function(){};Bo.prototype.locate=function(t){},Bo.prototype.interfaces_=function(){return[]},Bo.prototype.getClass=function(){return Bo};var oi=function(){this._parent=null,this._atStart=null,this._max=null,this._index=null,this._subcollectionIterator=null;var t=arguments[0];this._parent=t,this._atStart=!0,this._index=0,this._max=t.getNumGeometries()};oi.prototype.next=function(){if(this._atStart)return this._atStart=!1,oi.isAtomic(this._parent)&&this._index++,this._parent;if(null!==this._subcollectionIterator){if(this._subcollectionIterator.hasNext())return this._subcollectionIterator.next();this._subcollectionIterator=null}if(this._index>=this._max)throw new nt;var t=this._parent.getGeometryN(this._index++);return t instanceof hr?(this._subcollectionIterator=new oi(t),this._subcollectionIterator.next()):t},oi.prototype.remove=function(){throw new Error(this.getClass().getName())},oi.prototype.hasNext=function(){if(this._atStart)return!0;if(null!==this._subcollectionIterator){if(this._subcollectionIterator.hasNext())return!0;this._subcollectionIterator=null}return!(this._index>=this._max)},oi.prototype.interfaces_=function(){return[Ht]},oi.prototype.getClass=function(){return oi},oi.isAtomic=function(t){return!(t instanceof hr)};var _i=function(){this._geom=null,this._geom=arguments[0]};_i.prototype.locate=function(t){return _i.locate(t,this._geom)},_i.prototype.interfaces_=function(){return[Bo]},_i.prototype.getClass=function(){return _i},_i.isPointInRing=function(t,e){return!!e.getEnvelopeInternal().intersects(t)&&se.isPointInRing(t,e.getCoordinates())},_i.containsPointInPolygon=function(t,e){if(e.isEmpty())return!1;var o=e.getExteriorRing();if(!_i.isPointInRing(t,o))return!1;for(var s=0;s<e.getNumInteriorRing();s++){var f=e.getInteriorRingN(s);if(_i.isPointInRing(t,f))return!1}return!0},_i.containsPoint=function(t,e){if(e instanceof ur)return _i.containsPointInPolygon(t,e);if(e instanceof hr)for(var o=new oi(e);o.hasNext();){var s=o.next();if(s!==e&&_i.containsPoint(t,s))return!0}return!1},_i.locate=function(t,e){return e.isEmpty()?X.EXTERIOR:_i.containsPoint(t,e)?X.INTERIOR:X.EXTERIOR};var Or=function(){this._edgeMap=new kt,this._edgeList=null,this._ptInAreaLocation=[X.NONE,X.NONE]};Or.prototype.getNextCW=function(t){this.getEdges();var e=this._edgeList.indexOf(t),o=e-1;return 0===e&&(o=this._edgeList.size()-1),this._edgeList.get(o)},Or.prototype.propagateSideLabels=function(t){for(var e=X.NONE,o=this.iterator();o.hasNext();){var s=o.next().getLabel();s.isArea(t)&&s.getLocation(t,Kt.LEFT)!==X.NONE&&(e=s.getLocation(t,Kt.LEFT))}if(e===X.NONE)return null;for(var f=e,v=this.iterator();v.hasNext();){var E=v.next(),S=E.getLabel();if(S.getLocation(t,Kt.ON)===X.NONE&&S.setLocation(t,Kt.ON,f),S.isArea(t)){var q=S.getLocation(t,Kt.LEFT),it=S.getLocation(t,Kt.RIGHT);if(it!==X.NONE){if(it!==f)throw new eo("side location conflict",E.getCoordinate());q===X.NONE&&Ae.shouldNeverReachHere("found single null side (at "+E.getCoordinate()+")"),f=q}else Ae.isTrue(S.getLocation(t,Kt.LEFT)===X.NONE,"found single null side"),S.setLocation(t,Kt.RIGHT,f),S.setLocation(t,Kt.LEFT,f)}}},Or.prototype.getCoordinate=function(){var t=this.iterator();return t.hasNext()?t.next().getCoordinate():null},Or.prototype.print=function(t){Xe.out.println("EdgeEndStar:   "+this.getCoordinate());for(var e=this.iterator();e.hasNext();)e.next().print(t)},Or.prototype.isAreaLabelsConsistent=function(t){return this.computeEdgeEndLabels(t.getBoundaryNodeRule()),this.checkAreaLabelsConsistent(0)},Or.prototype.checkAreaLabelsConsistent=function(t){var e=this.getEdges();if(e.size()<=0)return!0;var o=e.size()-1,s=e.get(o).getLabel().getLocation(t,Kt.LEFT);Ae.isTrue(s!==X.NONE,"Found unlabelled area edge");for(var f=s,v=this.iterator();v.hasNext();){var E=v.next().getLabel();Ae.isTrue(E.isArea(t),"Found non-area edge");var S=E.getLocation(t,Kt.LEFT),q=E.getLocation(t,Kt.RIGHT);if(S===q||q!==f)return!1;f=S}return!0},Or.prototype.findIndex=function(t){this.iterator();for(var e=0;e<this._edgeList.size();e++)if(this._edgeList.get(e)===t)return e;return-1},Or.prototype.iterator=function(){return this.getEdges().iterator()},Or.prototype.getEdges=function(){return null===this._edgeList&&(this._edgeList=new $(this._edgeMap.values())),this._edgeList},Or.prototype.getLocation=function(t,e,o){return this._ptInAreaLocation[t]===X.NONE&&(this._ptInAreaLocation[t]=_i.locate(e,o[t].getGeometry())),this._ptInAreaLocation[t]},Or.prototype.toString=function(){var t=new lt;t.append("EdgeEndStar:   "+this.getCoordinate()),t.append("\n");for(var e=this.iterator();e.hasNext();){var o=e.next();t.append(o),t.append("\n")}return t.toString()},Or.prototype.computeEdgeEndLabels=function(t){for(var e=this.iterator();e.hasNext();)e.next().computeLabel(t)},Or.prototype.computeLabelling=function(t){this.computeEdgeEndLabels(t[0].getBoundaryNodeRule()),this.propagateSideLabels(0),this.propagateSideLabels(1);for(var e=[!1,!1],o=this.iterator();o.hasNext();)for(var s=o.next().getLabel(),f=0;f<2;f++)s.isLine(f)&&s.getLocation(f)===X.BOUNDARY&&(e[f]=!0);for(var v=this.iterator();v.hasNext();)for(var E=v.next(),S=E.getLabel(),q=0;q<2;q++)if(S.isAnyNull(q)){var it=X.NONE;if(e[q])it=X.EXTERIOR;else{var Mt=E.getCoordinate();it=this.getLocation(q,Mt,t)}S.setAllLocationsIfNull(q,it)}},Or.prototype.getDegree=function(){return this._edgeMap.size()},Or.prototype.insertEdgeEnd=function(t,e){this._edgeMap.put(t,e),this._edgeList=null},Or.prototype.interfaces_=function(){return[]},Or.prototype.getClass=function(){return Or};var $a=function(t){function e(){t.call(this),this._resultAreaEdgeList=null,this._label=null,this._SCANNING_FOR_INCOMING=1,this._LINKING_TO_OUTGOING=2}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.linkResultDirectedEdges=function(){this.getResultAreaEdges();for(var o=null,s=null,f=this._SCANNING_FOR_INCOMING,v=0;v<this._resultAreaEdgeList.size();v++){var E=this._resultAreaEdgeList.get(v),S=E.getSym();if(E.getLabel().isArea())switch(null===o&&E.isInResult()&&(o=E),f){case this._SCANNING_FOR_INCOMING:if(!S.isInResult())continue;s=S,f=this._LINKING_TO_OUTGOING;break;case this._LINKING_TO_OUTGOING:if(!E.isInResult())continue;s.setNext(E),f=this._SCANNING_FOR_INCOMING}}if(f===this._LINKING_TO_OUTGOING){if(null===o)throw new eo("no outgoing dirEdge found",this.getCoordinate());Ae.isTrue(o.isInResult(),"unable to link last incoming dirEdge"),s.setNext(o)}},e.prototype.insert=function(o){this.insertEdgeEnd(o,o)},e.prototype.getRightmostEdge=function(){var o=this.getEdges(),s=o.size();if(s<1)return null;var f=o.get(0);if(1===s)return f;var v=o.get(s-1),E=f.getQuadrant(),S=v.getQuadrant();return tn.isNorthern(E)&&tn.isNorthern(S)?f:tn.isNorthern(E)||tn.isNorthern(S)?0!==f.getDy()?f:0!==v.getDy()?v:(Ae.shouldNeverReachHere("found two horizontal edges incident on node"),null):v},e.prototype.print=function(o){Xe.out.println("DirectedEdgeStar: "+this.getCoordinate());for(var s=this.iterator();s.hasNext();){var f=s.next();o.print("out "),f.print(o),o.println(),o.print("in "),f.getSym().print(o),o.println()}},e.prototype.getResultAreaEdges=function(){if(null!==this._resultAreaEdgeList)return this._resultAreaEdgeList;this._resultAreaEdgeList=new $;for(var o=this.iterator();o.hasNext();){var s=o.next();(s.isInResult()||s.getSym().isInResult())&&this._resultAreaEdgeList.add(s)}return this._resultAreaEdgeList},e.prototype.updateLabelling=function(o){for(var s=this.iterator();s.hasNext();){var f=s.next().getLabel();f.setAllLocationsIfNull(0,o.getLocation(0)),f.setAllLocationsIfNull(1,o.getLocation(1))}},e.prototype.linkAllDirectedEdges=function(){this.getEdges();for(var o=null,s=null,f=this._edgeList.size()-1;f>=0;f--){var v=this._edgeList.get(f),E=v.getSym();null===s&&(s=E),null!==o&&E.setNext(o),o=v}s.setNext(o)},e.prototype.computeDepths=function(){if(1===arguments.length){var o=arguments[0],s=this.findIndex(o),f=o.getDepth(Kt.LEFT),v=o.getDepth(Kt.RIGHT),E=this.computeDepths(s+1,this._edgeList.size(),f);if(this.computeDepths(0,s,E)!==v)throw new eo("depth mismatch at "+o.getCoordinate())}else if(3===arguments.length){for(var q=arguments[1],it=arguments[2],Mt=arguments[0];Mt<q;Mt++){var Dt=this._edgeList.get(Mt);Dt.setEdgeDepths(Kt.RIGHT,it),it=Dt.getDepth(Kt.LEFT)}return it}},e.prototype.mergeSymLabels=function(){for(var o=this.iterator();o.hasNext();){var s=o.next();s.getLabel().merge(s.getSym().getLabel())}},e.prototype.linkMinimalDirectedEdges=function(o){for(var s=null,f=null,v=this._SCANNING_FOR_INCOMING,E=this._resultAreaEdgeList.size()-1;E>=0;E--){var S=this._resultAreaEdgeList.get(E),q=S.getSym();switch(null===s&&S.getEdgeRing()===o&&(s=S),v){case this._SCANNING_FOR_INCOMING:if(q.getEdgeRing()!==o)continue;f=q,v=this._LINKING_TO_OUTGOING;break;case this._LINKING_TO_OUTGOING:if(S.getEdgeRing()!==o)continue;f.setNextMin(S),v=this._SCANNING_FOR_INCOMING}}v===this._LINKING_TO_OUTGOING&&(Ae.isTrue(null!==s,"found null for first outgoing dirEdge"),Ae.isTrue(s.getEdgeRing()===o,"unable to link last incoming dirEdge"),f.setNextMin(s))},e.prototype.getOutgoingDegree=function(){if(0===arguments.length){for(var o=0,s=this.iterator();s.hasNext();)s.next().isInResult()&&o++;return o}if(1===arguments.length){for(var f=arguments[0],v=0,E=this.iterator();E.hasNext();)E.next().getEdgeRing()===f&&v++;return v}},e.prototype.getLabel=function(){return this._label},e.prototype.findCoveredLineEdges=function(){for(var o=X.NONE,s=this.iterator();s.hasNext();){var f=s.next(),v=f.getSym();if(!f.isLineEdge()){if(f.isInResult()){o=X.INTERIOR;break}if(v.isInResult()){o=X.EXTERIOR;break}}}if(o===X.NONE)return null;for(var E=o,S=this.iterator();S.hasNext();){var q=S.next(),it=q.getSym();q.isLineEdge()?q.getEdge().setCovered(E===X.INTERIOR):(q.isInResult()&&(E=X.EXTERIOR),it.isInResult()&&(E=X.INTERIOR))}},e.prototype.computeLabelling=function(o){t.prototype.computeLabelling.call(this,o),this._label=new sn(X.NONE);for(var s=this.iterator();s.hasNext();)for(var f=s.next().getEdge().getLabel(),v=0;v<2;v++){var E=f.getLocation(v);E!==X.INTERIOR&&E!==X.BOUNDARY||this._label.setLocation(v,X.INTERIOR)}},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e}(Or),Va=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.createNode=function(o){return new No(o,new $a)},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e}(Fn),Xr=function t(){this._pts=null,this._orientation=null;var e=arguments[0];this._pts=e,this._orientation=t.orientation(e)};Xr.prototype.compareTo=function(t){return Xr.compareOriented(this._pts,this._orientation,t._pts,t._orientation)},Xr.prototype.interfaces_=function(){return[rt]},Xr.prototype.getClass=function(){return Xr},Xr.orientation=function(t){return 1===oe.increasingDirection(t)},Xr.compareOriented=function(t,e,o,s){for(var f=e?1:-1,v=s?1:-1,E=e?t.length:-1,S=s?o.length:-1,q=e?0:t.length-1,it=s?0:o.length-1;;){var Mt=t[q].compareTo(o[it]);if(0!==Mt)return Mt;var Dt=(q+=f)===E,ie=(it+=v)===S;if(Dt&&!ie)return-1;if(!Dt&&ie)return 1;if(Dt&&ie)return 0}};var si=function(){this._edges=new $,this._ocaMap=new kt};si.prototype.print=function(t){t.print("MULTILINESTRING ( ");for(var e=0;e<this._edges.size();e++){var o=this._edges.get(e);e>0&&t.print(","),t.print("(");for(var s=o.getCoordinates(),f=0;f<s.length;f++)f>0&&t.print(","),t.print(s[f].x+" "+s[f].y);t.println(")")}t.print(")  ")},si.prototype.addAll=function(t){for(var e=t.iterator();e.hasNext();)this.add(e.next())},si.prototype.findEdgeIndex=function(t){for(var e=0;e<this._edges.size();e++)if(this._edges.get(e).equals(t))return e;return-1},si.prototype.iterator=function(){return this._edges.iterator()},si.prototype.getEdges=function(){return this._edges},si.prototype.get=function(t){return this._edges.get(t)},si.prototype.findEqualEdge=function(t){var e=new Xr(t.getCoordinates());return this._ocaMap.get(e)},si.prototype.add=function(t){this._edges.add(t);var e=new Xr(t.getCoordinates());this._ocaMap.put(e,t)},si.prototype.interfaces_=function(){return[]},si.prototype.getClass=function(){return si};var Qo=function(){};Qo.prototype.processIntersections=function(t,e,o,s){},Qo.prototype.isDone=function(){},Qo.prototype.interfaces_=function(){return[]},Qo.prototype.getClass=function(){return Qo};var Ei=function(){this._hasIntersection=!1,this._hasProper=!1,this._hasProperInterior=!1,this._hasInterior=!1,this._properIntersectionPoint=null,this._li=null,this._isSelfIntersection=null,this.numIntersections=0,this.numInteriorIntersections=0,this.numProperIntersections=0,this.numTests=0,this._li=arguments[0]};Ei.prototype.isTrivialIntersection=function(t,e,o,s){if(t===o&&1===this._li.getIntersectionNum()){if(Ei.isAdjacentSegments(e,s))return!0;if(t.isClosed()){var f=t.size()-1;if(0===e&&s===f||0===s&&e===f)return!0}}return!1},Ei.prototype.getProperIntersectionPoint=function(){return this._properIntersectionPoint},Ei.prototype.hasProperInteriorIntersection=function(){return this._hasProperInterior},Ei.prototype.getLineIntersector=function(){return this._li},Ei.prototype.hasProperIntersection=function(){return this._hasProper},Ei.prototype.processIntersections=function(t,e,o,s){if(t===o&&e===s)return null;this.numTests++;var f=t.getCoordinates()[e],v=t.getCoordinates()[e+1],E=o.getCoordinates()[s],S=o.getCoordinates()[s+1];this._li.computeIntersection(f,v,E,S),this._li.hasIntersection()&&(this.numIntersections++,this._li.isInteriorIntersection()&&(this.numInteriorIntersections++,this._hasInterior=!0),this.isTrivialIntersection(t,e,o,s)||(this._hasIntersection=!0,t.addIntersections(this._li,e,0),o.addIntersections(this._li,s,1),this._li.isProper()&&(this.numProperIntersections++,this._hasProper=!0,this._hasProperInterior=!0)))},Ei.prototype.hasIntersection=function(){return this._hasIntersection},Ei.prototype.isDone=function(){return!1},Ei.prototype.hasInteriorIntersection=function(){return this._hasInterior},Ei.prototype.interfaces_=function(){return[Qo]},Ei.prototype.getClass=function(){return Ei},Ei.isAdjacentSegments=function(t,e){return 1===Math.abs(t-e)};var Wi=function(){this.coord=null,this.segmentIndex=null,this.dist=null;var e=arguments[1],o=arguments[2];this.coord=new R(arguments[0]),this.segmentIndex=e,this.dist=o};Wi.prototype.getSegmentIndex=function(){return this.segmentIndex},Wi.prototype.getCoordinate=function(){return this.coord},Wi.prototype.print=function(t){t.print(this.coord),t.print(" seg # = "+this.segmentIndex),t.println(" dist = "+this.dist)},Wi.prototype.compareTo=function(t){return this.compare(t.segmentIndex,t.dist)},Wi.prototype.isEndPoint=function(t){return 0===this.segmentIndex&&0===this.dist||this.segmentIndex===t},Wi.prototype.toString=function(){return this.coord+" seg # = "+this.segmentIndex+" dist = "+this.dist},Wi.prototype.getDistance=function(){return this.dist},Wi.prototype.compare=function(t,e){return this.segmentIndex<t?-1:this.segmentIndex>t?1:this.dist<e?-1:this.dist>e?1:0},Wi.prototype.interfaces_=function(){return[rt]},Wi.prototype.getClass=function(){return Wi};var ro=function(){this._nodeMap=new kt,this.edge=null,this.edge=arguments[0]};ro.prototype.print=function(t){t.println("Intersections:");for(var e=this.iterator();e.hasNext();)e.next().print(t)},ro.prototype.iterator=function(){return this._nodeMap.values().iterator()},ro.prototype.addSplitEdges=function(t){this.addEndpoints();for(var e=this.iterator(),o=e.next();e.hasNext();){var s=e.next(),f=this.createSplitEdge(o,s);t.add(f),o=s}},ro.prototype.addEndpoints=function(){var t=this.edge.pts.length-1;this.add(this.edge.pts[0],0,0),this.add(this.edge.pts[t],t,0)},ro.prototype.createSplitEdge=function(t,e){var o=e.segmentIndex-t.segmentIndex+2,f=e.dist>0||!e.coord.equals2D(this.edge.pts[e.segmentIndex]);f||o--;var v=new Array(o).fill(null),E=0;v[E++]=new R(t.coord);for(var S=t.segmentIndex+1;S<=e.segmentIndex;S++)v[E++]=this.edge.pts[S];return f&&(v[E]=e.coord),new va(v,new sn(this.edge._label))},ro.prototype.add=function(t,e,o){var s=new Wi(t,e,o),f=this._nodeMap.get(s);return null!==f?f:(this._nodeMap.put(s,s),s)},ro.prototype.isIntersection=function(t){for(var e=this.iterator();e.hasNext();)if(e.next().coord.equals(t))return!0;return!1},ro.prototype.interfaces_=function(){return[]},ro.prototype.getClass=function(){return ro};var Go=function(){};Go.prototype.getChainStartIndices=function(t){var e=0,o=new $;o.add(new Gt(e));do{var s=this.findChainEnd(t,e);o.add(new Gt(s)),e=s}while(e<t.length-1);return Go.toIntArray(o)},Go.prototype.findChainEnd=function(t,e){for(var o=tn.quadrant(t[e],t[e+1]),s=e+1;s<t.length&&tn.quadrant(t[s-1],t[s])===o;)s++;return s-1},Go.prototype.interfaces_=function(){return[]},Go.prototype.getClass=function(){return Go},Go.toIntArray=function(t){for(var e=new Array(t.size()).fill(null),o=0;o<e.length;o++)e[o]=t.get(o).intValue();return e};var $i=function(){this.e=null,this.pts=null,this.startIndex=null,this.env1=new ae,this.env2=new ae;var t=arguments[0];this.e=t,this.pts=t.getCoordinates();var e=new Go;this.startIndex=e.getChainStartIndices(this.pts)};$i.prototype.getCoordinates=function(){return this.pts},$i.prototype.getMaxX=function(t){var e=this.pts[this.startIndex[t]].x,o=this.pts[this.startIndex[t+1]].x;return e>o?e:o},$i.prototype.getMinX=function(t){var e=this.pts[this.startIndex[t]].x,o=this.pts[this.startIndex[t+1]].x;return e<o?e:o},$i.prototype.computeIntersectsForChain=function(){if(4===arguments.length){var t=arguments[0],e=arguments[1],o=arguments[2];this.computeIntersectsForChain(this.startIndex[t],this.startIndex[t+1],e,e.startIndex[o],e.startIndex[o+1],arguments[3])}else if(6===arguments.length){var f=arguments[0],v=arguments[1],E=arguments[2],S=arguments[3],q=arguments[4],it=arguments[5],Mt=this.pts[f],Dt=this.pts[v],ie=E.pts[S],ue=E.pts[q];if(v-f==1&&q-S==1)return it.addIntersections(this.e,f,E.e,S),null;if(this.env1.init(Mt,Dt),this.env2.init(ie,ue),!this.env1.intersects(this.env2))return null;var de=Math.trunc((f+v)/2),Ne=Math.trunc((S+q)/2);f<de&&(S<Ne&&this.computeIntersectsForChain(f,de,E,S,Ne,it),Ne<q&&this.computeIntersectsForChain(f,de,E,Ne,q,it)),de<v&&(S<Ne&&this.computeIntersectsForChain(de,v,E,S,Ne,it),Ne<q&&this.computeIntersectsForChain(de,v,E,Ne,q,it))}},$i.prototype.getStartIndexes=function(){return this.startIndex},$i.prototype.computeIntersects=function(t,e){for(var o=0;o<this.startIndex.length-1;o++)for(var s=0;s<t.startIndex.length-1;s++)this.computeIntersectsForChain(o,t,s,e)},$i.prototype.interfaces_=function(){return[]},$i.prototype.getClass=function(){return $i};var Rr=function t(){this._depth=Array(2).fill().map(function(){return Array(3)});for(var e=0;e<2;e++)for(var o=0;o<3;o++)this._depth[e][o]=t.NULL_VALUE},Gu={NULL_VALUE:{configurable:!0}};Rr.prototype.getDepth=function(t,e){return this._depth[t][e]},Rr.prototype.setDepth=function(t,e,o){this._depth[t][e]=o},Rr.prototype.isNull=function(){if(0===arguments.length){for(var t=0;t<2;t++)for(var e=0;e<3;e++)if(this._depth[t][e]!==Rr.NULL_VALUE)return!1;return!0}return 1===arguments.length?this._depth[arguments[0]][1]===Rr.NULL_VALUE:2===arguments.length?this._depth[arguments[0]][arguments[1]]===Rr.NULL_VALUE:void 0},Rr.prototype.normalize=function(){for(var t=0;t<2;t++)if(!this.isNull(t)){var e=this._depth[t][1];this._depth[t][2]<e&&(e=this._depth[t][2]),e<0&&(e=0);for(var o=1;o<3;o++){var s=0;this._depth[t][o]>e&&(s=1),this._depth[t][o]=s}}},Rr.prototype.getDelta=function(t){return this._depth[t][Kt.RIGHT]-this._depth[t][Kt.LEFT]},Rr.prototype.getLocation=function(t,e){return this._depth[t][e]<=0?X.EXTERIOR:X.INTERIOR},Rr.prototype.toString=function(){return"A: "+this._depth[0][1]+","+this._depth[0][2]+" B: "+this._depth[1][1]+","+this._depth[1][2]},Rr.prototype.add=function(){if(1===arguments.length)for(var t=arguments[0],e=0;e<2;e++)for(var o=1;o<3;o++){var s=t.getLocation(e,o);s!==X.EXTERIOR&&s!==X.INTERIOR||(this.isNull(e,o)?this._depth[e][o]=Rr.depthAtLocation(s):this._depth[e][o]+=Rr.depthAtLocation(s))}else 3===arguments.length&&arguments[2]===X.INTERIOR&&this._depth[arguments[0]][arguments[1]]++},Rr.prototype.interfaces_=function(){return[]},Rr.prototype.getClass=function(){return Rr},Rr.depthAtLocation=function(t){return t===X.EXTERIOR?0:t===X.INTERIOR?1:Rr.NULL_VALUE},Gu.NULL_VALUE.get=function(){return-1},Object.defineProperties(Rr,Gu);var va=function(t){function e(){if(t.call(this),this.pts=null,this._env=null,this.eiList=new ro(this),this._name=null,this._mce=null,this._isIsolated=!0,this._depth=new Rr,this._depthDelta=0,1===arguments.length)e.call(this,arguments[0],null);else if(2===arguments.length){var f=arguments[1];this.pts=arguments[0],this._label=f}}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.getDepth=function(){return this._depth},e.prototype.getCollapsedEdge=function(){var o=new Array(2).fill(null);return o[0]=this.pts[0],o[1]=this.pts[1],new e(o,sn.toLineLabel(this._label))},e.prototype.isIsolated=function(){return this._isIsolated},e.prototype.getCoordinates=function(){return this.pts},e.prototype.setIsolated=function(o){this._isIsolated=o},e.prototype.setName=function(o){this._name=o},e.prototype.equals=function(o){if(!(o instanceof e))return!1;var s=o;if(this.pts.length!==s.pts.length)return!1;for(var f=!0,v=!0,E=this.pts.length,S=0;S<this.pts.length;S++)if(this.pts[S].equals2D(s.pts[S])||(f=!1),this.pts[S].equals2D(s.pts[--E])||(v=!1),!f&&!v)return!1;return!0},e.prototype.getCoordinate=function(){return 0===arguments.length?this.pts.length>0?this.pts[0]:null:1===arguments.length?this.pts[arguments[0]]:void 0},e.prototype.print=function(o){o.print("edge "+this._name+": "),o.print("LINESTRING (");for(var s=0;s<this.pts.length;s++)s>0&&o.print(","),o.print(this.pts[s].x+" "+this.pts[s].y);o.print(")  "+this._label+" "+this._depthDelta)},e.prototype.computeIM=function(o){e.updateIM(this._label,o)},e.prototype.isCollapsed=function(){return!!this._label.isArea()&&3===this.pts.length&&!!this.pts[0].equals(this.pts[2])},e.prototype.isClosed=function(){return this.pts[0].equals(this.pts[this.pts.length-1])},e.prototype.getMaximumSegmentIndex=function(){return this.pts.length-1},e.prototype.getDepthDelta=function(){return this._depthDelta},e.prototype.getNumPoints=function(){return this.pts.length},e.prototype.printReverse=function(o){o.print("edge "+this._name+": ");for(var s=this.pts.length-1;s>=0;s--)o.print(this.pts[s]+" ");o.println("")},e.prototype.getMonotoneChainEdge=function(){return null===this._mce&&(this._mce=new $i(this)),this._mce},e.prototype.getEnvelope=function(){if(null===this._env){this._env=new ae;for(var o=0;o<this.pts.length;o++)this._env.expandToInclude(this.pts[o])}return this._env},e.prototype.addIntersection=function(o,s,f,v){var E=new R(o.getIntersection(v)),S=s,q=o.getEdgeDistance(f,v),it=S+1;it<this.pts.length&&E.equals2D(this.pts[it])&&(S=it,q=0),this.eiList.add(E,S,q)},e.prototype.toString=function(){var o=new lt;o.append("edge "+this._name+": "),o.append("LINESTRING (");for(var s=0;s<this.pts.length;s++)s>0&&o.append(","),o.append(this.pts[s].x+" "+this.pts[s].y);return o.append(")  "+this._label+" "+this._depthDelta),o.toString()},e.prototype.isPointwiseEqual=function(o){if(this.pts.length!==o.pts.length)return!1;for(var s=0;s<this.pts.length;s++)if(!this.pts[s].equals2D(o.pts[s]))return!1;return!0},e.prototype.setDepthDelta=function(o){this._depthDelta=o},e.prototype.getEdgeIntersectionList=function(){return this.eiList},e.prototype.addIntersections=function(o,s,f){for(var v=0;v<o.getIntersectionNum();v++)this.addIntersection(o,s,f,v)},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e.updateIM=function(){if(2!==arguments.length)return t.prototype.updateIM.apply(this,arguments);var o=arguments[0],s=arguments[1];s.setAtLeastIfValid(o.getLocation(0,Kt.ON),o.getLocation(1,Kt.ON),1),o.isArea()&&(s.setAtLeastIfValid(o.getLocation(0,Kt.LEFT),o.getLocation(1,Kt.LEFT),2),s.setAtLeastIfValid(o.getLocation(0,Kt.RIGHT),o.getLocation(1,Kt.RIGHT),2))},e}(jr),ai=function(t){this._workingPrecisionModel=null,this._workingNoder=null,this._geomFact=null,this._graph=null,this._edgeList=new si,this._bufParams=t||null};ai.prototype.setWorkingPrecisionModel=function(t){this._workingPrecisionModel=t},ai.prototype.insertUniqueEdge=function(t){var e=this._edgeList.findEqualEdge(t);if(null!==e){var o=e.getLabel(),s=t.getLabel();e.isPointwiseEqual(t)||(s=new sn(t.getLabel())).flip(),o.merge(s);var f=ai.depthDelta(s),v=e.getDepthDelta()+f;e.setDepthDelta(v)}else this._edgeList.add(t),t.setDepthDelta(ai.depthDelta(t.getLabel()))},ai.prototype.buildSubgraphs=function(t,e){for(var o=new $,s=t.iterator();s.hasNext();){var f=s.next(),v=f.getRightmostCoordinate(),E=new Zo(o).getDepth(v);f.computeDepth(E),f.findResultEdges(),o.add(f),e.add(f.getDirectedEdges(),f.getNodes())}},ai.prototype.createSubgraphs=function(t){for(var e=new $,o=t.getNodes().iterator();o.hasNext();){var s=o.next();if(!s.isVisited()){var f=new Lr;f.create(s),e.add(f)}}return no.sort(e,no.reverseOrder()),e},ai.prototype.createEmptyResultGeometry=function(){return this._geomFact.createPolygon()},ai.prototype.getNoder=function(t){if(null!==this._workingNoder)return this._workingNoder;var e=new ks,o=new kr;return o.setPrecisionModel(t),e.setSegmentIntersector(new Ei(o)),e},ai.prototype.buffer=function(t,e){var o=this._workingPrecisionModel;null===o&&(o=t.getPrecisionModel()),this._geomFact=t.getFactory();var s=new Kr(o,this._bufParams),f=new vi(t,e,s).getCurves();if(f.size()<=0)return this.createEmptyResultGeometry();this.computeNodedEdges(f,o),this._graph=new Me(new Va),this._graph.addEdges(this._edgeList.getEdges());var v=this.createSubgraphs(this._graph),E=new pr(this._geomFact);this.buildSubgraphs(v,E);var S=E.getPolygons();return S.size()<=0?this.createEmptyResultGeometry():this._geomFact.buildGeometry(S)},ai.prototype.computeNodedEdges=function(t,e){var o=this.getNoder(e);o.computeNodes(t);for(var s=o.getNodedSubstrings().iterator();s.hasNext();){var f=s.next(),v=f.getCoordinates();if(2!==v.length||!v[0].equals2D(v[1])){var E=f.getData(),S=new va(f.getCoordinates(),new sn(E));this.insertUniqueEdge(S)}}},ai.prototype.setNoder=function(t){this._workingNoder=t},ai.prototype.interfaces_=function(){return[]},ai.prototype.getClass=function(){return ai},ai.depthDelta=function(t){var e=t.getLocation(0,Kt.LEFT),o=t.getLocation(0,Kt.RIGHT);return e===X.INTERIOR&&o===X.EXTERIOR?1:e===X.EXTERIOR&&o===X.INTERIOR?-1:0},ai.convertSegStrings=function(t){for(var e=new Ye,o=new $;t.hasNext();){var s=t.next(),f=e.createLineString(s.getCoordinates());o.add(f)}return e.buildGeometry(o)};var qo=function(){if(this._noder=null,this._scaleFactor=null,this._offsetX=null,this._offsetY=null,this._isScaled=!1,2===arguments.length){var e=arguments[1];this._noder=arguments[0],this._scaleFactor=e,this._offsetX=0,this._offsetY=0,this._isScaled=!this.isIntegerPrecision()}else if(4===arguments.length){var s=arguments[1],f=arguments[2],v=arguments[3];this._noder=arguments[0],this._scaleFactor=s,this._offsetX=f,this._offsetY=v,this._isScaled=!this.isIntegerPrecision()}};qo.prototype.rescale=function(){if(ee(arguments[0],Xt))for(var t=arguments[0].iterator();t.hasNext();){var e=t.next();this.rescale(e.getCoordinates())}else if(arguments[0]instanceof Array){for(var o=arguments[0],s=0;s<o.length;s++)o[s].x=o[s].x/this._scaleFactor+this._offsetX,o[s].y=o[s].y/this._scaleFactor+this._offsetY;2===o.length&&o[0].equals2D(o[1])&&Xe.out.println(o)}},qo.prototype.scale=function(){if(ee(arguments[0],Xt)){for(var t=arguments[0],e=new $,o=t.iterator();o.hasNext();){var s=o.next();e.add(new tr(this.scale(s.getCoordinates()),s.getData()))}return e}if(arguments[0]instanceof Array){for(var f=arguments[0],v=new Array(f.length).fill(null),E=0;E<f.length;E++)v[E]=new R(Math.round((f[E].x-this._offsetX)*this._scaleFactor),Math.round((f[E].y-this._offsetY)*this._scaleFactor),f[E].z);return oe.removeRepeatedPoints(v)}},qo.prototype.isIntegerPrecision=function(){return 1===this._scaleFactor},qo.prototype.getNodedSubstrings=function(){var t=this._noder.getNodedSubstrings();return this._isScaled&&this.rescale(t),t},qo.prototype.computeNodes=function(t){var e=t;this._isScaled&&(e=this.scale(t)),this._noder.computeNodes(e)},qo.prototype.interfaces_=function(){return[bo]},qo.prototype.getClass=function(){return qo};var io=function(){this._li=new kr,this._segStrings=null,this._segStrings=arguments[0]},ja={fact:{configurable:!0}};io.prototype.checkEndPtVertexIntersections=function(){if(0===arguments.length)for(var t=this._segStrings.iterator();t.hasNext();){var e=t.next().getCoordinates();this.checkEndPtVertexIntersections(e[0],this._segStrings),this.checkEndPtVertexIntersections(e[e.length-1],this._segStrings)}else if(2===arguments.length)for(var o=arguments[0],s=arguments[1].iterator();s.hasNext();)for(var f=s.next().getCoordinates(),v=1;v<f.length-1;v++)if(f[v].equals(o))throw new Jn("found endpt/interior pt intersection at index "+v+" :pt "+o)},io.prototype.checkInteriorIntersections=function(){if(0===arguments.length)for(var t=this._segStrings.iterator();t.hasNext();)for(var e=t.next(),o=this._segStrings.iterator();o.hasNext();){var s=o.next();this.checkInteriorIntersections(e,s)}else if(2===arguments.length)for(var f=arguments[0],v=arguments[1],E=f.getCoordinates(),S=v.getCoordinates(),q=0;q<E.length-1;q++)for(var it=0;it<S.length-1;it++)this.checkInteriorIntersections(f,q,v,it);else if(4===arguments.length){var Mt=arguments[0],Dt=arguments[1],ie=arguments[2],ue=arguments[3];if(Mt===ie&&Dt===ue)return null;var de=Mt.getCoordinates()[Dt],Ne=Mt.getCoordinates()[Dt+1],Bn=ie.getCoordinates()[ue],vr=ie.getCoordinates()[ue+1];if(this._li.computeIntersection(de,Ne,Bn,vr),this._li.hasIntersection()&&(this._li.isProper()||this.hasInteriorIntersection(this._li,de,Ne)||this.hasInteriorIntersection(this._li,Bn,vr)))throw new Jn("found non-noded intersection at "+de+"-"+Ne+" and "+Bn+"-"+vr)}},io.prototype.checkValid=function(){this.checkEndPtVertexIntersections(),this.checkInteriorIntersections(),this.checkCollapses()},io.prototype.checkCollapses=function(){if(0===arguments.length)for(var t=this._segStrings.iterator();t.hasNext();){var e=t.next();this.checkCollapses(e)}else if(1===arguments.length)for(var o=arguments[0].getCoordinates(),s=0;s<o.length-2;s++)this.checkCollapse(o[s],o[s+1],o[s+2])},io.prototype.hasInteriorIntersection=function(t,e,o){for(var s=0;s<t.getIntersectionNum();s++){var f=t.getIntersection(s);if(!f.equals(e)&&!f.equals(o))return!0}return!1},io.prototype.checkCollapse=function(t,e,o){if(t.equals(o))throw new Jn("found non-noded collapse at "+io.fact.createLineString([t,e,o]))},io.prototype.interfaces_=function(){return[]},io.prototype.getClass=function(){return io},ja.fact.get=function(){return new Ye},Object.defineProperties(io,ja);var ti=function(){this._li=null,this._pt=null,this._originalPt=null,this._ptScaled=null,this._p0Scaled=null,this._p1Scaled=null,this._scaleFactor=null,this._minx=null,this._maxx=null,this._miny=null,this._maxy=null,this._corner=new Array(4).fill(null),this._safeEnv=null;var t=arguments[0],e=arguments[1],o=arguments[2];if(this._originalPt=t,this._pt=t,this._scaleFactor=e,this._li=o,e<=0)throw new Q("Scale factor must be non-zero");1!==e&&(this._pt=new R(this.scale(t.x),this.scale(t.y)),this._p0Scaled=new R,this._p1Scaled=new R),this.initCorners(this._pt)},_a={SAFE_ENV_EXPANSION_FACTOR:{configurable:!0}};ti.prototype.intersectsScaled=function(t,e){var o=Math.min(t.x,e.x),s=Math.max(t.x,e.x),f=Math.min(t.y,e.y),v=Math.max(t.y,e.y),E=this._maxx<o||this._minx>s||this._maxy<f||this._miny>v;if(E)return!1;var S=this.intersectsToleranceSquare(t,e);return Ae.isTrue(!(E&&S),"Found bad envelope test"),S},ti.prototype.initCorners=function(t){this._minx=t.x-.5,this._maxx=t.x+.5,this._miny=t.y-.5,this._maxy=t.y+.5,this._corner[0]=new R(this._maxx,this._maxy),this._corner[1]=new R(this._minx,this._maxy),this._corner[2]=new R(this._minx,this._miny),this._corner[3]=new R(this._maxx,this._miny)},ti.prototype.intersects=function(t,e){return 1===this._scaleFactor?this.intersectsScaled(t,e):(this.copyScaled(t,this._p0Scaled),this.copyScaled(e,this._p1Scaled),this.intersectsScaled(this._p0Scaled,this._p1Scaled))},ti.prototype.scale=function(t){return Math.round(t*this._scaleFactor)},ti.prototype.getCoordinate=function(){return this._originalPt},ti.prototype.copyScaled=function(t,e){e.x=this.scale(t.x),e.y=this.scale(t.y)},ti.prototype.getSafeEnvelope=function(){if(null===this._safeEnv){var t=ti.SAFE_ENV_EXPANSION_FACTOR/this._scaleFactor;this._safeEnv=new ae(this._originalPt.x-t,this._originalPt.x+t,this._originalPt.y-t,this._originalPt.y+t)}return this._safeEnv},ti.prototype.intersectsPixelClosure=function(t,e){return this._li.computeIntersection(t,e,this._corner[0],this._corner[1]),!!(this._li.hasIntersection()||(this._li.computeIntersection(t,e,this._corner[1],this._corner[2]),this._li.hasIntersection()||(this._li.computeIntersection(t,e,this._corner[2],this._corner[3]),this._li.hasIntersection()||(this._li.computeIntersection(t,e,this._corner[3],this._corner[0]),this._li.hasIntersection()))))},ti.prototype.intersectsToleranceSquare=function(t,e){var o=!1,s=!1;return this._li.computeIntersection(t,e,this._corner[0],this._corner[1]),!!(this._li.isProper()||(this._li.computeIntersection(t,e,this._corner[1],this._corner[2]),this._li.isProper()||(this._li.hasIntersection()&&(o=!0),this._li.computeIntersection(t,e,this._corner[2],this._corner[3]),this._li.isProper()||(this._li.hasIntersection()&&(s=!0),this._li.computeIntersection(t,e,this._corner[3],this._corner[0]),this._li.isProper()||o&&s||t.equals(this._pt)||e.equals(this._pt)))))},ti.prototype.addSnappedNode=function(t,e){var o=t.getCoordinate(e),s=t.getCoordinate(e+1);return!!this.intersects(o,s)&&(t.addIntersection(this.getCoordinate(),e),!0)},ti.prototype.interfaces_=function(){return[]},ti.prototype.getClass=function(){return ti},_a.SAFE_ENV_EXPANSION_FACTOR.get=function(){return.75},Object.defineProperties(ti,_a);var Mo=function(){this.tempEnv1=new ae,this.selectedSegment=new Pe};Mo.prototype.select=function(){1!==arguments.length&&2===arguments.length&&(arguments[0].getLineSegment(arguments[1],this.selectedSegment),this.select(this.selectedSegment))},Mo.prototype.interfaces_=function(){return[]},Mo.prototype.getClass=function(){return Mo};var Ms=function(){this._index=null,this._index=arguments[0]},ea={HotPixelSnapAction:{configurable:!0}};Ms.prototype.snap=function(){if(1===arguments.length)return this.snap(arguments[0],null,-1);if(3===arguments.length){var e=arguments[0],o=arguments[1],s=arguments[2],f=e.getSafeEnvelope(),v=new Ja(e,o,s);return this._index.query(f,{interfaces_:function(){return[po]},visitItem:function(E){E.select(f,v)}}),v.isNodeAdded()}},Ms.prototype.interfaces_=function(){return[]},Ms.prototype.getClass=function(){return Ms},ea.HotPixelSnapAction.get=function(){return Ja},Object.defineProperties(Ms,ea);var Ja=function(t){function e(){t.call(this),this._hotPixel=null,this._parentEdge=null,this._hotPixelVertexIndex=null,this._isNodeAdded=!1;var s=arguments[1],f=arguments[2];this._hotPixel=arguments[0],this._parentEdge=s,this._hotPixelVertexIndex=f}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.isNodeAdded=function(){return this._isNodeAdded},e.prototype.select=function(){if(2!==arguments.length)return t.prototype.select.apply(this,arguments);var s=arguments[1],f=arguments[0].getContext();if(null!==this._parentEdge&&f===this._parentEdge&&s===this._hotPixelVertexIndex)return null;this._isNodeAdded=this._hotPixel.addSnappedNode(f,s)},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e}(Mo),Ko=function(){this._li=null,this._interiorIntersections=null,this._li=arguments[0],this._interiorIntersections=new $};Ko.prototype.processIntersections=function(t,e,o,s){if(t===o&&e===s)return null;var f=t.getCoordinates()[e],v=t.getCoordinates()[e+1],E=o.getCoordinates()[s],S=o.getCoordinates()[s+1];if(this._li.computeIntersection(f,v,E,S),this._li.hasIntersection()&&this._li.isInteriorIntersection()){for(var q=0;q<this._li.getIntersectionNum();q++)this._interiorIntersections.add(this._li.getIntersection(q));t.addIntersections(this._li,e,0),o.addIntersections(this._li,s,1)}},Ko.prototype.isDone=function(){return!1},Ko.prototype.getInteriorIntersections=function(){return this._interiorIntersections},Ko.prototype.interfaces_=function(){return[Qo]},Ko.prototype.getClass=function(){return Ko};var Vi=function(){this._pm=null,this._li=null,this._scaleFactor=null,this._noder=null,this._pointSnapper=null,this._nodedSegStrings=null;var t=arguments[0];this._pm=t,this._li=new kr,this._li.setPrecisionModel(t),this._scaleFactor=t.getScale()};Vi.prototype.checkCorrectness=function(t){var e=tr.getNodedSubstrings(t),o=new io(e);try{o.checkValid()}catch(s){if(!(s instanceof Dn))throw s;s.printStackTrace()}},Vi.prototype.getNodedSubstrings=function(){return tr.getNodedSubstrings(this._nodedSegStrings)},Vi.prototype.snapRound=function(t,e){var o=this.findInteriorIntersections(t,e);this.computeIntersectionSnaps(o),this.computeVertexSnaps(t)},Vi.prototype.findInteriorIntersections=function(t,e){var o=new Ko(e);return this._noder.setSegmentIntersector(o),this._noder.computeNodes(t),o.getInteriorIntersections()},Vi.prototype.computeVertexSnaps=function(){if(ee(arguments[0],Xt))for(var t=arguments[0].iterator();t.hasNext();){var e=t.next();this.computeVertexSnaps(e)}else if(arguments[0]instanceof tr)for(var o=arguments[0],s=o.getCoordinates(),f=0;f<s.length;f++){var v=new ti(s[f],this._scaleFactor,this._li);this._pointSnapper.snap(v,o,f)&&o.addIntersection(s[f],f)}},Vi.prototype.computeNodes=function(t){this._nodedSegStrings=t,this._noder=new ks,this._pointSnapper=new Ms(this._noder.getIndex()),this.snapRound(t,this._li)},Vi.prototype.computeIntersectionSnaps=function(t){for(var e=t.iterator();e.hasNext();){var o=e.next(),s=new ti(o,this._scaleFactor,this._li);this._pointSnapper.snap(s)}},Vi.prototype.interfaces_=function(){return[bo]},Vi.prototype.getClass=function(){return Vi};var wr=function(){if(this._argGeom=null,this._distance=null,this._bufParams=new Ze,this._resultGeometry=null,this._saveException=null,1===arguments.length)this._argGeom=arguments[0];else if(2===arguments.length){var o=arguments[1];this._argGeom=arguments[0],this._bufParams=o}},ko={CAP_ROUND:{configurable:!0},CAP_BUTT:{configurable:!0},CAP_FLAT:{configurable:!0},CAP_SQUARE:{configurable:!0},MAX_PRECISION_DIGITS:{configurable:!0}};wr.prototype.bufferFixedPrecision=function(t){var e=new qo(new Vi(new Je(1)),t.getScale()),o=new ai(this._bufParams);o.setWorkingPrecisionModel(t),o.setNoder(e),this._resultGeometry=o.buffer(this._argGeom,this._distance)},wr.prototype.bufferReducedPrecision=function(){var t=this;if(0===arguments.length){for(var e=wr.MAX_PRECISION_DIGITS;e>=0;e--){try{t.bufferReducedPrecision(e)}catch(v){if(!(v instanceof eo))throw v;t._saveException=v}if(null!==t._resultGeometry)return null}throw this._saveException}if(1===arguments.length){var s=wr.precisionScaleFactor(this._argGeom,this._distance,arguments[0]),f=new Je(s);this.bufferFixedPrecision(f)}},wr.prototype.computeGeometry=function(){if(this.bufferOriginalPrecision(),null!==this._resultGeometry)return null;var t=this._argGeom.getFactory().getPrecisionModel();t.getType()===Je.FIXED?this.bufferFixedPrecision(t):this.bufferReducedPrecision()},wr.prototype.setQuadrantSegments=function(t){this._bufParams.setQuadrantSegments(t)},wr.prototype.bufferOriginalPrecision=function(){try{var t=new ai(this._bufParams);this._resultGeometry=t.buffer(this._argGeom,this._distance)}catch(e){if(!(e instanceof Jn))throw e;this._saveException=e}},wr.prototype.getResultGeometry=function(t){return this._distance=t,this.computeGeometry(),this._resultGeometry},wr.prototype.setEndCapStyle=function(t){this._bufParams.setEndCapStyle(t)},wr.prototype.interfaces_=function(){return[]},wr.prototype.getClass=function(){return wr},wr.bufferOp=function(){if(2===arguments.length){var e=arguments[1];return new wr(arguments[0]).getResultGeometry(e)}if(3===arguments.length){if(Number.isInteger(arguments[2])&&arguments[0]instanceof Le&&"number"==typeof arguments[1]){var s=arguments[1],f=arguments[2],v=new wr(arguments[0]);return v.setQuadrantSegments(f),v.getResultGeometry(s)}if(arguments[2]instanceof Ze&&arguments[0]instanceof Le&&"number"==typeof arguments[1]){var S=arguments[1];return new wr(arguments[0],arguments[2]).getResultGeometry(S)}}else if(4===arguments.length){var Mt=arguments[1],Dt=arguments[2],ie=arguments[3],ue=new wr(arguments[0]);return ue.setQuadrantSegments(Dt),ue.setEndCapStyle(ie),ue.getResultGeometry(Mt)}},wr.precisionScaleFactor=function(t,e,o){var s=t.getEnvelopeInternal(),f=H.max(Math.abs(s.getMaxX()),Math.abs(s.getMaxY()),Math.abs(s.getMinX()),Math.abs(s.getMinY()))+2*(e>0?e:0),v=o-Math.trunc(Math.log(f)/Math.log(10)+1);return Math.pow(10,v)},ko.CAP_ROUND.get=function(){return Ze.CAP_ROUND},ko.CAP_BUTT.get=function(){return Ze.CAP_FLAT},ko.CAP_FLAT.get=function(){return Ze.CAP_FLAT},ko.CAP_SQUARE.get=function(){return Ze.CAP_SQUARE},ko.MAX_PRECISION_DIGITS.get=function(){return 12},Object.defineProperties(wr,ko);var ei=function(){this._pt=[new R,new R],this._distance=U.NaN,this._isNull=!0};ei.prototype.getCoordinates=function(){return this._pt},ei.prototype.getCoordinate=function(t){return this._pt[t]},ei.prototype.setMinimum=function(){if(1===arguments.length){var t=arguments[0];this.setMinimum(t._pt[0],t._pt[1])}else if(2===arguments.length){var e=arguments[0],o=arguments[1];if(this._isNull)return this.initialize(e,o),null;var s=e.distance(o);s<this._distance&&this.initialize(e,o,s)}},ei.prototype.initialize=function(){if(0===arguments.length)this._isNull=!0;else if(2===arguments.length){var t=arguments[0],e=arguments[1];this._pt[0].setCoordinate(t),this._pt[1].setCoordinate(e),this._distance=t.distance(e),this._isNull=!1}else if(3===arguments.length){var s=arguments[1],f=arguments[2];this._pt[0].setCoordinate(arguments[0]),this._pt[1].setCoordinate(s),this._distance=f,this._isNull=!1}},ei.prototype.getDistance=function(){return this._distance},ei.prototype.setMaximum=function(){if(1===arguments.length){var t=arguments[0];this.setMaximum(t._pt[0],t._pt[1])}else if(2===arguments.length){var e=arguments[0],o=arguments[1];if(this._isNull)return this.initialize(e,o),null;var s=e.distance(o);s>this._distance&&this.initialize(e,o,s)}},ei.prototype.interfaces_=function(){return[]},ei.prototype.getClass=function(){return ei};var mo=function(){};mo.prototype.interfaces_=function(){return[]},mo.prototype.getClass=function(){return mo},mo.computeDistance=function(){if(arguments[2]instanceof ei&&arguments[0]instanceof Kn&&arguments[1]instanceof R)for(var e=arguments[1],o=arguments[2],s=arguments[0].getCoordinates(),f=new Pe,v=0;v<s.length-1;v++){f.setCoordinates(s[v],s[v+1]);var E=f.closestPoint(e);o.setMinimum(E,e)}else if(arguments[2]instanceof ei&&arguments[0]instanceof ur&&arguments[1]instanceof R){var S=arguments[0],q=arguments[1],it=arguments[2];mo.computeDistance(S.getExteriorRing(),q,it);for(var Mt=0;Mt<S.getNumInteriorRing();Mt++)mo.computeDistance(S.getInteriorRingN(Mt),q,it)}else if(arguments[2]instanceof ei&&arguments[0]instanceof Le&&arguments[1]instanceof R){var Dt=arguments[0],ie=arguments[1],ue=arguments[2];if(Dt instanceof Kn)mo.computeDistance(Dt,ie,ue);else if(Dt instanceof ur)mo.computeDistance(Dt,ie,ue);else if(Dt instanceof hr)for(var de=Dt,Ne=0;Ne<de.getNumGeometries();Ne++){var Bn=de.getGeometryN(Ne);mo.computeDistance(Bn,ie,ue)}else ue.setMinimum(Dt.getCoordinate(),ie)}else if(arguments[2]instanceof ei&&arguments[0]instanceof Pe&&arguments[1]instanceof R){var ni=arguments[1],Ao=arguments[2],us=arguments[0].closestPoint(ni);Ao.setMinimum(us,ni)}};var ms=function(t){this._maxPtDist=new ei,this._inputGeom=t||null},vs={MaxPointDistanceFilter:{configurable:!0},MaxMidpointDistanceFilter:{configurable:!0}};ms.prototype.computeMaxMidpointDistance=function(t){var e=new zo(this._inputGeom);t.apply(e),this._maxPtDist.setMaximum(e.getMaxPointDistance())},ms.prototype.computeMaxVertexDistance=function(t){var e=new ts(this._inputGeom);t.apply(e),this._maxPtDist.setMaximum(e.getMaxPointDistance())},ms.prototype.findDistance=function(t){return this.computeMaxVertexDistance(t),this.computeMaxMidpointDistance(t),this._maxPtDist.getDistance()},ms.prototype.getDistancePoints=function(){return this._maxPtDist},ms.prototype.interfaces_=function(){return[]},ms.prototype.getClass=function(){return ms},vs.MaxPointDistanceFilter.get=function(){return ts},vs.MaxMidpointDistanceFilter.get=function(){return zo},Object.defineProperties(ms,vs);var ts=function(t){this._maxPtDist=new ei,this._minPtDist=new ei,this._geom=t||null};ts.prototype.filter=function(t){this._minPtDist.initialize(),mo.computeDistance(this._geom,t,this._minPtDist),this._maxPtDist.setMaximum(this._minPtDist)},ts.prototype.getMaxPointDistance=function(){return this._maxPtDist},ts.prototype.interfaces_=function(){return[P]},ts.prototype.getClass=function(){return ts};var zo=function(t){this._maxPtDist=new ei,this._minPtDist=new ei,this._geom=t||null};zo.prototype.filter=function(t,e){if(0===e)return null;var o=t.getCoordinate(e-1),s=t.getCoordinate(e),f=new R((o.x+s.x)/2,(o.y+s.y)/2);this._minPtDist.initialize(),mo.computeDistance(this._geom,f,this._minPtDist),this._maxPtDist.setMaximum(this._minPtDist)},zo.prototype.isDone=function(){return!1},zo.prototype.isGeometryChanged=function(){return!1},zo.prototype.getMaxPointDistance=function(){return this._maxPtDist},zo.prototype.interfaces_=function(){return[xr]},zo.prototype.getClass=function(){return zo};var Lo=function(t){this._comps=t||null};Lo.prototype.filter=function(t){t instanceof ur&&this._comps.add(t)},Lo.prototype.interfaces_=function(){return[ar]},Lo.prototype.getClass=function(){return Lo},Lo.getPolygons=function(){if(1===arguments.length)return Lo.getPolygons(arguments[0],new $);if(2===arguments.length){var e=arguments[0],o=arguments[1];return e instanceof ur?o.add(e):e instanceof hr&&e.apply(new Lo(o)),o}};var Ar=function(){if(this._lines=null,this._isForcedToLineString=!1,1===arguments.length)this._lines=arguments[0];else if(2===arguments.length){var o=arguments[1];this._lines=arguments[0],this._isForcedToLineString=o}};Ar.prototype.filter=function(t){if(this._isForcedToLineString&&t instanceof Gi){var e=t.getFactory().createLineString(t.getCoordinateSequence());return this._lines.add(e),null}t instanceof Kn&&this._lines.add(t)},Ar.prototype.setForceToLineString=function(t){this._isForcedToLineString=t},Ar.prototype.interfaces_=function(){return[lo]},Ar.prototype.getClass=function(){return Ar},Ar.getGeometry=function(){if(1===arguments.length){var t=arguments[0];return t.getFactory().buildGeometry(Ar.getLines(t))}if(2===arguments.length){var e=arguments[0],o=arguments[1];return e.getFactory().buildGeometry(Ar.getLines(e,o))}},Ar.getLines=function(){if(1===arguments.length)return Ar.getLines(arguments[0],!1);if(2===arguments.length){if(ee(arguments[0],Xt)&&ee(arguments[1],Xt)){for(var o=arguments[1],s=arguments[0].iterator();s.hasNext();){var f=s.next();Ar.getLines(f,o)}return o}if(arguments[0]instanceof Le&&"boolean"==typeof arguments[1]){var v=arguments[0],E=arguments[1],S=new $;return v.apply(new Ar(S,E)),S}if(arguments[0]instanceof Le&&ee(arguments[1],Xt)){var q=arguments[0],it=arguments[1];return q instanceof Kn?it.add(q):q.apply(new Ar(it)),it}}else if(3===arguments.length){if("boolean"==typeof arguments[2]&&ee(arguments[0],Xt)&&ee(arguments[1],Xt)){for(var Dt=arguments[1],ie=arguments[2],ue=arguments[0].iterator();ue.hasNext();){var de=ue.next();Ar.getLines(de,Dt,ie)}return Dt}if("boolean"==typeof arguments[2]&&arguments[0]instanceof Le&&ee(arguments[1],Xt)){var Bn=arguments[1];return arguments[0].apply(new Ar(Bn,arguments[2])),Bn}}};var ji=function(){if(this._boundaryRule=M.OGC_SFS_BOUNDARY_RULE,this._isIn=null,this._numBoundaries=null,0!==arguments.length&&1===arguments.length){var t=arguments[0];if(null===t)throw new Q("Rule must be non-null");this._boundaryRule=t}};ji.prototype.locateInternal=function(){if(arguments[0]instanceof R&&arguments[1]instanceof ur){var t=arguments[0],e=arguments[1];if(e.isEmpty())return X.EXTERIOR;var o=e.getExteriorRing(),s=this.locateInPolygonRing(t,o);if(s===X.EXTERIOR)return X.EXTERIOR;if(s===X.BOUNDARY)return X.BOUNDARY;for(var f=0;f<e.getNumInteriorRing();f++){var v=e.getInteriorRingN(f),E=this.locateInPolygonRing(t,v);if(E===X.INTERIOR)return X.EXTERIOR;if(E===X.BOUNDARY)return X.BOUNDARY}return X.INTERIOR}if(arguments[0]instanceof R&&arguments[1]instanceof Kn){var S=arguments[0],q=arguments[1];if(!q.getEnvelopeInternal().intersects(S))return X.EXTERIOR;var it=q.getCoordinates();return q.isClosed()||!S.equals(it[0])&&!S.equals(it[it.length-1])?se.isOnLine(S,it)?X.INTERIOR:X.EXTERIOR:X.BOUNDARY}if(arguments[0]instanceof R&&arguments[1]instanceof ri){var Mt=arguments[0];return arguments[1].getCoordinate().equals2D(Mt)?X.INTERIOR:X.EXTERIOR}},ji.prototype.locateInPolygonRing=function(t,e){return e.getEnvelopeInternal().intersects(t)?se.locatePointInRing(t,e.getCoordinates()):X.EXTERIOR},ji.prototype.intersects=function(t,e){return this.locate(t,e)!==X.EXTERIOR},ji.prototype.updateLocationInfo=function(t){t===X.INTERIOR&&(this._isIn=!0),t===X.BOUNDARY&&this._numBoundaries++},ji.prototype.computeLocation=function(t,e){if(e instanceof ri&&this.updateLocationInfo(this.locateInternal(t,e)),e instanceof Kn)this.updateLocationInfo(this.locateInternal(t,e));else if(e instanceof ur)this.updateLocationInfo(this.locateInternal(t,e));else if(e instanceof So)for(var o=e,s=0;s<o.getNumGeometries();s++){var f=o.getGeometryN(s);this.updateLocationInfo(this.locateInternal(t,f))}else if(e instanceof qi)for(var v=e,E=0;E<v.getNumGeometries();E++){var S=v.getGeometryN(E);this.updateLocationInfo(this.locateInternal(t,S))}else if(e instanceof hr)for(var q=new oi(e);q.hasNext();){var it=q.next();it!==e&&this.computeLocation(t,it)}},ji.prototype.locate=function(t,e){return e.isEmpty()?X.EXTERIOR:e instanceof Kn||e instanceof ur?this.locateInternal(t,e):(this._isIn=!1,this._numBoundaries=0,this.computeLocation(t,e),this._boundaryRule.isInBoundary(this._numBoundaries)?X.BOUNDARY:this._numBoundaries>0||this._isIn?X.INTERIOR:X.EXTERIOR)},ji.prototype.interfaces_=function(){return[]},ji.prototype.getClass=function(){return ji};var Tr=function t(){if(this._component=null,this._segIndex=null,this._pt=null,2===arguments.length)t.call(this,arguments[0],t.INSIDE_AREA,arguments[1]);else if(3===arguments.length){var f=arguments[1],v=arguments[2];this._component=arguments[0],this._segIndex=f,this._pt=v}},qu={INSIDE_AREA:{configurable:!0}};Tr.prototype.isInsideArea=function(){return this._segIndex===Tr.INSIDE_AREA},Tr.prototype.getCoordinate=function(){return this._pt},Tr.prototype.getGeometryComponent=function(){return this._component},Tr.prototype.getSegmentIndex=function(){return this._segIndex},Tr.prototype.interfaces_=function(){return[]},Tr.prototype.getClass=function(){return Tr},qu.INSIDE_AREA.get=function(){return-1},Object.defineProperties(Tr,qu);var Oo=function(t){this._pts=t||null};Oo.prototype.filter=function(t){t instanceof ri&&this._pts.add(t)},Oo.prototype.interfaces_=function(){return[ar]},Oo.prototype.getClass=function(){return Oo},Oo.getPoints=function(){if(1===arguments.length){var t=arguments[0];return t instanceof ri?no.singletonList(t):Oo.getPoints(t,new $)}if(2===arguments.length){var e=arguments[0],o=arguments[1];return e instanceof ri?o.add(e):e instanceof hr&&e.apply(new Oo(o)),o}};var _s=function(){this._locations=null,this._locations=arguments[0]};_s.prototype.filter=function(t){(t instanceof ri||t instanceof Kn||t instanceof ur)&&this._locations.add(new Tr(t,0,t.getCoordinate()))},_s.prototype.interfaces_=function(){return[ar]},_s.prototype.getClass=function(){return _s},_s.getLocations=function(t){var e=new $;return t.apply(new _s(e)),e};var Dr=function(){if(this._geom=null,this._terminateDistance=0,this._ptLocator=new ji,this._minDistanceLocation=null,this._minDistance=U.MAX_VALUE,2===arguments.length)this._geom=[arguments[0],arguments[1]],this._terminateDistance=0;else if(3===arguments.length){var o=arguments[0],s=arguments[1],f=arguments[2];this._geom=new Array(2).fill(null),this._geom[0]=o,this._geom[1]=s,this._terminateDistance=f}};Dr.prototype.computeContainmentDistance=function(){if(0===arguments.length){var t=new Array(2).fill(null);if(this.computeContainmentDistance(0,t),this._minDistance<=this._terminateDistance)return null;this.computeContainmentDistance(1,t)}else if(2===arguments.length){var e=arguments[0],o=arguments[1],s=1-e,f=Lo.getPolygons(this._geom[e]);if(f.size()>0){var v=_s.getLocations(this._geom[s]);if(this.computeContainmentDistance(v,f,o),this._minDistance<=this._terminateDistance)return this._minDistanceLocation[s]=o[0],this._minDistanceLocation[e]=o[1],null}}else if(3===arguments.length)if(arguments[2]instanceof Array&&ee(arguments[0],ce)&&ee(arguments[1],ce)){for(var E=arguments[0],S=arguments[1],q=arguments[2],it=0;it<E.size();it++)for(var Mt=E.get(it),Dt=0;Dt<S.size();Dt++)if(this.computeContainmentDistance(Mt,S.get(Dt),q),this._minDistance<=this._terminateDistance)return null}else if(arguments[2]instanceof Array&&arguments[0]instanceof Tr&&arguments[1]instanceof ur){var ie=arguments[0],ue=arguments[1],de=arguments[2],Ne=ie.getCoordinate();if(X.EXTERIOR!==this._ptLocator.locate(Ne,ue))return this._minDistance=0,de[0]=ie,de[1]=new Tr(ue,Ne),null}},Dr.prototype.computeMinDistanceLinesPoints=function(t,e,o){for(var s=0;s<t.size();s++)for(var f=t.get(s),v=0;v<e.size();v++){var E=e.get(v);if(this.computeMinDistance(f,E,o),this._minDistance<=this._terminateDistance)return null}},Dr.prototype.computeFacetDistance=function(){var t=new Array(2).fill(null),e=Ar.getLines(this._geom[0]),o=Ar.getLines(this._geom[1]),s=Oo.getPoints(this._geom[0]),f=Oo.getPoints(this._geom[1]);return this.computeMinDistanceLines(e,o,t),this.updateMinDistance(t,!1),this._minDistance<=this._terminateDistance?null:(t[0]=null,t[1]=null,this.computeMinDistanceLinesPoints(e,f,t),this.updateMinDistance(t,!1),this._minDistance<=this._terminateDistance?null:(t[0]=null,t[1]=null,this.computeMinDistanceLinesPoints(o,s,t),this.updateMinDistance(t,!0),this._minDistance<=this._terminateDistance?null:(t[0]=null,t[1]=null,this.computeMinDistancePoints(s,f,t),void this.updateMinDistance(t,!1))))},Dr.prototype.nearestLocations=function(){return this.computeMinDistance(),this._minDistanceLocation},Dr.prototype.updateMinDistance=function(t,e){if(null===t[0])return null;e?(this._minDistanceLocation[0]=t[1],this._minDistanceLocation[1]=t[0]):(this._minDistanceLocation[0]=t[0],this._minDistanceLocation[1]=t[1])},Dr.prototype.nearestPoints=function(){return this.computeMinDistance(),[this._minDistanceLocation[0].getCoordinate(),this._minDistanceLocation[1].getCoordinate()]},Dr.prototype.computeMinDistance=function(){if(0===arguments.length){if(null!==this._minDistanceLocation||(this._minDistanceLocation=new Array(2).fill(null),this.computeContainmentDistance(),this._minDistance<=this._terminateDistance))return null;this.computeFacetDistance()}else if(3===arguments.length)if(arguments[2]instanceof Array&&arguments[0]instanceof Kn&&arguments[1]instanceof ri){var t=arguments[0],e=arguments[1],o=arguments[2];if(t.getEnvelopeInternal().distance(e.getEnvelopeInternal())>this._minDistance)return null;for(var s=t.getCoordinates(),f=e.getCoordinate(),v=0;v<s.length-1;v++){var E=se.distancePointLine(f,s[v],s[v+1]);if(E<this._minDistance){this._minDistance=E;var S=new Pe(s[v],s[v+1]).closestPoint(f);o[0]=new Tr(t,v,S),o[1]=new Tr(e,0,f)}if(this._minDistance<=this._terminateDistance)return null}}else if(arguments[2]instanceof Array&&arguments[0]instanceof Kn&&arguments[1]instanceof Kn){var q=arguments[0],it=arguments[1],Mt=arguments[2];if(q.getEnvelopeInternal().distance(it.getEnvelopeInternal())>this._minDistance)return null;for(var Dt=q.getCoordinates(),ie=it.getCoordinates(),ue=0;ue<Dt.length-1;ue++)for(var de=0;de<ie.length-1;de++){var Ne=se.distanceLineLine(Dt[ue],Dt[ue+1],ie[de],ie[de+1]);if(Ne<this._minDistance){this._minDistance=Ne;var Bn=new Pe(Dt[ue],Dt[ue+1]),vr=new Pe(ie[de],ie[de+1]),ni=Bn.closestPoints(vr);Mt[0]=new Tr(q,ue,ni[0]),Mt[1]=new Tr(it,de,ni[1])}if(this._minDistance<=this._terminateDistance)return null}}},Dr.prototype.computeMinDistancePoints=function(t,e,o){for(var s=0;s<t.size();s++)for(var f=t.get(s),v=0;v<e.size();v++){var E=e.get(v),S=f.getCoordinate().distance(E.getCoordinate());if(S<this._minDistance&&(this._minDistance=S,o[0]=new Tr(f,0,f.getCoordinate()),o[1]=new Tr(E,0,E.getCoordinate())),this._minDistance<=this._terminateDistance)return null}},Dr.prototype.distance=function(){if(null===this._geom[0]||null===this._geom[1])throw new Q("null geometries are not supported");return this._geom[0].isEmpty()||this._geom[1].isEmpty()?0:(this.computeMinDistance(),this._minDistance)},Dr.prototype.computeMinDistanceLines=function(t,e,o){for(var s=0;s<t.size();s++)for(var f=t.get(s),v=0;v<e.size();v++){var E=e.get(v);if(this.computeMinDistance(f,E,o),this._minDistance<=this._terminateDistance)return null}},Dr.prototype.interfaces_=function(){return[]},Dr.prototype.getClass=function(){return Dr},Dr.distance=function(t,e){return new Dr(t,e).distance()},Dr.isWithinDistance=function(t,e,o){return new Dr(t,e,o).distance()<=o},Dr.nearestPoints=function(t,e){return new Dr(t,e).nearestPoints()};var Yr=function(){this._pt=[new R,new R],this._distance=U.NaN,this._isNull=!0};Yr.prototype.getCoordinates=function(){return this._pt},Yr.prototype.getCoordinate=function(t){return this._pt[t]},Yr.prototype.setMinimum=function(){if(1===arguments.length){var t=arguments[0];this.setMinimum(t._pt[0],t._pt[1])}else if(2===arguments.length){var e=arguments[0],o=arguments[1];if(this._isNull)return this.initialize(e,o),null;var s=e.distance(o);s<this._distance&&this.initialize(e,o,s)}},Yr.prototype.initialize=function(){if(0===arguments.length)this._isNull=!0;else if(2===arguments.length){var t=arguments[0],e=arguments[1];this._pt[0].setCoordinate(t),this._pt[1].setCoordinate(e),this._distance=t.distance(e),this._isNull=!1}else if(3===arguments.length){var s=arguments[1],f=arguments[2];this._pt[0].setCoordinate(arguments[0]),this._pt[1].setCoordinate(s),this._distance=f,this._isNull=!1}},Yr.prototype.toString=function(){return cr.toLineString(this._pt[0],this._pt[1])},Yr.prototype.getDistance=function(){return this._distance},Yr.prototype.setMaximum=function(){if(1===arguments.length){var t=arguments[0];this.setMaximum(t._pt[0],t._pt[1])}else if(2===arguments.length){var e=arguments[0],o=arguments[1];if(this._isNull)return this.initialize(e,o),null;var s=e.distance(o);s>this._distance&&this.initialize(e,o,s)}},Yr.prototype.interfaces_=function(){return[]},Yr.prototype.getClass=function(){return Yr};var vo=function(){};vo.prototype.interfaces_=function(){return[]},vo.prototype.getClass=function(){return vo},vo.computeDistance=function(){if(arguments[2]instanceof Yr&&arguments[0]instanceof Kn&&arguments[1]instanceof R)for(var t=arguments[0],e=arguments[1],o=arguments[2],s=new Pe,f=t.getCoordinates(),v=0;v<f.length-1;v++){s.setCoordinates(f[v],f[v+1]);var E=s.closestPoint(e);o.setMinimum(E,e)}else if(arguments[2]instanceof Yr&&arguments[0]instanceof ur&&arguments[1]instanceof R){var S=arguments[0],q=arguments[1],it=arguments[2];vo.computeDistance(S.getExteriorRing(),q,it);for(var Mt=0;Mt<S.getNumInteriorRing();Mt++)vo.computeDistance(S.getInteriorRingN(Mt),q,it)}else if(arguments[2]instanceof Yr&&arguments[0]instanceof Le&&arguments[1]instanceof R){var Dt=arguments[0],ie=arguments[1],ue=arguments[2];if(Dt instanceof Kn)vo.computeDistance(Dt,ie,ue);else if(Dt instanceof ur)vo.computeDistance(Dt,ie,ue);else if(Dt instanceof hr)for(var de=Dt,Ne=0;Ne<de.getNumGeometries();Ne++){var Bn=de.getGeometryN(Ne);vo.computeDistance(Bn,ie,ue)}else ue.setMinimum(Dt.getCoordinate(),ie)}else if(arguments[2]instanceof Yr&&arguments[0]instanceof Pe&&arguments[1]instanceof R){var ni=arguments[1],Ao=arguments[2],us=arguments[0].closestPoint(ni);Ao.setMinimum(us,ni)}};var ui=function(){this._g0=null,this._g1=null,this._ptDist=new Yr,this._densifyFrac=0;var e=arguments[1];this._g0=arguments[0],this._g1=e},Ea={MaxPointDistanceFilter:{configurable:!0},MaxDensifiedByFractionDistanceFilter:{configurable:!0}};ui.prototype.getCoordinates=function(){return this._ptDist.getCoordinates()},ui.prototype.setDensifyFraction=function(t){if(t>1||t<=0)throw new Q("Fraction is not in range (0.0 - 1.0]");this._densifyFrac=t},ui.prototype.compute=function(t,e){this.computeOrientedDistance(t,e,this._ptDist),this.computeOrientedDistance(e,t,this._ptDist)},ui.prototype.distance=function(){return this.compute(this._g0,this._g1),this._ptDist.getDistance()},ui.prototype.computeOrientedDistance=function(t,e,o){var s=new Ls(e);if(t.apply(s),o.setMaximum(s.getMaxPointDistance()),this._densifyFrac>0){var f=new es(e,this._densifyFrac);t.apply(f),o.setMaximum(f.getMaxPointDistance())}},ui.prototype.orientedDistance=function(){return this.computeOrientedDistance(this._g0,this._g1,this._ptDist),this._ptDist.getDistance()},ui.prototype.interfaces_=function(){return[]},ui.prototype.getClass=function(){return ui},ui.distance=function(){if(2===arguments.length)return new ui(arguments[0],arguments[1]).distance();if(3===arguments.length){var f=arguments[2],v=new ui(arguments[0],arguments[1]);return v.setDensifyFraction(f),v.distance()}},Ea.MaxPointDistanceFilter.get=function(){return Ls},Ea.MaxDensifiedByFractionDistanceFilter.get=function(){return es},Object.defineProperties(ui,Ea);var Ls=function(){this._maxPtDist=new Yr,this._minPtDist=new Yr,this._euclideanDist=new vo,this._geom=null,this._geom=arguments[0]};Ls.prototype.filter=function(t){this._minPtDist.initialize(),vo.computeDistance(this._geom,t,this._minPtDist),this._maxPtDist.setMaximum(this._minPtDist)},Ls.prototype.getMaxPointDistance=function(){return this._maxPtDist},Ls.prototype.interfaces_=function(){return[P]},Ls.prototype.getClass=function(){return Ls};var es=function(){this._maxPtDist=new Yr,this._minPtDist=new Yr,this._geom=null,this._numSubSegs=0;var e=arguments[1];this._geom=arguments[0],this._numSubSegs=Math.trunc(Math.round(1/e))};es.prototype.filter=function(t,e){if(0===e)return null;for(var o=t.getCoordinate(e-1),s=t.getCoordinate(e),f=(s.x-o.x)/this._numSubSegs,v=(s.y-o.y)/this._numSubSegs,E=0;E<this._numSubSegs;E++){var it=new R(o.x+E*f,o.y+E*v);this._minPtDist.initialize(),vo.computeDistance(this._geom,it,this._minPtDist),this._maxPtDist.setMaximum(this._minPtDist)}},es.prototype.isDone=function(){return!1},es.prototype.isGeometryChanged=function(){return!1},es.prototype.getMaxPointDistance=function(){return this._maxPtDist},es.prototype.interfaces_=function(){return[xr]},es.prototype.getClass=function(){return es};var Mi=function(t,e,o){this._minValidDistance=null,this._maxValidDistance=null,this._minDistanceFound=null,this._maxDistanceFound=null,this._isValid=!0,this._errMsg=null,this._errorLocation=null,this._errorIndicator=null,this._input=t||null,this._bufDistance=e||null,this._result=o||null},na={VERBOSE:{configurable:!0},MAX_DISTANCE_DIFF_FRAC:{configurable:!0}};Mi.prototype.checkMaximumDistance=function(t,e,o){var s=new ui(e,t);if(s.setDensifyFraction(.25),this._maxDistanceFound=s.orientedDistance(),this._maxDistanceFound>o){this._isValid=!1;var f=s.getCoordinates();this._errorLocation=f[1],this._errorIndicator=t.getFactory().createLineString(f),this._errMsg="Distance between buffer curve and input is too large ("+this._maxDistanceFound+" at "+cr.toLineString(f[0],f[1])+")"}},Mi.prototype.isValid=function(){var t=Math.abs(this._bufDistance),e=Mi.MAX_DISTANCE_DIFF_FRAC*t;return this._minValidDistance=t-e,this._maxValidDistance=t+e,!(!this._input.isEmpty()&&!this._result.isEmpty())||(this._bufDistance>0?this.checkPositiveValid():this.checkNegativeValid(),Mi.VERBOSE&&Xe.out.println("Min Dist= "+this._minDistanceFound+"  err= "+(1-this._minDistanceFound/this._bufDistance)+"  Max Dist= "+this._maxDistanceFound+"  err= "+(this._maxDistanceFound/this._bufDistance-1)),this._isValid)},Mi.prototype.checkNegativeValid=function(){if(!(this._input instanceof ur||this._input instanceof qi||this._input instanceof hr))return null;var t=this.getPolygonLines(this._input);if(this.checkMinimumDistance(t,this._result,this._minValidDistance),!this._isValid)return null;this.checkMaximumDistance(t,this._result,this._maxValidDistance)},Mi.prototype.getErrorIndicator=function(){return this._errorIndicator},Mi.prototype.checkMinimumDistance=function(t,e,o){var s=new Dr(t,e,o);if(this._minDistanceFound=s.distance(),this._minDistanceFound<o){this._isValid=!1;var f=s.nearestPoints();this._errorLocation=s.nearestPoints()[1],this._errorIndicator=t.getFactory().createLineString(f),this._errMsg="Distance between buffer curve and input is too small ("+this._minDistanceFound+" at "+cr.toLineString(f[0],f[1])+" )"}},Mi.prototype.checkPositiveValid=function(){var t=this._result.getBoundary();if(this.checkMinimumDistance(this._input,t,this._minValidDistance),!this._isValid)return null;this.checkMaximumDistance(this._input,t,this._maxValidDistance)},Mi.prototype.getErrorLocation=function(){return this._errorLocation},Mi.prototype.getPolygonLines=function(t){for(var e=new $,o=new Ar(e),s=Lo.getPolygons(t).iterator();s.hasNext();)s.next().apply(o);return t.getFactory().buildGeometry(e)},Mi.prototype.getErrorMessage=function(){return this._errMsg},Mi.prototype.interfaces_=function(){return[]},Mi.prototype.getClass=function(){return Mi},na.VERBOSE.get=function(){return!1},na.MAX_DISTANCE_DIFF_FRAC.get=function(){return.012},Object.defineProperties(Mi,na);var Nr=function(t,e,o){this._isValid=!0,this._errorMsg=null,this._errorLocation=null,this._errorIndicator=null,this._input=t||null,this._distance=e||null,this._result=o||null},Os={VERBOSE:{configurable:!0},MAX_ENV_DIFF_FRAC:{configurable:!0}};Nr.prototype.isValid=function(){return this.checkPolygonal(),this._isValid?(this.checkExpectedEmpty(),this._isValid?(this.checkEnvelope(),this._isValid?(this.checkArea(),this._isValid?(this.checkDistance(),this._isValid):this._isValid):this._isValid):this._isValid):this._isValid},Nr.prototype.checkEnvelope=function(){if(this._distance<0)return null;var t=this._distance*Nr.MAX_ENV_DIFF_FRAC;0===t&&(t=.001);var e=new ae(this._input.getEnvelopeInternal());e.expandBy(this._distance);var o=new ae(this._result.getEnvelopeInternal());o.expandBy(t),o.contains(e)||(this._isValid=!1,this._errorMsg="Buffer envelope is incorrect",this._errorIndicator=this._input.getFactory().toGeometry(o)),this.report("Envelope")},Nr.prototype.checkDistance=function(){var t=new Mi(this._input,this._distance,this._result);t.isValid()||(this._isValid=!1,this._errorMsg=t.getErrorMessage(),this._errorLocation=t.getErrorLocation(),this._errorIndicator=t.getErrorIndicator()),this.report("Distance")},Nr.prototype.checkArea=function(){var t=this._input.getArea(),e=this._result.getArea();this._distance>0&&t>e&&(this._isValid=!1,this._errorMsg="Area of positive buffer is smaller than input",this._errorIndicator=this._result),this._distance<0&&t<e&&(this._isValid=!1,this._errorMsg="Area of negative buffer is larger than input",this._errorIndicator=this._result),this.report("Area")},Nr.prototype.checkPolygonal=function(){this._result instanceof ur||this._result instanceof qi||(this._isValid=!1),this._errorMsg="Result is not polygonal",this._errorIndicator=this._result,this.report("Polygonal")},Nr.prototype.getErrorIndicator=function(){return this._errorIndicator},Nr.prototype.getErrorLocation=function(){return this._errorLocation},Nr.prototype.checkExpectedEmpty=function(){return this._input.getDimension()>=2||this._distance>0?null:(this._result.isEmpty()||(this._isValid=!1,this._errorMsg="Result is non-empty",this._errorIndicator=this._result),void this.report("ExpectedEmpty"))},Nr.prototype.report=function(t){if(!Nr.VERBOSE)return null;Xe.out.println("Check "+t+": "+(this._isValid?"passed":"FAILED"))},Nr.prototype.getErrorMessage=function(){return this._errorMsg},Nr.prototype.interfaces_=function(){return[]},Nr.prototype.getClass=function(){return Nr},Nr.isValidMsg=function(t,e,o){var s=new Nr(t,e,o);return s.isValid()?null:s.getErrorMessage()},Nr.isValid=function(t,e,o){return!!new Nr(t,e,o).isValid()},Os.VERBOSE.get=function(){return!1},Os.MAX_ENV_DIFF_FRAC.get=function(){return.012},Object.defineProperties(Nr,Os);var _o=function(){this._pts=null,this._data=null;var e=arguments[1];this._pts=arguments[0],this._data=e};_o.prototype.getCoordinates=function(){return this._pts},_o.prototype.size=function(){return this._pts.length},_o.prototype.getCoordinate=function(t){return this._pts[t]},_o.prototype.isClosed=function(){return this._pts[0].equals(this._pts[this._pts.length-1])},_o.prototype.getSegmentOctant=function(t){return t===this._pts.length-1?-1:Yi.octant(this.getCoordinate(t),this.getCoordinate(t+1))},_o.prototype.setData=function(t){this._data=t},_o.prototype.getData=function(){return this._data},_o.prototype.toString=function(){return cr.toLineString(new Hn(this._pts))},_o.prototype.interfaces_=function(){return[yr]},_o.prototype.getClass=function(){return _o};var Fr=function(){this._findAllIntersections=!1,this._isCheckEndSegmentsOnly=!1,this._li=null,this._interiorIntersection=null,this._intSegments=null,this._intersections=new $,this._intersectionCount=0,this._keepIntersections=!0,this._li=arguments[0],this._interiorIntersection=null};Fr.prototype.getInteriorIntersection=function(){return this._interiorIntersection},Fr.prototype.setCheckEndSegmentsOnly=function(t){this._isCheckEndSegmentsOnly=t},Fr.prototype.getIntersectionSegments=function(){return this._intSegments},Fr.prototype.count=function(){return this._intersectionCount},Fr.prototype.getIntersections=function(){return this._intersections},Fr.prototype.setFindAllIntersections=function(t){this._findAllIntersections=t},Fr.prototype.setKeepIntersections=function(t){this._keepIntersections=t},Fr.prototype.processIntersections=function(t,e,o,s){if(!this._findAllIntersections&&this.hasIntersection()||t===o&&e===s||this._isCheckEndSegmentsOnly&&!this.isEndSegment(t,e)&&!this.isEndSegment(o,s))return null;var f=t.getCoordinates()[e],v=t.getCoordinates()[e+1],E=o.getCoordinates()[s],S=o.getCoordinates()[s+1];this._li.computeIntersection(f,v,E,S),this._li.hasIntersection()&&this._li.isInteriorIntersection()&&(this._intSegments=new Array(4).fill(null),this._intSegments[0]=f,this._intSegments[1]=v,this._intSegments[2]=E,this._intSegments[3]=S,this._interiorIntersection=this._li.getIntersection(0),this._keepIntersections&&this._intersections.add(this._interiorIntersection),this._intersectionCount++)},Fr.prototype.isEndSegment=function(t,e){return 0===e||e>=t.size()-2},Fr.prototype.hasIntersection=function(){return null!==this._interiorIntersection},Fr.prototype.isDone=function(){return!this._findAllIntersections&&null!==this._interiorIntersection},Fr.prototype.interfaces_=function(){return[Qo]},Fr.prototype.getClass=function(){return Fr},Fr.createAllIntersectionsFinder=function(t){var e=new Fr(t);return e.setFindAllIntersections(!0),e},Fr.createAnyIntersectionFinder=function(t){return new Fr(t)},Fr.createIntersectionCounter=function(t){var e=new Fr(t);return e.setFindAllIntersections(!0),e.setKeepIntersections(!1),e};var oo=function(){this._li=new kr,this._segStrings=null,this._findAllIntersections=!1,this._segInt=null,this._isValid=!0,this._segStrings=arguments[0]};oo.prototype.execute=function(){if(null!==this._segInt)return null;this.checkInteriorIntersections()},oo.prototype.getIntersections=function(){return this._segInt.getIntersections()},oo.prototype.isValid=function(){return this.execute(),this._isValid},oo.prototype.setFindAllIntersections=function(t){this._findAllIntersections=t},oo.prototype.checkInteriorIntersections=function(){this._isValid=!0,this._segInt=new Fr(this._li),this._segInt.setFindAllIntersections(this._findAllIntersections);var t=new ks;if(t.setSegmentIntersector(this._segInt),t.computeNodes(this._segStrings),this._segInt.hasIntersection())return this._isValid=!1,null},oo.prototype.checkValid=function(){if(this.execute(),!this._isValid)throw new eo(this.getErrorMessage(),this._segInt.getInteriorIntersection())},oo.prototype.getErrorMessage=function(){if(this._isValid)return"no intersections found";var t=this._segInt.getIntersectionSegments();return"found non-noded intersection between "+cr.toLineString(t[0],t[1])+" and "+cr.toLineString(t[2],t[3])},oo.prototype.interfaces_=function(){return[]},oo.prototype.getClass=function(){return oo},oo.computeIntersections=function(t){var e=new oo(t);return e.setFindAllIntersections(!0),e.isValid(),e.getIntersections()};var ns=function t(){this._nv=null,this._nv=new oo(t.toSegmentStrings(arguments[0]))};ns.prototype.checkValid=function(){this._nv.checkValid()},ns.prototype.interfaces_=function(){return[]},ns.prototype.getClass=function(){return ns},ns.toSegmentStrings=function(t){for(var e=new $,o=t.iterator();o.hasNext();){var s=o.next();e.add(new _o(s.getCoordinates(),s))}return e},ns.checkValid=function(t){new ns(t).checkValid()};var Uo=function(t){this._mapOp=t};Uo.prototype.map=function(t){for(var e=new $,o=0;o<t.getNumGeometries();o++){var s=this._mapOp.map(t.getGeometryN(o));s.isEmpty()||e.add(s)}return t.getFactory().createGeometryCollection(Ye.toGeometryArray(e))},Uo.prototype.interfaces_=function(){return[]},Uo.prototype.getClass=function(){return Uo},Uo.map=function(t,e){return new Uo(e).map(t)};var Eo=function(){this._op=null,this._geometryFactory=null,this._ptLocator=null,this._lineEdgesList=new $,this._resultLineList=new $;var e=arguments[1],o=arguments[2];this._op=arguments[0],this._geometryFactory=e,this._ptLocator=o};Eo.prototype.collectLines=function(t){for(var e=this._op.getGraph().getEdgeEnds().iterator();e.hasNext();){var o=e.next();this.collectLineEdge(o,t,this._lineEdgesList),this.collectBoundaryTouchEdge(o,t,this._lineEdgesList)}},Eo.prototype.labelIsolatedLine=function(t,e){var o=this._ptLocator.locate(t.getCoordinate(),this._op.getArgGeometry(e));t.getLabel().setLocation(e,o)},Eo.prototype.build=function(t){return this.findCoveredLineEdges(),this.collectLines(t),this.buildLines(t),this._resultLineList},Eo.prototype.collectLineEdge=function(t,e,o){var s=t.getLabel(),f=t.getEdge();t.isLineEdge()&&(t.isVisited()||!Ge.isResultOfOp(s,e)||f.isCovered()||(o.add(f),t.setVisitedEdge(!0)))},Eo.prototype.findCoveredLineEdges=function(){for(var t=this._op.getGraph().getNodes().iterator();t.hasNext();)t.next().getEdges().findCoveredLineEdges();for(var e=this._op.getGraph().getEdgeEnds().iterator();e.hasNext();){var o=e.next(),s=o.getEdge();if(o.isLineEdge()&&!s.isCoveredSet()){var f=this._op.isCoveredByA(o.getCoordinate());s.setCovered(f)}}},Eo.prototype.labelIsolatedLines=function(t){for(var e=t.iterator();e.hasNext();){var o=e.next(),s=o.getLabel();o.isIsolated()&&(s.isNull(0)?this.labelIsolatedLine(o,0):this.labelIsolatedLine(o,1))}},Eo.prototype.buildLines=function(t){for(var e=this._lineEdgesList.iterator();e.hasNext();){var o=e.next(),s=this._geometryFactory.createLineString(o.getCoordinates());this._resultLineList.add(s),o.setInResult(!0)}},Eo.prototype.collectBoundaryTouchEdge=function(t,e,o){var s=t.getLabel();return t.isLineEdge()||t.isVisited()||t.isInteriorAreaEdge()||t.getEdge().isInResult()?null:(Ae.isTrue(!(t.isInResult()||t.getSym().isInResult())||!t.getEdge().isInResult()),void(Ge.isResultOfOp(s,e)&&e===Ge.INTERSECTION&&(o.add(t.getEdge()),t.setVisitedEdge(!0))))},Eo.prototype.interfaces_=function(){return[]},Eo.prototype.getClass=function(){return Eo};var Rs=function(){this._op=null,this._geometryFactory=null,this._resultPointList=new $;var e=arguments[1];this._op=arguments[0],this._geometryFactory=e};Rs.prototype.filterCoveredNodeToPoint=function(t){var e=t.getCoordinate();if(!this._op.isCoveredByLA(e)){var o=this._geometryFactory.createPoint(e);this._resultPointList.add(o)}},Rs.prototype.extractNonCoveredResultNodes=function(t){for(var e=this._op.getGraph().getNodes().iterator();e.hasNext();){var o=e.next();if(!(o.isInResult()||o.isIncidentEdgeInResult()||0!==o.getEdges().getDegree()&&t!==Ge.INTERSECTION)){var s=o.getLabel();Ge.isResultOfOp(s,t)&&this.filterCoveredNodeToPoint(o)}}},Rs.prototype.build=function(t){return this.extractNonCoveredResultNodes(t),this._resultPointList},Rs.prototype.interfaces_=function(){return[]},Rs.prototype.getClass=function(){return Rs};var xi=function(){this._inputGeom=null,this._factory=null,this._pruneEmptyGeometry=!0,this._preserveGeometryCollectionType=!0,this._preserveCollections=!1,this._preserveType=!1};xi.prototype.transformPoint=function(t,e){return this._factory.createPoint(this.transformCoordinates(t.getCoordinateSequence(),t))},xi.prototype.transformPolygon=function(t,e){var o=!0,s=this.transformLinearRing(t.getExteriorRing(),t);null!==s&&s instanceof Gi&&!s.isEmpty()||(o=!1);for(var f=new $,v=0;v<t.getNumInteriorRing();v++){var E=this.transformLinearRing(t.getInteriorRingN(v),t);null===E||E.isEmpty()||(E instanceof Gi||(o=!1),f.add(E))}if(o)return this._factory.createPolygon(s,f.toArray([]));var S=new $;return null!==s&&S.add(s),S.addAll(f),this._factory.buildGeometry(S)},xi.prototype.createCoordinateSequence=function(t){return this._factory.getCoordinateSequenceFactory().create(t)},xi.prototype.getInputGeometry=function(){return this._inputGeom},xi.prototype.transformMultiLineString=function(t,e){for(var o=new $,s=0;s<t.getNumGeometries();s++){var f=this.transformLineString(t.getGeometryN(s),t);null!==f&&(f.isEmpty()||o.add(f))}return this._factory.buildGeometry(o)},xi.prototype.transformCoordinates=function(t,e){return this.copy(t)},xi.prototype.transformLineString=function(t,e){return this._factory.createLineString(this.transformCoordinates(t.getCoordinateSequence(),t))},xi.prototype.transformMultiPoint=function(t,e){for(var o=new $,s=0;s<t.getNumGeometries();s++){var f=this.transformPoint(t.getGeometryN(s),t);null!==f&&(f.isEmpty()||o.add(f))}return this._factory.buildGeometry(o)},xi.prototype.transformMultiPolygon=function(t,e){for(var o=new $,s=0;s<t.getNumGeometries();s++){var f=this.transformPolygon(t.getGeometryN(s),t);null!==f&&(f.isEmpty()||o.add(f))}return this._factory.buildGeometry(o)},xi.prototype.copy=function(t){return t.copy()},xi.prototype.transformGeometryCollection=function(t,e){for(var o=new $,s=0;s<t.getNumGeometries();s++){var f=this.transform(t.getGeometryN(s));null!==f&&(this._pruneEmptyGeometry&&f.isEmpty()||o.add(f))}return this._preserveGeometryCollectionType?this._factory.createGeometryCollection(Ye.toGeometryArray(o)):this._factory.buildGeometry(o)},xi.prototype.transform=function(t){if(this._inputGeom=t,this._factory=t.getFactory(),t instanceof ri)return this.transformPoint(t,null);if(t instanceof ps)return this.transformMultiPoint(t,null);if(t instanceof Gi)return this.transformLinearRing(t,null);if(t instanceof Kn)return this.transformLineString(t,null);if(t instanceof So)return this.transformMultiLineString(t,null);if(t instanceof ur)return this.transformPolygon(t,null);if(t instanceof qi)return this.transformMultiPolygon(t,null);if(t instanceof hr)return this.transformGeometryCollection(t,null);throw new Q("Unknown Geometry subtype: "+t.getClass().getName())},xi.prototype.transformLinearRing=function(t,e){var o=this.transformCoordinates(t.getCoordinateSequence(),t);if(null===o)return this._factory.createLinearRing(null);var s=o.size();return s>0&&s<4&&!this._preserveType?this._factory.createLineString(o):this._factory.createLinearRing(o)},xi.prototype.interfaces_=function(){return[]},xi.prototype.getClass=function(){return xi};var Ro=function t(){if(this._snapTolerance=0,this._srcPts=null,this._seg=new Pe,this._allowSnappingToSourceVertices=!1,this._isClosed=!1,arguments[0]instanceof Kn&&"number"==typeof arguments[1]){var o=arguments[1];t.call(this,arguments[0].getCoordinates(),o)}else if(arguments[0]instanceof Array&&"number"==typeof arguments[1]){var s=arguments[0],f=arguments[1];this._srcPts=s,this._isClosed=t.isClosed(s),this._snapTolerance=f}};Ro.prototype.snapVertices=function(t,e){for(var o=this._isClosed?t.size()-1:t.size(),s=0;s<o;s++){var f=t.get(s),v=this.findSnapForVertex(f,e);null!==v&&(t.set(s,new R(v)),0===s&&this._isClosed&&t.set(t.size()-1,new R(v)))}},Ro.prototype.findSnapForVertex=function(t,e){for(var o=0;o<e.length;o++){if(t.equals2D(e[o]))return null;if(t.distance(e[o])<this._snapTolerance)return e[o]}return null},Ro.prototype.snapTo=function(t){var e=new le(this._srcPts);return this.snapVertices(e,t),this.snapSegments(e,t),e.toCoordinateArray()},Ro.prototype.snapSegments=function(t,e){if(0===e.length)return null;var o=e.length;e[0].equals2D(e[e.length-1])&&(o=e.length-1);for(var s=0;s<o;s++){var f=e[s],v=this.findSegmentIndexToSnap(f,t);v>=0&&t.add(v+1,new R(f),!1)}},Ro.prototype.findSegmentIndexToSnap=function(t,e){for(var o=U.MAX_VALUE,s=-1,f=0;f<e.size()-1;f++){if(this._seg.p0=e.get(f),this._seg.p1=e.get(f+1),this._seg.p0.equals2D(t)||this._seg.p1.equals2D(t)){if(this._allowSnappingToSourceVertices)continue;return-1}var v=this._seg.distance(t);v<this._snapTolerance&&v<o&&(o=v,s=f)}return s},Ro.prototype.setAllowSnappingToSourceVertices=function(t){this._allowSnappingToSourceVertices=t},Ro.prototype.interfaces_=function(){return[]},Ro.prototype.getClass=function(){return Ro},Ro.isClosed=function(t){return!(t.length<=1)&&t[0].equals2D(t[t.length-1])};var ir=function(t){this._srcGeom=t||null},Za={SNAP_PRECISION_FACTOR:{configurable:!0}};ir.prototype.snapTo=function(t,e){var o=this.extractTargetCoordinates(t);return new ku(e,o).transform(this._srcGeom)},ir.prototype.snapToSelf=function(t,e){var o=this.extractTargetCoordinates(this._srcGeom),s=new ku(t,o,!0).transform(this._srcGeom),f=s;return e&&ee(f,Co)&&(f=s.buffer(0)),f},ir.prototype.computeSnapTolerance=function(t){return this.computeMinimumSegmentLength(t)/10},ir.prototype.extractTargetCoordinates=function(t){for(var e=new Ot,o=t.getCoordinates(),s=0;s<o.length;s++)e.add(o[s]);return e.toArray(new Array(0).fill(null))},ir.prototype.computeMinimumSegmentLength=function(t){for(var e=U.MAX_VALUE,o=0;o<t.length-1;o++){var s=t[o].distance(t[o+1]);s<e&&(e=s)}return e},ir.prototype.interfaces_=function(){return[]},ir.prototype.getClass=function(){return ir},ir.snap=function(t,e,o){var s=new Array(2).fill(null),f=new ir(t);s[0]=f.snapTo(e,o);var v=new ir(e);return s[1]=v.snapTo(s[0],o),s},ir.computeOverlaySnapTolerance=function(){if(1===arguments.length){var t=arguments[0],e=ir.computeSizeBasedSnapTolerance(t),o=t.getPrecisionModel();if(o.getType()===Je.FIXED){var s=1/o.getScale()*2/1.415;s>e&&(e=s)}return e}if(2===arguments.length){var v=arguments[1];return Math.min(ir.computeOverlaySnapTolerance(arguments[0]),ir.computeOverlaySnapTolerance(v))}},ir.computeSizeBasedSnapTolerance=function(t){var e=t.getEnvelopeInternal();return Math.min(e.getHeight(),e.getWidth())*ir.SNAP_PRECISION_FACTOR},ir.snapToSelf=function(t,e,o){return new ir(t).snapToSelf(e,o)},Za.SNAP_PRECISION_FACTOR.get=function(){return 1e-9},Object.defineProperties(ir,Za);var ku=function(t){function e(o,s,f){t.call(this),this._snapTolerance=o||null,this._snapPts=s||null,this._isSelfSnap=void 0!==f&&f}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.snapLine=function(o,s){var f=new Ro(o,this._snapTolerance);return f.setAllowSnappingToSourceVertices(this._isSelfSnap),f.snapTo(s)},e.prototype.transformCoordinates=function(o,s){var f=o.toCoordinateArray(),v=this.snapLine(f,this._snapPts);return this._factory.getCoordinateSequenceFactory().create(v)},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e}(xi),li=function(){this._isFirst=!0,this._commonMantissaBitsCount=53,this._commonBits=0,this._commonSignExp=null};li.prototype.getCommon=function(){return U.longBitsToDouble(this._commonBits)},li.prototype.add=function(t){var e=U.doubleToLongBits(t);return this._isFirst?(this._commonBits=e,this._commonSignExp=li.signExpBits(this._commonBits),this._isFirst=!1,null):li.signExpBits(e)!==this._commonSignExp?(this._commonBits=0,null):(this._commonMantissaBitsCount=li.numCommonMostSigMantissaBits(this._commonBits,e),void(this._commonBits=li.zeroLowerBits(this._commonBits,64-(12+this._commonMantissaBitsCount))))},li.prototype.toString=function(){if(1===arguments.length){var t=arguments[0],e=U.longBitsToDouble(t),o="0000000000000000000000000000000000000000000000000000000000000000"+U.toBinaryString(t),s=o.substring(o.length-64);return s.substring(0,1)+"  "+s.substring(1,12)+"(exp) "+s.substring(12)+" [ "+e+" ]"}},li.prototype.interfaces_=function(){return[]},li.prototype.getClass=function(){return li},li.getBit=function(t,e){return t&1<<e?1:0},li.signExpBits=function(t){return t>>52},li.zeroLowerBits=function(t,e){return t&~((1<<e)-1)},li.numCommonMostSigMantissaBits=function(t,e){for(var o=0,s=52;s>=0;s--){if(li.getBit(t,s)!==li.getBit(e,s))return o;o++}return 52};var Xo=function(){this._commonCoord=null,this._ccFilter=new As},Qa={CommonCoordinateFilter:{configurable:!0},Translater:{configurable:!0}};Xo.prototype.addCommonBits=function(t){var e=new Yo(this._commonCoord);t.apply(e),t.geometryChanged()},Xo.prototype.removeCommonBits=function(t){if(0===this._commonCoord.x&&0===this._commonCoord.y)return t;var e=new R(this._commonCoord);e.x=-e.x,e.y=-e.y;var o=new Yo(e);return t.apply(o),t.geometryChanged(),t},Xo.prototype.getCommonCoordinate=function(){return this._commonCoord},Xo.prototype.add=function(t){t.apply(this._ccFilter),this._commonCoord=this._ccFilter.getCommonCoordinate()},Xo.prototype.interfaces_=function(){return[]},Xo.prototype.getClass=function(){return Xo},Qa.CommonCoordinateFilter.get=function(){return As},Qa.Translater.get=function(){return Yo},Object.defineProperties(Xo,Qa);var As=function(){this._commonBitsX=new li,this._commonBitsY=new li};As.prototype.filter=function(t){this._commonBitsX.add(t.x),this._commonBitsY.add(t.y)},As.prototype.getCommonCoordinate=function(){return new R(this._commonBitsX.getCommon(),this._commonBitsY.getCommon())},As.prototype.interfaces_=function(){return[P]},As.prototype.getClass=function(){return As};var Yo=function(){this.trans=null,this.trans=arguments[0]};Yo.prototype.filter=function(t,e){var o=t.getOrdinate(e,0)+this.trans.x,s=t.getOrdinate(e,1)+this.trans.y;t.setOrdinate(e,0,o),t.setOrdinate(e,1,s)},Yo.prototype.isDone=function(){return!1},Yo.prototype.isGeometryChanged=function(){return!0},Yo.prototype.interfaces_=function(){return[xr]},Yo.prototype.getClass=function(){return Yo};var Br=function(t,e){this._geom=new Array(2).fill(null),this._snapTolerance=null,this._cbr=null,this._geom[0]=t,this._geom[1]=e,this.computeSnapTolerance()};Br.prototype.selfSnap=function(t){return new ir(t).snapTo(t,this._snapTolerance)},Br.prototype.removeCommonBits=function(t){this._cbr=new Xo,this._cbr.add(t[0]),this._cbr.add(t[1]);var e=new Array(2).fill(null);return e[0]=this._cbr.removeCommonBits(t[0].copy()),e[1]=this._cbr.removeCommonBits(t[1].copy()),e},Br.prototype.prepareResult=function(t){return this._cbr.addCommonBits(t),t},Br.prototype.getResultGeometry=function(t){var e=this.snap(this._geom),o=Ge.overlayOp(e[0],e[1],t);return this.prepareResult(o)},Br.prototype.checkValid=function(t){t.isValid()||Xe.out.println("Snapped geometry is invalid")},Br.prototype.computeSnapTolerance=function(){this._snapTolerance=ir.computeOverlaySnapTolerance(this._geom[0],this._geom[1])},Br.prototype.snap=function(t){var e=this.removeCommonBits(t);return ir.snap(e[0],e[1],this._snapTolerance)},Br.prototype.interfaces_=function(){return[]},Br.prototype.getClass=function(){return Br},Br.overlayOp=function(t,e,o){return new Br(t,e).getResultGeometry(o)},Br.union=function(t,e){return Br.overlayOp(t,e,Ge.UNION)},Br.intersection=function(t,e){return Br.overlayOp(t,e,Ge.INTERSECTION)},Br.symDifference=function(t,e){return Br.overlayOp(t,e,Ge.SYMDIFFERENCE)},Br.difference=function(t,e){return Br.overlayOp(t,e,Ge.DIFFERENCE)};var ci=function(t,e){this._geom=new Array(2).fill(null),this._geom[0]=t,this._geom[1]=e};ci.prototype.getResultGeometry=function(t){var e=null,o=!1,s=null;try{e=Ge.overlayOp(this._geom[0],this._geom[1],t),o=!0}catch(f){if(!(f instanceof Jn))throw f;s=f}if(!o)try{e=Br.overlayOp(this._geom[0],this._geom[1],t)}catch(f){throw f instanceof Jn?s:f}return e},ci.prototype.interfaces_=function(){return[]},ci.prototype.getClass=function(){return ci},ci.overlayOp=function(t,e,o){return new ci(t,e).getResultGeometry(o)},ci.union=function(t,e){return ci.overlayOp(t,e,Ge.UNION)},ci.intersection=function(t,e){return ci.overlayOp(t,e,Ge.INTERSECTION)},ci.symDifference=function(t,e){return ci.overlayOp(t,e,Ge.SYMDIFFERENCE)},ci.difference=function(t,e){return ci.overlayOp(t,e,Ge.DIFFERENCE)};var ra=function(){this.mce=null,this.chainIndex=null;var e=arguments[1];this.mce=arguments[0],this.chainIndex=e};ra.prototype.computeIntersections=function(t,e){this.mce.computeIntersectsForChain(this.chainIndex,t.mce,t.chainIndex,e)},ra.prototype.interfaces_=function(){return[]},ra.prototype.getClass=function(){return ra};var Li=function t(){if(this._label=null,this._xValue=null,this._eventType=null,this._insertEvent=null,this._deleteEventIndex=null,this._obj=null,2===arguments.length){var e=arguments[0],o=arguments[1];this._eventType=t.DELETE,this._xValue=e,this._insertEvent=o}else if(3===arguments.length){var s=arguments[0],f=arguments[1],v=arguments[2];this._eventType=t.INSERT,this._label=s,this._xValue=f,this._obj=v}},Ka={INSERT:{configurable:!0},DELETE:{configurable:!0}};Li.prototype.isDelete=function(){return this._eventType===Li.DELETE},Li.prototype.setDeleteEventIndex=function(t){this._deleteEventIndex=t},Li.prototype.getObject=function(){return this._obj},Li.prototype.compareTo=function(t){return this._xValue<t._xValue?-1:this._xValue>t._xValue?1:this._eventType<t._eventType?-1:this._eventType>t._eventType?1:0},Li.prototype.getInsertEvent=function(){return this._insertEvent},Li.prototype.isInsert=function(){return this._eventType===Li.INSERT},Li.prototype.isSameLabel=function(t){return null!==this._label&&this._label===t._label},Li.prototype.getDeleteEventIndex=function(){return this._deleteEventIndex},Li.prototype.interfaces_=function(){return[rt]},Li.prototype.getClass=function(){return Li},Ka.INSERT.get=function(){return 1},Ka.DELETE.get=function(){return 2},Object.defineProperties(Li,Ka);var xa=function(){};xa.prototype.interfaces_=function(){return[]},xa.prototype.getClass=function(){return xa};var Gr=function(){this._hasIntersection=!1,this._hasProper=!1,this._hasProperInterior=!1,this._properIntersectionPoint=null,this._li=null,this._includeProper=null,this._recordIsolated=null,this._isSelfIntersection=null,this._numIntersections=0,this.numTests=0,this._bdyNodes=null,this._isDone=!1,this._isDoneWhenProperInt=!1;var e=arguments[1],o=arguments[2];this._li=arguments[0],this._includeProper=e,this._recordIsolated=o};Gr.prototype.isTrivialIntersection=function(t,e,o,s){if(t===o&&1===this._li.getIntersectionNum()){if(Gr.isAdjacentSegments(e,s))return!0;if(t.isClosed()){var f=t.getNumPoints()-1;if(0===e&&s===f||0===s&&e===f)return!0}}return!1},Gr.prototype.getProperIntersectionPoint=function(){return this._properIntersectionPoint},Gr.prototype.setIsDoneIfProperInt=function(t){this._isDoneWhenProperInt=t},Gr.prototype.hasProperInteriorIntersection=function(){return this._hasProperInterior},Gr.prototype.isBoundaryPointInternal=function(t,e){for(var o=e.iterator();o.hasNext();){var s=o.next().getCoordinate();if(t.isIntersection(s))return!0}return!1},Gr.prototype.hasProperIntersection=function(){return this._hasProper},Gr.prototype.hasIntersection=function(){return this._hasIntersection},Gr.prototype.isDone=function(){return this._isDone},Gr.prototype.isBoundaryPoint=function(t,e){return!(null===e||!this.isBoundaryPointInternal(t,e[0])&&!this.isBoundaryPointInternal(t,e[1]))},Gr.prototype.setBoundaryNodes=function(t,e){this._bdyNodes=new Array(2).fill(null),this._bdyNodes[0]=t,this._bdyNodes[1]=e},Gr.prototype.addIntersections=function(t,e,o,s){if(t===o&&e===s)return null;this.numTests++;var f=t.getCoordinates()[e],v=t.getCoordinates()[e+1],E=o.getCoordinates()[s],S=o.getCoordinates()[s+1];this._li.computeIntersection(f,v,E,S),this._li.hasIntersection()&&(this._recordIsolated&&(t.setIsolated(!1),o.setIsolated(!1)),this._numIntersections++,this.isTrivialIntersection(t,e,o,s)||(this._hasIntersection=!0,!this._includeProper&&this._li.isProper()||(t.addIntersections(this._li,e,0),o.addIntersections(this._li,s,1)),this._li.isProper()&&(this._properIntersectionPoint=this._li.getIntersection(0).copy(),this._hasProper=!0,this._isDoneWhenProperInt&&(this._isDone=!0),this.isBoundaryPoint(this._li,this._bdyNodes)||(this._hasProperInterior=!0))))},Gr.prototype.interfaces_=function(){return[]},Gr.prototype.getClass=function(){return Gr},Gr.isAdjacentSegments=function(t,e){return 1===Math.abs(t-e)};var wa=function(t){function e(){t.call(this),this.events=new $,this.nOverlaps=null}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.prepareEvents=function(){no.sort(this.events);for(var o=0;o<this.events.size();o++){var s=this.events.get(o);s.isDelete()&&s.getInsertEvent().setDeleteEventIndex(o)}},e.prototype.computeIntersections=function(){if(1===arguments.length){var o=arguments[0];this.nOverlaps=0,this.prepareEvents();for(var s=0;s<this.events.size();s++){var f=this.events.get(s);if(f.isInsert()&&this.processOverlaps(s,f.getDeleteEventIndex(),f,o),o.isDone())break}}else if(3===arguments.length)if(arguments[2]instanceof Gr&&ee(arguments[0],ce)&&ee(arguments[1],ce)){var v=arguments[0],E=arguments[1],S=arguments[2];this.addEdges(v,v),this.addEdges(E,E),this.computeIntersections(S)}else if("boolean"==typeof arguments[2]&&ee(arguments[0],ce)&&arguments[1]instanceof Gr){var q=arguments[0],it=arguments[1];arguments[2]?this.addEdges(q,null):this.addEdges(q),this.computeIntersections(it)}},e.prototype.addEdge=function(o,s){for(var f=o.getMonotoneChainEdge(),v=f.getStartIndexes(),E=0;E<v.length-1;E++){var S=new ra(f,E),q=new Li(s,f.getMinX(E),S);this.events.add(q),this.events.add(new Li(f.getMaxX(E),q))}},e.prototype.processOverlaps=function(o,s,f,v){for(var E=f.getObject(),S=o;S<s;S++){var q=this.events.get(S);if(q.isInsert()){var it=q.getObject();f.isSameLabel(q)||(E.computeIntersections(it,v),this.nOverlaps++)}}},e.prototype.addEdges=function(){if(1===arguments.length)for(var o=arguments[0].iterator();o.hasNext();){var s=o.next();this.addEdge(s,s)}else if(2===arguments.length)for(var v=arguments[1],E=arguments[0].iterator();E.hasNext();){var S=E.next();this.addEdge(S,v)}},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e}(xa),so=function(){this._min=U.POSITIVE_INFINITY,this._max=U.NEGATIVE_INFINITY},Ia={NodeComparator:{configurable:!0}};so.prototype.getMin=function(){return this._min},so.prototype.intersects=function(t,e){return!(this._min>e||this._max<t)},so.prototype.getMax=function(){return this._max},so.prototype.toString=function(){return cr.toLineString(new R(this._min,0),new R(this._max,0))},so.prototype.interfaces_=function(){return[]},so.prototype.getClass=function(){return so},Ia.NodeComparator.get=function(){return Ts},Object.defineProperties(so,Ia);var Ts=function(){};Ts.prototype.compare=function(t,e){var f=(t._min+t._max)/2,v=(e._min+e._max)/2;return f<v?-1:f>v?1:0},Ts.prototype.interfaces_=function(){return[pt]},Ts.prototype.getClass=function(){return Ts};var zu=function(t){function e(){t.call(this),this._item=null;var s=arguments[1],f=arguments[2];this._min=arguments[0],this._max=s,this._item=f}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.query=function(o,s,f){if(!this.intersects(o,s))return null;f.visitItem(this._item)},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e}(so),Uu=function(t){function e(){t.call(this),this._node1=null,this._node2=null;var s=arguments[1];this._node1=arguments[0],this._node2=s,this.buildExtent(this._node1,this._node2)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.buildExtent=function(o,s){this._min=Math.min(o._min,s._min),this._max=Math.max(o._max,s._max)},e.prototype.query=function(o,s,f){if(!this.intersects(o,s))return null;null!==this._node1&&this._node1.query(o,s,f),null!==this._node2&&this._node2.query(o,s,f)},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e}(so),xo=function(){this._leaves=new $,this._root=null,this._level=0};xo.prototype.buildTree=function(){no.sort(this._leaves,new so.NodeComparator);for(var t=this._leaves,e=null,o=new $;;){if(this.buildLevel(t,o),1===o.size())return o.get(0);e=t,t=o,o=e}},xo.prototype.insert=function(t,e,o){if(null!==this._root)throw new Error("Index cannot be added to once it has been queried");this._leaves.add(new zu(t,e,o))},xo.prototype.query=function(t,e,o){this.init(),this._root.query(t,e,o)},xo.prototype.buildRoot=function(){if(null!==this._root)return null;this._root=this.buildTree()},xo.prototype.printNode=function(t){Xe.out.println(cr.toLineString(new R(t._min,this._level),new R(t._max,this._level)))},xo.prototype.init=function(){if(null!==this._root)return null;this.buildRoot()},xo.prototype.buildLevel=function(t,e){this._level++,e.clear();for(var o=0;o<t.size();o+=2){var s=t.get(o);if(null===(o+1<t.size()?t.get(o):null))e.add(s);else{var f=new Uu(t.get(o),t.get(o+1));e.add(f)}}},xo.prototype.interfaces_=function(){return[]},xo.prototype.getClass=function(){return xo};var rs=function(){this._items=new $};rs.prototype.visitItem=function(t){this._items.add(t)},rs.prototype.getItems=function(){return this._items},rs.prototype.interfaces_=function(){return[po]},rs.prototype.getClass=function(){return rs};var Ds=function(){this._index=null;var t=arguments[0];if(!ee(t,Co))throw new Q("Argument must be Polygonal");this._index=new is(t)},zs={SegmentVisitor:{configurable:!0},IntervalIndexedGeometry:{configurable:!0}};Ds.prototype.locate=function(t){var e=new kn(t),o=new Us(e);return this._index.query(t.y,t.y,o),e.getLocation()},Ds.prototype.interfaces_=function(){return[Bo]},Ds.prototype.getClass=function(){return Ds},zs.SegmentVisitor.get=function(){return Us},zs.IntervalIndexedGeometry.get=function(){return is},Object.defineProperties(Ds,zs);var Us=function(){this._counter=null,this._counter=arguments[0]};Us.prototype.visitItem=function(t){var e=t;this._counter.countSegment(e.getCoordinate(0),e.getCoordinate(1))},Us.prototype.interfaces_=function(){return[po]},Us.prototype.getClass=function(){return Us};var is=function(){this._index=new xo,this.init(arguments[0])};is.prototype.init=function(t){for(var e=Ar.getLines(t).iterator();e.hasNext();){var o=e.next().getCoordinates();this.addLine(o)}},is.prototype.addLine=function(t){for(var e=1;e<t.length;e++){var o=new Pe(t[e-1],t[e]),s=Math.min(o.p0.y,o.p1.y),f=Math.max(o.p0.y,o.p1.y);this._index.insert(s,f,o)}},is.prototype.query=function(){if(2===arguments.length){var t=arguments[0],e=arguments[1],o=new rs;return this._index.query(t,e,o),o.getItems()}3===arguments.length&&this._index.query(arguments[0],arguments[1],arguments[2])},is.prototype.interfaces_=function(){return[]},is.prototype.getClass=function(){return is};var Fs=function(t){function e(){if(t.call(this),this._parentGeom=null,this._lineEdgeMap=new Vs,this._boundaryNodeRule=null,this._useBoundaryDeterminationRule=!0,this._argIndex=null,this._boundaryNodes=null,this._hasTooFewPoints=!1,this._invalidPoint=null,this._areaPtLocator=null,this._ptLocator=new ji,2===arguments.length){var s=arguments[1],f=M.OGC_SFS_BOUNDARY_RULE;this._argIndex=arguments[0],this._parentGeom=s,this._boundaryNodeRule=f,null!==s&&this.add(s)}else if(3===arguments.length){var E=arguments[1],S=arguments[2];this._argIndex=arguments[0],this._parentGeom=E,this._boundaryNodeRule=S,null!==E&&this.add(E)}}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.insertBoundaryPoint=function(o,s){var f=this._nodes.addNode(s).getLabel(),v=1;f.getLocation(o,Kt.ON)===X.BOUNDARY&&v++;var E=e.determineBoundary(this._boundaryNodeRule,v);f.setLocation(o,E)},e.prototype.computeSelfNodes=function(){if(2===arguments.length)return this.computeSelfNodes(arguments[0],arguments[1],!1);if(3===arguments.length){var v=arguments[1],E=arguments[2],S=new Gr(arguments[0],!0,!1);return S.setIsDoneIfProperInt(E),this.createEdgeSetIntersector().computeIntersections(this._edges,S,v||!(this._parentGeom instanceof Gi||this._parentGeom instanceof ur||this._parentGeom instanceof qi)),this.addSelfIntersectionNodes(this._argIndex),S}},e.prototype.computeSplitEdges=function(o){for(var s=this._edges.iterator();s.hasNext();)s.next().eiList.addSplitEdges(o)},e.prototype.computeEdgeIntersections=function(o,s,f){var v=new Gr(s,f,!0);return v.setBoundaryNodes(this.getBoundaryNodes(),o.getBoundaryNodes()),this.createEdgeSetIntersector().computeIntersections(this._edges,o._edges,v),v},e.prototype.getGeometry=function(){return this._parentGeom},e.prototype.getBoundaryNodeRule=function(){return this._boundaryNodeRule},e.prototype.hasTooFewPoints=function(){return this._hasTooFewPoints},e.prototype.addPoint=function(){if(arguments[0]instanceof ri){var o=arguments[0].getCoordinate();this.insertPoint(this._argIndex,o,X.INTERIOR)}else arguments[0]instanceof R&&this.insertPoint(this._argIndex,arguments[0],X.INTERIOR)},e.prototype.addPolygon=function(o){this.addPolygonRing(o.getExteriorRing(),X.EXTERIOR,X.INTERIOR);for(var s=0;s<o.getNumInteriorRing();s++){var f=o.getInteriorRingN(s);this.addPolygonRing(f,X.INTERIOR,X.EXTERIOR)}},e.prototype.addEdge=function(o){this.insertEdge(o);var s=o.getCoordinates();this.insertPoint(this._argIndex,s[0],X.BOUNDARY),this.insertPoint(this._argIndex,s[s.length-1],X.BOUNDARY)},e.prototype.addLineString=function(o){var s=oe.removeRepeatedPoints(o.getCoordinates());if(s.length<2)return this._hasTooFewPoints=!0,this._invalidPoint=s[0],null;var f=new va(s,new sn(this._argIndex,X.INTERIOR));this._lineEdgeMap.put(o,f),this.insertEdge(f),Ae.isTrue(s.length>=2,"found LineString with single point"),this.insertBoundaryPoint(this._argIndex,s[0]),this.insertBoundaryPoint(this._argIndex,s[s.length-1])},e.prototype.getInvalidPoint=function(){return this._invalidPoint},e.prototype.getBoundaryPoints=function(){for(var o=this.getBoundaryNodes(),s=new Array(o.size()).fill(null),f=0,v=o.iterator();v.hasNext();){var E=v.next();s[f++]=E.getCoordinate().copy()}return s},e.prototype.getBoundaryNodes=function(){return null===this._boundaryNodes&&(this._boundaryNodes=this._nodes.getBoundaryNodes(this._argIndex)),this._boundaryNodes},e.prototype.addSelfIntersectionNode=function(o,s,f){if(this.isBoundaryNode(o,s))return null;f===X.BOUNDARY&&this._useBoundaryDeterminationRule?this.insertBoundaryPoint(o,s):this.insertPoint(o,s,f)},e.prototype.addPolygonRing=function(o,s,f){if(o.isEmpty())return null;var v=oe.removeRepeatedPoints(o.getCoordinates());if(v.length<4)return this._hasTooFewPoints=!0,this._invalidPoint=v[0],null;var E=s,S=f;se.isCCW(v)&&(E=f,S=s);var q=new va(v,new sn(this._argIndex,X.BOUNDARY,E,S));this._lineEdgeMap.put(o,q),this.insertEdge(q),this.insertPoint(this._argIndex,v[0],X.BOUNDARY)},e.prototype.insertPoint=function(o,s,f){var v=this._nodes.addNode(s),E=v.getLabel();null===E?v._label=new sn(o,f):E.setLocation(o,f)},e.prototype.createEdgeSetIntersector=function(){return new wa},e.prototype.addSelfIntersectionNodes=function(o){for(var s=this._edges.iterator();s.hasNext();)for(var f=s.next(),v=f.getLabel().getLocation(o),E=f.eiList.iterator();E.hasNext();){var S=E.next();this.addSelfIntersectionNode(o,S.coord,v)}},e.prototype.add=function(){if(1!==arguments.length)return t.prototype.add.apply(this,arguments);var o=arguments[0];if(o.isEmpty())return null;if(o instanceof qi&&(this._useBoundaryDeterminationRule=!1),o instanceof ur)this.addPolygon(o);else if(o instanceof Kn)this.addLineString(o);else if(o instanceof ri)this.addPoint(o);else if(o instanceof ps)this.addCollection(o);else if(o instanceof So)this.addCollection(o);else if(o instanceof qi)this.addCollection(o);else{if(!(o instanceof hr))throw new Error(o.getClass().getName());this.addCollection(o)}},e.prototype.addCollection=function(o){for(var s=0;s<o.getNumGeometries();s++){var f=o.getGeometryN(s);this.add(f)}},e.prototype.locate=function(o){return ee(this._parentGeom,Co)&&this._parentGeom.getNumGeometries()>50?(null===this._areaPtLocator&&(this._areaPtLocator=new Ds(this._parentGeom)),this._areaPtLocator.locate(o)):this._ptLocator.locate(o,this._parentGeom)},e.prototype.findEdge=function(){return 1===arguments.length?this._lineEdgeMap.get(arguments[0]):t.prototype.findEdge.apply(this,arguments)},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e.determineBoundary=function(o,s){return o.isInBoundary(s)?X.BOUNDARY:X.INTERIOR},e}(Me),Es=function(){if(this._li=new kr,this._resultPrecisionModel=null,this._arg=null,1===arguments.length){var t=arguments[0];this.setComputationPrecision(t.getPrecisionModel()),this._arg=new Array(1).fill(null),this._arg[0]=new Fs(0,t)}else if(2===arguments.length){var e=arguments[0],o=arguments[1],s=M.OGC_SFS_BOUNDARY_RULE;e.getPrecisionModel().compareTo(o.getPrecisionModel())>=0?this.setComputationPrecision(e.getPrecisionModel()):this.setComputationPrecision(o.getPrecisionModel()),this._arg=new Array(2).fill(null),this._arg[0]=new Fs(0,e,s),this._arg[1]=new Fs(1,o,s)}else if(3===arguments.length){var f=arguments[0],v=arguments[1],E=arguments[2];f.getPrecisionModel().compareTo(v.getPrecisionModel())>=0?this.setComputationPrecision(f.getPrecisionModel()):this.setComputationPrecision(v.getPrecisionModel()),this._arg=new Array(2).fill(null),this._arg[0]=new Fs(0,f,E),this._arg[1]=new Fs(1,v,E)}};Es.prototype.getArgGeometry=function(t){return this._arg[t].getGeometry()},Es.prototype.setComputationPrecision=function(t){this._resultPrecisionModel=t,this._li.setPrecisionModel(this._resultPrecisionModel)},Es.prototype.interfaces_=function(){return[]},Es.prototype.getClass=function(){return Es};var os=function(){};os.prototype.interfaces_=function(){return[]},os.prototype.getClass=function(){return os},os.map=function(){if(arguments[0]instanceof Le&&ee(arguments[1],os.MapOp)){for(var t=arguments[0],e=arguments[1],o=new $,s=0;s<t.getNumGeometries();s++){var f=e.map(t.getGeometryN(s));null!==f&&o.add(f)}return t.getFactory().buildGeometry(o)}if(ee(arguments[0],Xt)&&ee(arguments[1],os.MapOp)){for(var v=arguments[0],E=arguments[1],S=new $,q=v.iterator();q.hasNext();){var it=q.next(),Mt=E.map(it);null!==Mt&&S.add(Mt)}return S}},os.MapOp=function(){};var Ge=function(t){function e(){var o=arguments[0];t.call(this,o,arguments[1]),this._ptLocator=new ji,this._geomFact=null,this._resultGeom=null,this._graph=null,this._edgeList=new si,this._resultPolyList=new $,this._resultLineList=new $,this._resultPointList=new $,this._graph=new Me(new Va),this._geomFact=o.getFactory()}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.insertUniqueEdge=function(o){var s=this._edgeList.findEqualEdge(o);if(null!==s){var f=s.getLabel(),v=o.getLabel();s.isPointwiseEqual(o)||(v=new sn(o.getLabel())).flip();var E=s.getDepth();E.isNull()&&E.add(f),E.add(v),f.merge(v)}else this._edgeList.add(o)},e.prototype.getGraph=function(){return this._graph},e.prototype.cancelDuplicateResultEdges=function(){for(var o=this._graph.getEdgeEnds().iterator();o.hasNext();){var s=o.next(),f=s.getSym();s.isInResult()&&f.isInResult()&&(s.setInResult(!1),f.setInResult(!1))}},e.prototype.isCoveredByLA=function(o){return!!this.isCovered(o,this._resultLineList)||!!this.isCovered(o,this._resultPolyList)},e.prototype.computeGeometry=function(o,s,f,v){var E=new $;return E.addAll(o),E.addAll(s),E.addAll(f),E.isEmpty()?e.createEmptyResult(v,this._arg[0].getGeometry(),this._arg[1].getGeometry(),this._geomFact):this._geomFact.buildGeometry(E)},e.prototype.mergeSymLabels=function(){for(var o=this._graph.getNodes().iterator();o.hasNext();)o.next().getEdges().mergeSymLabels()},e.prototype.isCovered=function(o,s){for(var f=s.iterator();f.hasNext();){var v=f.next();if(this._ptLocator.locate(o,v)!==X.EXTERIOR)return!0}return!1},e.prototype.replaceCollapsedEdges=function(){for(var o=new $,s=this._edgeList.iterator();s.hasNext();){var f=s.next();f.isCollapsed()&&(s.remove(),o.add(f.getCollapsedEdge()))}this._edgeList.addAll(o)},e.prototype.updateNodeLabelling=function(){for(var o=this._graph.getNodes().iterator();o.hasNext();){var s=o.next(),f=s.getEdges().getLabel();s.getLabel().merge(f)}},e.prototype.getResultGeometry=function(o){return this.computeOverlay(o),this._resultGeom},e.prototype.insertUniqueEdges=function(o){for(var s=o.iterator();s.hasNext();){var f=s.next();this.insertUniqueEdge(f)}},e.prototype.computeOverlay=function(o){this.copyPoints(0),this.copyPoints(1),this._arg[0].computeSelfNodes(this._li,!1),this._arg[1].computeSelfNodes(this._li,!1),this._arg[0].computeEdgeIntersections(this._arg[1],this._li,!0);var s=new $;this._arg[0].computeSplitEdges(s),this._arg[1].computeSplitEdges(s),this.insertUniqueEdges(s),this.computeLabelsFromDepths(),this.replaceCollapsedEdges(),ns.checkValid(this._edgeList.getEdges()),this._graph.addEdges(this._edgeList.getEdges()),this.computeLabelling(),this.labelIncompleteNodes(),this.findResultAreaEdges(o),this.cancelDuplicateResultEdges();var f=new pr(this._geomFact);f.add(this._graph),this._resultPolyList=f.getPolygons();var v=new Eo(this,this._geomFact,this._ptLocator);this._resultLineList=v.build(o);var E=new Rs(this,this._geomFact,this._ptLocator);this._resultPointList=E.build(o),this._resultGeom=this.computeGeometry(this._resultPointList,this._resultLineList,this._resultPolyList,o)},e.prototype.labelIncompleteNode=function(o,s){var f=this._ptLocator.locate(o.getCoordinate(),this._arg[s].getGeometry());o.getLabel().setLocation(s,f)},e.prototype.copyPoints=function(o){for(var s=this._arg[o].getNodeIterator();s.hasNext();){var f=s.next();this._graph.addNode(f.getCoordinate()).setLabel(o,f.getLabel().getLocation(o))}},e.prototype.findResultAreaEdges=function(o){for(var s=this._graph.getEdgeEnds().iterator();s.hasNext();){var f=s.next(),v=f.getLabel();v.isArea()&&!f.isInteriorAreaEdge()&&e.isResultOfOp(v.getLocation(0,Kt.RIGHT),v.getLocation(1,Kt.RIGHT),o)&&f.setInResult(!0)}},e.prototype.computeLabelsFromDepths=function(){for(var o=this._edgeList.iterator();o.hasNext();){var s=o.next(),f=s.getLabel(),v=s.getDepth();if(!v.isNull()){v.normalize();for(var E=0;E<2;E++)f.isNull(E)||!f.isArea()||v.isNull(E)||(0===v.getDelta(E)?f.toLine(E):(Ae.isTrue(!v.isNull(E,Kt.LEFT),"depth of LEFT side has not been initialized"),f.setLocation(E,Kt.LEFT,v.getLocation(E,Kt.LEFT)),Ae.isTrue(!v.isNull(E,Kt.RIGHT),"depth of RIGHT side has not been initialized"),f.setLocation(E,Kt.RIGHT,v.getLocation(E,Kt.RIGHT))))}}},e.prototype.computeLabelling=function(){for(var o=this._graph.getNodes().iterator();o.hasNext();)o.next().getEdges().computeLabelling(this._arg);this.mergeSymLabels(),this.updateNodeLabelling()},e.prototype.labelIncompleteNodes=function(){for(var o=this._graph.getNodes().iterator();o.hasNext();){var s=o.next(),f=s.getLabel();s.isIsolated()&&(f.isNull(0)?this.labelIncompleteNode(s,0):this.labelIncompleteNode(s,1)),s.getEdges().updateLabelling(f)}},e.prototype.isCoveredByA=function(o){return!!this.isCovered(o,this._resultPolyList)},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e}(Es);Ge.overlayOp=function(t,e,o){return new Ge(t,e).getResultGeometry(o)},Ge.intersection=function(t,e){if(t.isEmpty()||e.isEmpty())return Ge.createEmptyResult(Ge.INTERSECTION,t,e,t.getFactory());if(t.isGeometryCollection()){var o=e;return Uo.map(t,{interfaces_:function(){return[os.MapOp]},map:function(s){return s.intersection(o)}})}return t.checkNotGeometryCollection(t),t.checkNotGeometryCollection(e),ci.overlayOp(t,e,Ge.INTERSECTION)},Ge.symDifference=function(t,e){if(t.isEmpty()||e.isEmpty()){if(t.isEmpty()&&e.isEmpty())return Ge.createEmptyResult(Ge.SYMDIFFERENCE,t,e,t.getFactory());if(t.isEmpty())return e.copy();if(e.isEmpty())return t.copy()}return t.checkNotGeometryCollection(t),t.checkNotGeometryCollection(e),ci.overlayOp(t,e,Ge.SYMDIFFERENCE)},Ge.resultDimension=function(t,e,o){var s=e.getDimension(),f=o.getDimension(),v=-1;switch(t){case Ge.INTERSECTION:v=Math.min(s,f);break;case Ge.UNION:v=Math.max(s,f);break;case Ge.DIFFERENCE:v=s;break;case Ge.SYMDIFFERENCE:v=Math.max(s,f)}return v},Ge.createEmptyResult=function(t,e,o,s){var f=null;switch(Ge.resultDimension(t,e,o)){case-1:f=s.createGeometryCollection(new Array(0).fill(null));break;case 0:f=s.createPoint();break;case 1:f=s.createLineString();break;case 2:f=s.createPolygon()}return f},Ge.difference=function(t,e){return t.isEmpty()?Ge.createEmptyResult(Ge.DIFFERENCE,t,e,t.getFactory()):e.isEmpty()?t.copy():(t.checkNotGeometryCollection(t),t.checkNotGeometryCollection(e),ci.overlayOp(t,e,Ge.DIFFERENCE))},Ge.isResultOfOp=function(){if(2===arguments.length){var t=arguments[0],e=arguments[1],o=t.getLocation(0),s=t.getLocation(1);return Ge.isResultOfOp(o,s,e)}if(3===arguments.length){var f=arguments[0],v=arguments[1];switch(f===X.BOUNDARY&&(f=X.INTERIOR),v===X.BOUNDARY&&(v=X.INTERIOR),arguments[2]){case Ge.INTERSECTION:return f===X.INTERIOR&&v===X.INTERIOR;case Ge.UNION:return f===X.INTERIOR||v===X.INTERIOR;case Ge.DIFFERENCE:return f===X.INTERIOR&&v!==X.INTERIOR;case Ge.SYMDIFFERENCE:return f===X.INTERIOR&&v!==X.INTERIOR||f!==X.INTERIOR&&v===X.INTERIOR}return!1}},Ge.INTERSECTION=1,Ge.UNION=2,Ge.DIFFERENCE=3,Ge.SYMDIFFERENCE=4;var ss=function(){this._g=null,this._boundaryDistanceTolerance=null,this._linework=null,this._ptLocator=new ji,this._seg=new Pe;var t=arguments[0],e=arguments[1];this._g=t,this._boundaryDistanceTolerance=e,this._linework=this.extractLinework(t)};ss.prototype.isWithinToleranceOfBoundary=function(t){for(var e=0;e<this._linework.getNumGeometries();e++)for(var o=this._linework.getGeometryN(e).getCoordinateSequence(),s=0;s<o.size()-1;s++)if(o.getCoordinate(s,this._seg.p0),o.getCoordinate(s+1,this._seg.p1),this._seg.distance(t)<=this._boundaryDistanceTolerance)return!0;return!1},ss.prototype.getLocation=function(t){return this.isWithinToleranceOfBoundary(t)?X.BOUNDARY:this._ptLocator.locate(t,this._g)},ss.prototype.extractLinework=function(t){var e=new Xs;t.apply(e);var o=e.getLinework(),s=Ye.toLineStringArray(o);return t.getFactory().createMultiLineString(s)},ss.prototype.interfaces_=function(){return[]},ss.prototype.getClass=function(){return ss};var Xs=function(){this._linework=null,this._linework=new $};Xs.prototype.getLinework=function(){return this._linework},Xs.prototype.filter=function(t){if(t instanceof ur){var e=t;this._linework.add(e.getExteriorRing());for(var o=0;o<e.getNumInteriorRing();o++)this._linework.add(e.getInteriorRingN(o))}},Xs.prototype.interfaces_=function(){return[ar]},Xs.prototype.getClass=function(){return Xs};var as=function(){this._g=null,this._doLeft=!0,this._doRight=!0,this._g=arguments[0]};as.prototype.extractPoints=function(t,e,o){for(var s=t.getCoordinates(),f=0;f<s.length-1;f++)this.computeOffsetPoints(s[f],s[f+1],e,o)},as.prototype.setSidesToGenerate=function(t,e){this._doLeft=t,this._doRight=e},as.prototype.getPoints=function(t){for(var e=new $,o=Ar.getLines(this._g).iterator();o.hasNext();){var s=o.next();this.extractPoints(s,t,e)}return e},as.prototype.computeOffsetPoints=function(t,e,o,s){var f=e.x-t.x,v=e.y-t.y,E=Math.sqrt(f*f+v*v),S=o*f/E,q=o*v/E,it=(e.x+t.x)/2,Mt=(e.y+t.y)/2;if(this._doLeft){var Dt=new R(it-q,Mt+S);s.add(Dt)}if(this._doRight){var ie=new R(it+q,Mt-S);s.add(ie)}},as.prototype.interfaces_=function(){return[]},as.prototype.getClass=function(){return as};var Oi=function t(){this._geom=null,this._locFinder=null,this._location=new Array(3).fill(null),this._invalidLocation=null,this._boundaryDistanceTolerance=t.TOLERANCE,this._testCoords=new $;var e=arguments[0],o=arguments[1],s=arguments[2];this._boundaryDistanceTolerance=t.computeBoundaryDistanceTolerance(e,o),this._geom=[e,o,s],this._locFinder=[new ss(this._geom[0],this._boundaryDistanceTolerance),new ss(this._geom[1],this._boundaryDistanceTolerance),new ss(this._geom[2],this._boundaryDistanceTolerance)]},Xu={TOLERANCE:{configurable:!0}};Oi.prototype.reportResult=function(t,e,o){Xe.out.println("Overlay result invalid - A:"+X.toLocationSymbol(e[0])+" B:"+X.toLocationSymbol(e[1])+" expected:"+(o?"i":"e")+" actual:"+X.toLocationSymbol(e[2]))},Oi.prototype.isValid=function(t){return this.addTestPts(this._geom[0]),this.addTestPts(this._geom[1]),this.checkValid(t)},Oi.prototype.checkValid=function(){if(1===arguments.length){for(var t=arguments[0],e=0;e<this._testCoords.size();e++){var o=this._testCoords.get(e);if(!this.checkValid(t,o))return this._invalidLocation=o,!1}return!0}if(2===arguments.length){var s=arguments[0],f=arguments[1];return this._location[0]=this._locFinder[0].getLocation(f),this._location[1]=this._locFinder[1].getLocation(f),this._location[2]=this._locFinder[2].getLocation(f),!!Oi.hasLocation(this._location,X.BOUNDARY)||this.isValidResult(s,this._location)}},Oi.prototype.addTestPts=function(t){var e=new as(t);this._testCoords.addAll(e.getPoints(5*this._boundaryDistanceTolerance))},Oi.prototype.isValidResult=function(t,e){var o=Ge.isResultOfOp(e[0],e[1],t),s=!(o^e[2]===X.INTERIOR);return s||this.reportResult(t,e,o),s},Oi.prototype.getInvalidLocation=function(){return this._invalidLocation},Oi.prototype.interfaces_=function(){return[]},Oi.prototype.getClass=function(){return Oi},Oi.hasLocation=function(t,e){for(var o=0;o<3;o++)if(t[o]===e)return!0;return!1},Oi.computeBoundaryDistanceTolerance=function(t,e){return Math.min(ir.computeSizeBasedSnapTolerance(t),ir.computeSizeBasedSnapTolerance(e))},Oi.isValid=function(t,e,o,s){return new Oi(t,e,s).isValid(o)},Xu.TOLERANCE.get=function(){return 1e-6},Object.defineProperties(Oi,Xu);var Fi=function t(e){this._geomFactory=null,this._skipEmpty=!1,this._inputGeoms=null,this._geomFactory=t.extractFactory(e),this._inputGeoms=e};Fi.prototype.extractElements=function(t,e){if(null===t)return null;for(var o=0;o<t.getNumGeometries();o++){var s=t.getGeometryN(o);this._skipEmpty&&s.isEmpty()||e.add(s)}},Fi.prototype.combine=function(){for(var t=new $,e=this._inputGeoms.iterator();e.hasNext();){var o=e.next();this.extractElements(o,t)}return 0===t.size()?null!==this._geomFactory?this._geomFactory.createGeometryCollection(null):null:this._geomFactory.buildGeometry(t)},Fi.prototype.interfaces_=function(){return[]},Fi.prototype.getClass=function(){return Fi},Fi.combine=function(){return 1===arguments.length?new Fi(arguments[0]).combine():2===arguments.length?new Fi(Fi.createList(arguments[0],arguments[1])).combine():3===arguments.length?new Fi(Fi.createList(arguments[0],arguments[1],arguments[2])).combine():void 0},Fi.extractFactory=function(t){return t.isEmpty()?null:t.iterator().next().getFactory()},Fi.createList=function(){if(2===arguments.length){var t=arguments[0],e=arguments[1],o=new $;return o.add(t),o.add(e),o}if(3===arguments.length){var s=arguments[0],f=arguments[1],v=arguments[2],E=new $;return E.add(s),E.add(f),E.add(v),E}};var mr=function(){this._inputPolys=null,this._geomFactory=null,this._inputPolys=arguments[0],null===this._inputPolys&&(this._inputPolys=new $)},Yu={STRTREE_NODE_CAPACITY:{configurable:!0}};mr.prototype.reduceToGeometries=function(t){for(var e=new $,o=t.iterator();o.hasNext();){var s=o.next(),f=null;ee(s,ce)?f=this.unionTree(s):s instanceof Le&&(f=s),e.add(f)}return e},mr.prototype.extractByEnvelope=function(t,e,o){for(var s=new $,f=0;f<e.getNumGeometries();f++){var v=e.getGeometryN(f);v.getEnvelopeInternal().intersects(t)?s.add(v):o.add(v)}return this._geomFactory.buildGeometry(s)},mr.prototype.unionOptimized=function(t,e){var o=t.getEnvelopeInternal(),s=e.getEnvelopeInternal();if(!o.intersects(s))return Fi.combine(t,e);if(t.getNumGeometries()<=1&&e.getNumGeometries()<=1)return this.unionActual(t,e);var f=o.intersection(s);return this.unionUsingEnvelopeIntersection(t,e,f)},mr.prototype.union=function(){if(null===this._inputPolys)throw new Error("union() method cannot be called twice");if(this._inputPolys.isEmpty())return null;this._geomFactory=this._inputPolys.iterator().next().getFactory();for(var t=new Ti(mr.STRTREE_NODE_CAPACITY),e=this._inputPolys.iterator();e.hasNext();){var o=e.next();t.insert(o.getEnvelopeInternal(),o)}this._inputPolys=null;var s=t.itemsTree();return this.unionTree(s)},mr.prototype.binaryUnion=function(){if(1===arguments.length){var t=arguments[0];return this.binaryUnion(t,0,t.size())}if(3===arguments.length){var e=arguments[0],o=arguments[1],s=arguments[2];if(s-o<=1){var f=mr.getGeometry(e,o);return this.unionSafe(f,null)}if(s-o==2)return this.unionSafe(mr.getGeometry(e,o),mr.getGeometry(e,o+1));var v=Math.trunc((s+o)/2),E=this.binaryUnion(e,o,v),S=this.binaryUnion(e,v,s);return this.unionSafe(E,S)}},mr.prototype.repeatedUnion=function(t){for(var e=null,o=t.iterator();o.hasNext();){var s=o.next();e=null===e?s.copy():e.union(s)}return e},mr.prototype.unionSafe=function(t,e){return null===t&&null===e?null:null===t?e.copy():null===e?t.copy():this.unionOptimized(t,e)},mr.prototype.unionActual=function(t,e){return mr.restrictToPolygons(t.union(e))},mr.prototype.unionTree=function(t){var e=this.reduceToGeometries(t);return this.binaryUnion(e)},mr.prototype.unionUsingEnvelopeIntersection=function(t,e,o){var s=new $,f=this.extractByEnvelope(o,t,s),v=this.extractByEnvelope(o,e,s),E=this.unionActual(f,v);return s.add(E),Fi.combine(s)},mr.prototype.bufferUnion=function(){if(1===arguments.length){var t=arguments[0];return t.get(0).getFactory().buildGeometry(t).buffer(0)}if(2===arguments.length){var e=arguments[0],o=arguments[1];return e.getFactory().createGeometryCollection([e,o]).buffer(0)}},mr.prototype.interfaces_=function(){return[]},mr.prototype.getClass=function(){return mr},mr.restrictToPolygons=function(t){if(ee(t,Co))return t;var e=Lo.getPolygons(t);return 1===e.size()?e.get(0):t.getFactory().createMultiPolygon(Ye.toPolygonArray(e))},mr.getGeometry=function(t,e){return e>=t.size()?null:t.get(e)},mr.union=function(t){return new mr(t).union()},Yu.STRTREE_NODE_CAPACITY.get=function(){return 4},Object.defineProperties(mr,Yu);var ia=function(){};ia.prototype.interfaces_=function(){return[]},ia.prototype.getClass=function(){return ia},ia.union=function(t,e){if(t.isEmpty()||e.isEmpty()){if(t.isEmpty()&&e.isEmpty())return Ge.createEmptyResult(Ge.UNION,t,e,t.getFactory());if(t.isEmpty())return e.copy();if(e.isEmpty())return t.copy()}return t.checkNotGeometryCollection(t),t.checkNotGeometryCollection(e),ci.overlayOp(t,e,Ge.UNION)},F.GeoJSONReader=to,F.GeoJSONWriter=ho,F.OverlayOp=Ge,F.UnionOp=ia,F.BufferOp=wr,Object.defineProperty(F,"__esModule",{value:!0})}(_t)},7328:(It,_t,F)=>{"use strict";F.d(_t,{Qk1:()=>Ue,dcc:()=>Mt,x0k:()=>zg,IoC:()=>Tr,uGX:()=>_e,FsR:()=>ap,kVe:()=>Fh,wiw:()=>kt,PVF:()=>ue,zx7:()=>at,QwJ:()=>Xh,WRA:()=>yt,nj9:()=>Ar,LIG:()=>Q});var G=6371008.8,V={centimeters:100*G,centimetres:100*G,degrees:G/111325,feet:3.28084*G,inches:39.37*G,kilometers:G/1e3,kilometres:G/1e3,meters:G,metres:G,miles:G/1609.344,millimeters:1e3*G,millimetres:1e3*G,nauticalmiles:G/1852,radians:1,yards:1.0936*G};function ft(n,r,i){void 0===i&&(i={});var a={type:"Feature"};return(0===i.id||i.id)&&(a.id=i.id),i.bbox&&(a.bbox=i.bbox),a.properties=r||{},a.geometry=n,a}function at(n,r,i){if(void 0===i&&(i={}),!n)throw new Error("coordinates is required");if(!Array.isArray(n))throw new Error("coordinates must be an Array");if(n.length<2)throw new Error("coordinates must be at least 2 numbers long");if(!mt(n[0])||!mt(n[1]))throw new Error("coordinates must contain numbers");return ft({type:"Point",coordinates:n},r,i)}function yt(n,r,i){return void 0===i&&(i={}),Ot(n.map(function(a){return at(a,r)}),i)}function qt(n,r,i){void 0===i&&(i={});for(var a=0,u=n;a<u.length;a++){var l=u[a];if(l.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");for(var c=0;c<l[l.length-1].length;c++)if(l[l.length-1][c]!==l[0][c])throw new Error("First and last Position are not equivalent.")}return ft({type:"Polygon",coordinates:n},r,i)}function kt(n,r,i){if(void 0===i&&(i={}),n.length<2)throw new Error("coordinates must be an array of two or more positions");return ft({type:"LineString",coordinates:n},r,i)}function Ot(n,r){void 0===r&&(r={});var i={type:"FeatureCollection"};return r.id&&(i.id=r.id),r.bbox&&(i.bbox=r.bbox),i.features=n,i}function ct(n,r,i){return void 0===i&&(i={}),ft({type:"MultiPoint",coordinates:n},r,i)}function Q(n,r){if(void 0===r&&(r=0),r&&!(r>=0))throw new Error("precision must be a positive number");var i=Math.pow(10,r||0);return Math.round(n*i)/i}function pt(n){return n%(2*Math.PI)*180/Math.PI}function R(n){return n%360*Math.PI/180}function mt(n){return!isNaN(n)&&null!==n&&!Array.isArray(n)}function H(n,r,i){if(null!==n)for(var a,u,l,c,p,g,h,m,d=0,y=0,_=n.type,N="FeatureCollection"===_,x="Feature"===_,b=N?n.features.length:1,I=0;I<b;I++){p=(m=!!(h=N?n.features[I].geometry:x?n.geometry:n)&&"GeometryCollection"===h.type)?h.geometries.length:1;for(var w=0;w<p;w++){var C=0,T=0;if(null!==(c=m?h.geometries[w]:h)){g=c.coordinates;var O=c.type;switch(d=!i||"Polygon"!==O&&"MultiPolygon"!==O?0:1,O){case null:break;case"Point":if(!1===r(g,y,I,C,T))return!1;y++,C++;break;case"LineString":case"MultiPoint":for(a=0;a<g.length;a++){if(!1===r(g[a],y,I,C,T))return!1;y++,"MultiPoint"===O&&C++}"LineString"===O&&C++;break;case"Polygon":case"MultiLineString":for(a=0;a<g.length;a++){for(u=0;u<g[a].length-d;u++){if(!1===r(g[a][u],y,I,C,T))return!1;y++}"MultiLineString"===O&&C++,"Polygon"===O&&T++}"Polygon"===O&&C++;break;case"MultiPolygon":for(a=0;a<g.length;a++){for(T=0,u=0;u<g[a].length;u++){for(l=0;l<g[a][u].length-d;l++){if(!1===r(g[a][u][l],y,I,C,T))return!1;y++}T++}C++}break;case"GeometryCollection":for(a=0;a<c.geometries.length;a++)if(!1===H(c.geometries[a],r,i))return!1;break;default:throw new Error("Unknown Geometry Type")}}}}}function bt(n,r){if("Feature"===n.type)r(n,0);else if("FeatureCollection"===n.type)for(var i=0;i<n.features.length&&!1!==r(n.features[i],i);i++);}function Zt(n,r){var i,a,u,l,c,p,g,h,d,y,m=0,_="FeatureCollection"===n.type,N="Feature"===n.type,x=_?n.features.length:1;for(i=0;i<x;i++){for(h=_?n.features[i].properties:N?n.properties:{},d=_?n.features[i].bbox:N?n.bbox:void 0,y=_?n.features[i].id:N?n.id:void 0,c=(g=!!(p=_?n.features[i].geometry:N?n.geometry:n)&&"GeometryCollection"===p.type)?p.geometries.length:1,u=0;u<c;u++)if(null!==(l=g?p.geometries[u]:p))switch(l.type){case"Point":case"LineString":case"MultiPoint":case"Polygon":case"MultiLineString":case"MultiPolygon":if(!1===r(l,m,h,d,y))return!1;break;case"GeometryCollection":for(a=0;a<l.geometries.length;a++)if(!1===r(l.geometries[a],m,h,d,y))return!1;break;default:throw new Error("Unknown Geometry Type")}else if(!1===r(null,m,h,d,y))return!1;m++}}function Vt(n,r){Zt(n,function(i,a,u,l,c){var g,p=null===i?null:i.type;switch(p){case null:case"Point":case"LineString":case"Polygon":return!1!==r(ft(i,u,{bbox:l,id:c}),a,0)&&void 0}switch(p){case"MultiPoint":g="Point";break;case"MultiLineString":g="LineString";break;case"MultiPolygon":g="Polygon"}for(var h=0;h<i.coordinates.length;h++)if(!1===r(ft({type:g,coordinates:i.coordinates[h]},u),a,h))return!1})}function nn(n){var r=[1/0,1/0,-1/0,-1/0];return H(n,function(i){r[0]>i[0]&&(r[0]=i[0]),r[1]>i[1]&&(r[1]=i[1]),r[2]<i[0]&&(r[2]=i[0]),r[3]<i[1]&&(r[3]=i[1])}),r}nn.default=nn;const Ue=nn;function _e(n){if(!n)throw new Error("coord is required");if(!Array.isArray(n)){if("Feature"===n.type&&null!==n.geometry&&"Point"===n.geometry.type)return n.geometry.coordinates;if("Point"===n.type)return n.coordinates}if(Array.isArray(n)&&n.length>=2&&!Array.isArray(n[0])&&!Array.isArray(n[1]))return n;throw new Error("coord must be GeoJSON Point or an Array of numbers")}function Oe(n){if(Array.isArray(n))return n;if("Feature"===n.type){if(null!==n.geometry)return n.geometry.coordinates}else if(n.coordinates)return n.coordinates;throw new Error("coords must be GeoJSON Feature, Geometry Object or an Array")}function Rn(n){return"Feature"===n.type?n.geometry:n}function jt(n){return new Float64Array(n)}function vs(n,r,i){if(void 0===i&&(i={}),!n)throw new Error("point is required");if(!r)throw new Error("polygon is required");var a=_e(n),u=Rn(r),l=u.type,c=r.bbox,p=u.coordinates;if(c&&!1===function zo(n,r){return r[0]<=n[0]&&r[1]<=n[1]&&r[2]>=n[0]&&r[3]>=n[1]}(a,c))return!1;"Polygon"===l&&(p=[p]);for(var g=!1,h=0;h<p.length&&!g;h++)if(ts(a,p[h][0],i.ignoreBoundary)){for(var d=!1,y=1;y<p[h].length&&!d;)ts(a,p[h][y],!i.ignoreBoundary)&&(d=!0),y++;d||(g=!0)}return g}function ts(n,r,i){var a=!1;r[0][0]===r[r.length-1][0]&&r[0][1]===r[r.length-1][1]&&(r=r.slice(0,r.length-1));for(var u=0,l=r.length-1;u<r.length;l=u++){var c=r[u][0],p=r[u][1],g=r[l][0],h=r[l][1];if(n[1]*(c-g)+p*(g-n[0])+h*(n[0]-c)==0&&(c-n[0])*(g-n[0])<=0&&(p-n[1])*(h-n[1])<=0)return!i;p>n[1]!=h>n[1]&&n[0]<(g-c)*(n[1]-p)/(h-p)+c&&(a=!a)}return a}F(5931),F(8681),jt(4),jt(8),jt(12),jt(16),jt(4),jt(4),jt(4),jt(4),jt(4),jt(4),jt(4),jt(4),jt(4),jt(4),jt(8),jt(8),jt(8),jt(4),jt(8),jt(8),jt(8),jt(12),jt(192),jt(192),jt(4),jt(4),jt(4),jt(4),jt(4),jt(4),jt(4),jt(4),jt(8),jt(8),jt(8),jt(8),jt(8),jt(8),jt(8),jt(8),jt(8),jt(4),jt(4),jt(4),jt(8),jt(16),jt(16),jt(16),jt(32),jt(32),jt(48),jt(64),jt(1152),jt(1152),jt(4),jt(4),jt(4),jt(4),jt(4),jt(4),jt(4),jt(4),jt(4),jt(4),jt(24),jt(24),jt(24),jt(24),jt(24),jt(24),jt(24),jt(24),jt(24),jt(24),jt(1152),jt(1152),jt(1152),jt(1152),jt(1152),jt(2304),jt(2304),jt(3456),jt(5760),jt(8),jt(8),jt(8),jt(16),jt(24),jt(48),jt(48),jt(96),jt(192),jt(384),jt(384),jt(384),jt(768),jt(96),jt(96),jt(96),jt(1152);const Ar=function Lo(n,r){var i=[];return bt(n,function(a){var u=!1;if("Point"===a.geometry.type)Zt(r,function(c){vs(a,c)&&(u=!0)}),u&&i.push(a);else{if("MultiPoint"!==a.geometry.type)throw new Error("Input geometry must be a Point or MultiPoint");var l=[];Zt(r,function(c){H(a,function(p){vs(p,c)&&(u=!0,l.push(p))})}),u&&i.push(ct(l))}}),Ot(i)},Tr=function ji(n,r,i){void 0===i&&(i={});var a=_e(n),u=_e(r),l=R(u[1]-a[1]),c=R(u[0]-a[0]),p=R(a[1]),g=R(u[1]),h=Math.pow(Math.sin(l/2),2)+Math.pow(Math.sin(c/2),2)*Math.cos(p)*Math.cos(g);return function U(n,r){void 0===r&&(r="kilometers");var i=V[r];if(!i)throw new Error(r+" units is invalid");return n*i}(2*Math.atan2(Math.sqrt(h),Math.sqrt(1-h)),i.units)};var na=new ArrayBuffer(16);function wa(n){var r=Oe(n);if(2===r.length&&!so(r[0],r[1]))return r;var i=[],a=r.length-1,u=i.length;i.push(r[0]);for(var l=1;l<a;l++){var c=i[i.length-1];r[l][0]===c[0]&&r[l][1]===c[1]||(i.push(r[l]),(u=i.length)>2&&Ia(i[u-3],i[u-1],i[u-2])&&i.splice(i.length-2,1))}if(i.push(r[r.length-1]),u=i.length,so(r[0],r[r.length-1])&&u<4)throw new Error("invalid polygon");return Ia(i[u-3],i[u-1],i[u-2])&&i.splice(i.length-2,1),i}function so(n,r){return n[0]===r[0]&&n[1]===r[1]}function Ia(n,r,i){var a=i[0],u=i[1],l=n[0],c=n[1],p=r[0],g=r[1],y=p-l,m=g-c;return 0==(a-l)*m-(u-c)*y&&(Math.abs(y)>=Math.abs(m)?y>0?l<=a&&a<=p:p<=a&&a<=l:m>0?c<=u&&u<=g:g<=u&&u<=c)}new Float64Array(na),new Uint32Array(na),F(560);const Ts=function Gr(n,r){void 0===r&&(r={});var i="object"==typeof r?r.mutate:r;if(!n)throw new Error("geojson is required");var a=function gi(n,r){return"FeatureCollection"===n.type?"FeatureCollection":"GeometryCollection"===n.type?"GeometryCollection":"Feature"===n.type&&null!==n.geometry?n.geometry.type:n.type}(n),u=[];switch(a){case"LineString":u=wa(n);break;case"MultiLineString":case"Polygon":Oe(n).forEach(function(c){u.push(wa(c))});break;case"MultiPolygon":Oe(n).forEach(function(c){var p=[];c.forEach(function(g){p.push(wa(g))}),u.push(p)});break;case"Point":return n;case"MultiPoint":var l={};Oe(n).forEach(function(c){var p=c.join("-");Object.prototype.hasOwnProperty.call(l,p)||(u.push(c),l[p]=!0)});break;default:throw new Error(a+" geometry not supported")}return n.coordinates?!0===i?(n.coordinates=u,n):{type:a,coordinates:u}:!0===i?(n.geometry.coordinates=u,n):ft({type:a,coordinates:u},n.properties,{bbox:n.bbox,id:n.id})};!function(){function n(r){this.points=r.points||[],this.duration=r.duration||1e4,this.sharpness=r.sharpness||.85,this.centers=[],this.controls=[],this.stepLength=r.stepLength||60,this.length=this.points.length,this.delay=0;for(var i=0;i<this.length;i++)this.points[i].z=this.points[i].z||0;for(i=0;i<this.length-1;i++){var a=this.points[i],u=this.points[i+1];this.centers.push({x:(a.x+u.x)/2,y:(a.y+u.y)/2,z:(a.z+u.z)/2})}for(this.controls.push([this.points[0],this.points[0]]),i=0;i<this.centers.length-1;i++){var l=this.points[i+1].x-(this.centers[i].x+this.centers[i+1].x)/2,c=this.points[i+1].y-(this.centers[i].y+this.centers[i+1].y)/2,p=this.points[i+1].z-(this.centers[i].y+this.centers[i+1].z)/2;this.controls.push([{x:(1-this.sharpness)*this.points[i+1].x+this.sharpness*(this.centers[i].x+l),y:(1-this.sharpness)*this.points[i+1].y+this.sharpness*(this.centers[i].y+c),z:(1-this.sharpness)*this.points[i+1].z+this.sharpness*(this.centers[i].z+p)},{x:(1-this.sharpness)*this.points[i+1].x+this.sharpness*(this.centers[i+1].x+l),y:(1-this.sharpness)*this.points[i+1].y+this.sharpness*(this.centers[i+1].y+c),z:(1-this.sharpness)*this.points[i+1].z+this.sharpness*(this.centers[i+1].z+p)}])}return this.controls.push([this.points[this.length-1],this.points[this.length-1]]),this.steps=this.cacheSteps(this.stepLength),this}n.prototype.cacheSteps=function(r){var i=[],a=this.pos(0);i.push(0);for(var u=0;u<this.duration;u+=10){var l=this.pos(u);Math.sqrt((l.x-a.x)*(l.x-a.x)+(l.y-a.y)*(l.y-a.y)+(l.z-a.z)*(l.z-a.z))>r&&(i.push(u),a=l)}return i},n.prototype.vector=function(r){var i=this.pos(r+10),a=this.pos(r-10);return{angle:180*Math.atan2(i.y-a.y,i.x-a.x)/3.14,speed:Math.sqrt((a.x-i.x)*(a.x-i.x)+(a.y-i.y)*(a.y-i.y)+(a.z-i.z)*(a.z-i.z))}},n.prototype.pos=function(r){var i=r-this.delay;i<0&&(i=0),i>this.duration&&(i=this.duration-1);var a=i/this.duration;if(a>=1)return this.points[this.length-1];var u=Math.floor((this.points.length-1)*a);return function as(n,r,i,a,u){var l=function Oi(n){var r=n*n;return[r*n,3*r*(1-n),3*n*(1-n)*(1-n),(1-n)*(1-n)*(1-n)]}(n);return{x:u.x*l[0]+a.x*l[1]+i.x*l[2]+r.x*l[3],y:u.y*l[0]+a.y*l[1]+i.y*l[2]+r.y*l[3],z:u.z*l[0]+a.z*l[1]+i.z*l[2]+r.z*l[3]}}((this.length-1)*a-u,this.points[u],this.controls[u][1],this.controls[u+1][0],this.points[u+1])}}();function S(n,r,i,a){void 0===a&&(a={});var u=_e(n),l=R(u[0]),c=R(u[1]),p=R(i),g=function ht(n,r){void 0===r&&(r="kilometers");var i=V[r];if(!i)throw new Error(r+" units is invalid");return n/i}(r,a.units),h=Math.asin(Math.sin(c)*Math.cos(g)+Math.cos(c)*Math.sin(g)*Math.cos(p));return at([pt(l+Math.atan2(Math.sin(p)*Math.sin(g)*Math.cos(c),Math.cos(g)-Math.sin(c)*Math.sin(h))),pt(h)],a.properties)}const it=function q(n,r,i){void 0===i&&(i={});for(var a=i.steps||64,u=i.properties?i.properties:!Array.isArray(n)&&"Feature"===n.type&&n.properties?n.properties:{},l=[],c=0;c<a;c++)l.push(S(n,r,-360*c/a,i).geometry.coordinates);return l.push(l[0]),qt([l],u)};function Mt(n,r,i){if(void 0===i&&(i={}),!0===i.final)return function Dt(n,r){var i=Mt(r,n);return i=(i+180)%360}(n,r);var a=_e(n),u=_e(r),l=R(a[0]),c=R(u[0]),p=R(a[1]),g=R(u[1]),h=Math.sin(c-l)*Math.cos(g),d=Math.cos(p)*Math.sin(g)-Math.sin(p)*Math.cos(g)*Math.cos(c-l);return pt(Math.atan2(h,d))}const ue=function ie(n,r){return S(n,Tr(n,r)/2,Mt(n,r))},Ih=function wh(n){var r=[];return"FeatureCollection"===n.type?bt(n,function(i){H(i,function(a){r.push(at(a,i.properties))})}):H(n,function(i){r.push(at(i,n.properties))}),Ot(r)};function Jl(n){var r={type:"Feature"};return Object.keys(n).forEach(function(i){switch(i){case"type":case"properties":case"geometry":return;default:r[i]=n[i]}}),r.properties=Zl(n.properties),r.geometry=Hu(n.geometry),r}function Zl(n){var r={};return n&&Object.keys(n).forEach(function(i){var a=n[i];r[i]="object"==typeof a?null===a?null:Array.isArray(a)?a.map(function(u){return u}):Zl(a):a}),r}function Hu(n){var r={type:n.type};return n.bbox&&(r.bbox=n.bbox),"GeometryCollection"===n.type?(r.geometries=n.geometries.map(function(i){return Hu(i)}),r):(r.coordinates=Ql(n.coordinates),r)}function Ql(n){var r=n;return"object"!=typeof r[0]?r.slice():r.map(function(i){return Ql(i)})}F(2381);const Mh=function bh(n,r){if(!n)throw new Error("targetPoint is required");if(!r)throw new Error("points is required");var i,a=1/0,u=0;return bt(r,function(l,c){var p=Tr(n,l);p<a&&(u=c,a=p)}),(i=function Sh(n){if(!n)throw new Error("geojson is required");switch(n.type){case"Feature":return Jl(n);case"FeatureCollection":return function Ch(n){var r={type:"FeatureCollection"};return Object.keys(n).forEach(function(i){switch(i){case"type":case"features":return;default:r[i]=n[i]}}),r.features=n.features.map(function(i){return Jl(i)}),r}(n);case"Point":case"LineString":case"Polygon":case"MultiPoint":case"MultiLineString":case"MultiPolygon":case"GeometryCollection":return Hu(n);default:throw new Error("unknown GeoJSON type")}}(r.features[u])).properties.featureIndex=u,i.properties.distanceToPoint=a,i},Kl=function Lh(n){if(!n)throw new Error("geojson is required");var r=[];return Vt(n,function(i){!function Oh(n,r){var i=[],a=n.geometry;if(null!==a){switch(a.type){case"Polygon":i=Oe(a);break;case"LineString":i=[Oe(a)]}i.forEach(function(u){var l=function Rh(n,r){var i=[];return n.reduce(function(a,u){var l=kt([a,u],r);return l.bbox=function Ah(n,r){var i=n[0],a=n[1],u=r[0],l=r[1];return[i<u?i:u,a<l?a:l,i>u?i:u,a>l?a:l]}(a,u),i.push(l),u}),i}(u,n.properties);l.forEach(function(c){c.id=r.length,r.push(c)})})}}(i,r)}),Ot(r)};var Th=F(2374);function tc(n,r){var i=Oe(n),a=Oe(r);if(2!==i.length)throw new Error("<intersects> line1 must only contain 2 coordinates");if(2!==a.length)throw new Error("<intersects> line2 must only contain 2 coordinates");var u=i[0][0],l=i[0][1],c=i[1][0],p=i[1][1],g=a[0][0],h=a[0][1],d=a[1][0],y=a[1][1],m=(y-h)*(c-u)-(d-g)*(p-l);if(0===m)return null;var x=((d-g)*(l-h)-(y-h)*(u-g))/m,b=((c-u)*(l-h)-(p-l)*(u-g))/m;return x>=0&&x<=1&&b>=0&&b<=1?at([u+x*(c-u),l+x*(p-l)]):null}const Fh=function Dh(n,r){var i={},a=[];if("LineString"===n.type&&(n=ft(n)),"LineString"===r.type&&(r=ft(r)),"Feature"===n.type&&"Feature"===r.type&&null!==n.geometry&&null!==r.geometry&&"LineString"===n.geometry.type&&"LineString"===r.geometry.type&&2===n.geometry.coordinates.length&&2===r.geometry.coordinates.length){var u=tc(n,r);return u&&a.push(u),Ot(a)}var l=Th();return l.load(Kl(r)),bt(Kl(n),function(c){bt(l.search(c),function(p){var g=tc(c,p);if(g){var h=Oe(g).join(",");i[h]||(i[h]=!0,a.push(g))}})}),Ot(a)};function nc(n,r,i,a,u,l){return Math.sqrt((u-i)*(u-i)+(l-a)*(l-a))===Math.sqrt((n-i)*(n-i)+(r-a)*(r-a))+Math.sqrt((u-n)*(u-n)+(l-r)*(l-r))}const Xh=function zh(n){for(var r=function Uh(n){return"FeatureCollection"!==n.type?Ot("Feature"!==n.type?[ft(n)]:[n]):n}(n),i=function de(n,r){void 0===r&&(r={});var i=Ue(n);return at([(i[0]+i[2])/2,(i[1]+i[3])/2],r.properties,r)}(r),a=!1,u=0;!a&&u<r.features.length;){var m,l=r.features[u].geometry,_=!1;if("Point"===l.type)i.geometry.coordinates[0]===l.coordinates[0]&&i.geometry.coordinates[1]===l.coordinates[1]&&(a=!0);else if("MultiPoint"===l.type){var N=!1;for(m=0;!N&&m<l.coordinates.length;)i.geometry.coordinates[0]===l.coordinates[m][0]&&i.geometry.coordinates[1]===l.coordinates[m][1]&&(a=!0,N=!0),m++}else if("LineString"===l.type)for(m=0;!_&&m<l.coordinates.length-1;)nc(i.geometry.coordinates[0],i.geometry.coordinates[1],l.coordinates[m][0],l.coordinates[m][1],l.coordinates[m+1][0],l.coordinates[m+1][1])&&(_=!0,a=!0),m++;else if("MultiLineString"===l.type)for(var x=0;x<l.coordinates.length;){_=!1,m=0;for(var b=l.coordinates[x];!_&&m<b.length-1;)nc(i.geometry.coordinates[0],i.geometry.coordinates[1],b[m][0],b[m][1],b[m+1][0],b[m+1][1])&&(_=!0,a=!0),m++;x++}else("Polygon"===l.type||"MultiPolygon"===l.type)&&vs(i,l)&&(a=!0);u++}if(a)return i;var I=Ot([]);for(u=0;u<r.features.length;u++)I.features=I.features.concat(Ih(r.features[u]).features);return at(Mh(i,I).geometry.coordinates)};var cc=Math.PI/180,fc=180/Math.PI,Ca=function(n,r){this.lon=n,this.lat=r,this.x=cc*n,this.y=cc*r};Ca.prototype.view=function(){return String(this.lon).slice(0,4)+","+String(this.lat).slice(0,4)},Ca.prototype.antipode=function(){return new Ca(this.lon<0?180+this.lon:-1*(180-this.lon),-1*this.lat)};var hc=function(){this.coords=[],this.length=0};hc.prototype.move_to=function(n){this.length++,this.coords.push(n)};var Vu=function(n){this.properties=n||{},this.geometries=[]};Vu.prototype.json=function(){if(this.geometries.length<=0)return{geometry:{type:"LineString",coordinates:null},type:"Feature",properties:this.properties};if(1===this.geometries.length)return{geometry:{type:"LineString",coordinates:this.geometries[0].coords},type:"Feature",properties:this.properties};for(var n=[],r=0;r<this.geometries.length;r++)n.push(this.geometries[r].coords);return{geometry:{type:"MultiLineString",coordinates:n},type:"Feature",properties:this.properties}},Vu.prototype.wkt=function(){for(var n="",r="LINESTRING(",i=function(l){r+=l[0]+" "+l[1]+","},a=0;a<this.geometries.length;a++){if(0===this.geometries[a].coords.length)return"LINESTRING(empty)";this.geometries[a].coords.forEach(i),n+=r.substring(0,r.length-1)+")"}return n};var ju=function(n,r,i){if(!n||void 0===n.x||void 0===n.y)throw new Error("GreatCircle constructor expects two args: start and end objects with x and y properties");if(!r||void 0===r.x||void 0===r.y)throw new Error("GreatCircle constructor expects two args: start and end objects with x and y properties");this.start=new Ca(n.x,n.y),this.end=new Ca(r.x,r.y),this.properties=i||{};var a=this.start.x-this.end.x,l=Math.pow(Math.sin((this.start.y-this.end.y)/2),2)+Math.cos(this.start.y)*Math.cos(this.end.y)*Math.pow(Math.sin(a/2),2);if(this.g=2*Math.asin(Math.sqrt(l)),this.g===Math.PI)throw new Error("it appears "+n.view()+" and "+r.view()+" are 'antipodal', e.g diametrically opposite, thus there is no single route but rather infinite");if(isNaN(this.g))throw new Error("could not calculate great circle between "+n+" and "+r)};function ap(n,r,i,a,u){void 0===u&&(u={});var l=u.steps||64,c=dc(i),p=dc(a),g=Array.isArray(n)||"Feature"!==n.type?{}:n.properties;if(c===p)return kt(it(n,r,u).geometry.coordinates[0],g);for(var h=c,d=c<p?p:p+360,y=h,m=[],_=0;y<d;)m.push(S(n,r,y,u).geometry.coordinates),y=h+360*++_/l;return y>d&&m.push(S(n,r,d,u).geometry.coordinates),kt(m,g)}function dc(n){var r=n%360;return r<0&&(r+=360),r}ju.prototype.interpolate=function(n){var r=Math.sin((1-n)*this.g)/Math.sin(this.g),i=Math.sin(n*this.g)/Math.sin(this.g),a=r*Math.cos(this.start.y)*Math.cos(this.start.x)+i*Math.cos(this.end.y)*Math.cos(this.end.x),u=r*Math.cos(this.start.y)*Math.sin(this.start.x)+i*Math.cos(this.end.y)*Math.sin(this.end.x),l=r*Math.sin(this.start.y)+i*Math.sin(this.end.y),c=fc*Math.atan2(l,Math.sqrt(Math.pow(a,2)+Math.pow(u,2)));return[fc*Math.atan2(u,a),c]},ju.prototype.Arc=function(n,r){var i=[];if(!n||n<=2)i.push([this.start.lon,this.start.lat]),i.push([this.end.lon,this.end.lat]);else for(var a=1/(n-1),u=0;u<n;++u){var c=this.interpolate(a*u);i.push(c)}for(var p=!1,g=0,h=r&&r.offset?r.offset:10,d=180-h,y=-180+h,m=360-h,_=1;_<i.length;++_){var N=i[_-1][0],x=i[_][0],b=Math.abs(x-N);b>m&&(x>d&&N<y||N>d&&x<y)?p=!0:b>g&&(g=b)}var I=[];if(p&&g<h){var w=[];I.push(w);for(var C=0;C<i.length;++C){var T=parseFloat(i[C][0]);if(C>0&&Math.abs(T-i[C-1][0])>m){var O=parseFloat(i[C-1][0]),k=parseFloat(i[C-1][1]),D=parseFloat(i[C][0]),Y=parseFloat(i[C][1]);if(O>-180&&O<y&&180===D&&C+1<i.length&&i[C-1][0]>-180&&i[C-1][0]<y){w.push([-180,i[C][1]]),C++,w.push([i[C][0],i[C][1]]);continue}if(O>d&&O<180&&-180===D&&C+1<i.length&&i[C-1][0]>d&&i[C-1][0]<180){w.push([180,i[C][1]]),C++,w.push([i[C][0],i[C][1]]);continue}if(O<y&&D>d){var A=O;O=D,D=A;var At=k;k=Y,Y=At}if(O>d&&D<y&&(D+=360),O<=180&&D>=180&&O<D){var Nt=(180-O)/(D-O),Ft=Nt*Y+(1-Nt)*k;w.push([i[C-1][0]>d?180:-180,Ft]),(w=[]).push([i[C-1][0]>d?-180:180,Ft]),I.push(w)}else I.push(w=[]);w.push([T,i[C][1]])}else w.push([i[C][0],i[C][1]])}}else{var Jt=[];I.push(Jt);for(var B=0;B<i.length;++B)Jt.push([i[B][0],i[B][1]])}for(var et=new Vu(this.properties),st=0;st<I.length;++st){var Lt=new hc;et.geometries.push(Lt);for(var K=I[st],gt=0;gt<K.length;++gt)Lt.move_to(K[gt])}return et},F(2943);var an=[],un=[],ln=[],cn=[],fn=[],hn=[],pn=[],gn=[],dn=[],yn=[],mn=[],vn=[],_n=[],En=[],xn=[],wn=[],In=[],Pn=[],Sn=[],Cn=[],Nn=[],bn=[],Mn=[],Ln=[];pn[85]=yn[85]=-1,gn[85]=mn[85]=0,dn[85]=vn[85]=1,Sn[85]=bn[85]=1,Cn[85]=Mn[85]=0,Nn[85]=Ln[85]=1,an[85]=cn[85]=0,un[85]=fn[85]=-1,ln[85]=xn[85]=0,wn[85]=_n[85]=0,In[85]=En[85]=1,hn[85]=Pn[85]=1,bn[1]=bn[169]=0,Mn[1]=Mn[169]=-1,Ln[1]=Ln[169]=0,_n[1]=_n[169]=-1,En[1]=En[169]=0,xn[1]=xn[169]=0,yn[4]=yn[166]=0,mn[4]=mn[166]=-1,vn[4]=vn[166]=1,wn[4]=wn[166]=1,In[4]=In[166]=0,Pn[4]=Pn[166]=0,pn[16]=pn[154]=0,gn[16]=gn[154]=1,dn[16]=dn[154]=1,cn[16]=cn[154]=1,fn[16]=fn[154]=0,hn[16]=hn[154]=1,Sn[64]=Sn[106]=0,Cn[64]=Cn[106]=1,Nn[64]=Nn[106]=0,an[64]=an[106]=-1,un[64]=un[106]=0,ln[64]=ln[106]=1,Sn[2]=Sn[168]=0,Cn[2]=Cn[168]=-1,Nn[2]=Nn[168]=1,bn[2]=bn[168]=0,Mn[2]=Mn[168]=-1,Ln[2]=Ln[168]=0,_n[2]=_n[168]=-1,En[2]=En[168]=0,xn[2]=xn[168]=0,wn[2]=wn[168]=-1,In[2]=In[168]=0,Pn[2]=Pn[168]=1,pn[8]=pn[162]=0,gn[8]=gn[162]=-1,dn[8]=dn[162]=0,yn[8]=yn[162]=0,mn[8]=mn[162]=-1,vn[8]=vn[162]=1,_n[8]=_n[162]=1,En[8]=En[162]=0,xn[8]=xn[162]=1,wn[8]=wn[162]=1,In[8]=In[162]=0,Pn[8]=Pn[162]=0,pn[32]=pn[138]=0,gn[32]=gn[138]=1,dn[32]=dn[138]=1,yn[32]=yn[138]=0,mn[32]=mn[138]=1,vn[32]=vn[138]=0,an[32]=an[138]=1,un[32]=un[138]=0,ln[32]=ln[138]=0,cn[32]=cn[138]=1,fn[32]=fn[138]=0,hn[32]=hn[138]=1,bn[128]=bn[42]=0,Mn[128]=Mn[42]=1,Ln[128]=Ln[42]=1,Sn[128]=Sn[42]=0,Cn[128]=Cn[42]=1,Nn[128]=Nn[42]=0,an[128]=an[42]=-1,un[128]=un[42]=0,ln[128]=ln[42]=1,cn[128]=cn[42]=-1,fn[128]=fn[42]=0,hn[128]=hn[42]=0,yn[5]=yn[165]=-1,mn[5]=mn[165]=0,vn[5]=vn[165]=0,bn[5]=bn[165]=1,Mn[5]=Mn[165]=0,Ln[5]=Ln[165]=0,wn[20]=wn[150]=0,In[20]=In[150]=1,Pn[20]=Pn[150]=1,cn[20]=cn[150]=0,fn[20]=fn[150]=-1,hn[20]=hn[150]=1,pn[80]=pn[90]=-1,gn[80]=gn[90]=0,dn[80]=dn[90]=1,Sn[80]=Sn[90]=1,Cn[80]=Cn[90]=0,Nn[80]=Nn[90]=1,_n[65]=_n[105]=0,En[65]=En[105]=1,xn[65]=xn[105]=0,an[65]=an[105]=0,un[65]=un[105]=-1,ln[65]=ln[105]=0,pn[160]=pn[10]=-1,gn[160]=gn[10]=0,dn[160]=dn[10]=1,yn[160]=yn[10]=-1,mn[160]=mn[10]=0,vn[160]=vn[10]=0,bn[160]=bn[10]=1,Mn[160]=Mn[10]=0,Ln[160]=Ln[10]=0,Sn[160]=Sn[10]=1,Cn[160]=Cn[10]=0,Nn[160]=Nn[10]=1,wn[130]=wn[40]=0,In[130]=In[40]=1,Pn[130]=Pn[40]=1,_n[130]=_n[40]=0,En[130]=En[40]=1,xn[130]=xn[40]=0,an[130]=an[40]=0,un[130]=un[40]=-1,ln[130]=ln[40]=0,cn[130]=cn[40]=0,fn[130]=fn[40]=-1,hn[130]=hn[40]=1,yn[37]=yn[133]=0,mn[37]=mn[133]=1,vn[37]=vn[133]=1,bn[37]=bn[133]=0,Mn[37]=Mn[133]=1,Ln[37]=Ln[133]=0,an[37]=an[133]=-1,un[37]=un[133]=0,ln[37]=ln[133]=0,cn[37]=cn[133]=1,fn[37]=fn[133]=0,hn[37]=hn[133]=0,wn[148]=wn[22]=-1,In[148]=In[22]=0,Pn[148]=Pn[22]=0,bn[148]=bn[22]=0,Mn[148]=Mn[22]=-1,Ln[148]=Ln[22]=1,Sn[148]=Sn[22]=0,Cn[148]=Cn[22]=1,Nn[148]=Nn[22]=1,cn[148]=cn[22]=-1,fn[148]=fn[22]=0,hn[148]=hn[22]=1,pn[82]=pn[88]=0,gn[82]=gn[88]=-1,dn[82]=dn[88]=1,wn[82]=wn[88]=1,In[82]=In[88]=0,Pn[82]=Pn[88]=1,_n[82]=_n[88]=-1,En[82]=En[88]=0,xn[82]=xn[88]=1,Sn[82]=Sn[88]=0,Cn[82]=Cn[88]=-1,Nn[82]=Nn[88]=0,pn[73]=pn[97]=0,gn[73]=gn[97]=1,dn[73]=dn[97]=0,yn[73]=yn[97]=0,mn[73]=mn[97]=-1,vn[73]=vn[97]=0,_n[73]=_n[97]=1,En[73]=En[97]=0,xn[73]=xn[97]=0,an[73]=an[97]=1,un[73]=un[97]=0,ln[73]=ln[97]=1,pn[145]=pn[25]=0,gn[145]=gn[25]=-1,dn[145]=dn[25]=0,_n[145]=_n[25]=1,En[145]=En[25]=0,xn[145]=xn[25]=1,bn[145]=bn[25]=0,Mn[145]=Mn[25]=1,Ln[145]=Ln[25]=1,cn[145]=cn[25]=-1,fn[145]=fn[25]=0,hn[145]=hn[25]=0,yn[70]=yn[100]=0,mn[70]=mn[100]=1,vn[70]=vn[100]=0,wn[70]=wn[100]=-1,In[70]=In[100]=0,Pn[70]=Pn[100]=1,Sn[70]=Sn[100]=0,Cn[70]=Cn[100]=-1,Nn[70]=Nn[100]=1,an[70]=an[100]=1,un[70]=un[100]=0,ln[70]=ln[100]=0,yn[101]=yn[69]=0,mn[101]=mn[69]=1,vn[101]=vn[69]=0,an[101]=an[69]=1,un[101]=un[69]=0,ln[101]=ln[69]=0,bn[149]=bn[21]=0,Mn[149]=Mn[21]=1,Ln[149]=Ln[21]=1,cn[149]=cn[21]=-1,fn[149]=fn[21]=0,hn[149]=hn[21]=0,wn[86]=wn[84]=-1,In[86]=In[84]=0,Pn[86]=Pn[84]=1,Sn[86]=Sn[84]=0,Cn[86]=Cn[84]=-1,Nn[86]=Nn[84]=1,pn[89]=pn[81]=0,gn[89]=gn[81]=-1,dn[89]=dn[81]=0,_n[89]=_n[81]=1,En[89]=En[81]=0,xn[89]=xn[81]=1,pn[96]=pn[74]=0,gn[96]=gn[74]=1,dn[96]=dn[74]=0,yn[96]=yn[74]=-1,mn[96]=mn[74]=0,vn[96]=vn[74]=1,Sn[96]=Sn[74]=1,Cn[96]=Cn[74]=0,Nn[96]=Nn[74]=0,an[96]=an[74]=1,un[96]=un[74]=0,ln[96]=ln[74]=1,pn[24]=pn[146]=0,gn[24]=gn[146]=-1,dn[24]=dn[146]=1,wn[24]=wn[146]=1,In[24]=In[146]=0,Pn[24]=Pn[146]=1,_n[24]=_n[146]=0,En[24]=En[146]=1,xn[24]=xn[146]=1,cn[24]=cn[146]=0,fn[24]=fn[146]=-1,hn[24]=hn[146]=0,yn[6]=yn[164]=-1,mn[6]=mn[164]=0,vn[6]=vn[164]=1,wn[6]=wn[164]=-1,In[6]=In[164]=0,Pn[6]=Pn[164]=0,bn[6]=bn[164]=0,Mn[6]=Mn[164]=-1,Ln[6]=Ln[164]=1,Sn[6]=Sn[164]=1,Cn[6]=Cn[164]=0,Nn[6]=Nn[164]=0,_n[129]=_n[41]=0,En[129]=En[41]=1,xn[129]=xn[41]=1,bn[129]=bn[41]=0,Mn[129]=Mn[41]=1,Ln[129]=Ln[41]=0,an[129]=an[41]=-1,un[129]=un[41]=0,ln[129]=ln[41]=0,cn[129]=cn[41]=0,fn[129]=fn[41]=-1,hn[129]=hn[41]=0,wn[66]=wn[104]=0,In[66]=In[104]=1,Pn[66]=Pn[104]=0,_n[66]=_n[104]=-1,En[66]=En[104]=0,xn[66]=xn[104]=1,Sn[66]=Sn[104]=0,Cn[66]=Cn[104]=-1,Nn[66]=Nn[104]=0,an[66]=an[104]=0,un[66]=un[104]=-1,ln[66]=ln[104]=1,pn[144]=pn[26]=-1,gn[144]=gn[26]=0,dn[144]=dn[26]=0,bn[144]=bn[26]=1,Mn[144]=Mn[26]=0,Ln[144]=Ln[26]=1,Sn[144]=Sn[26]=0,Cn[144]=Cn[26]=1,Nn[144]=Nn[26]=1,cn[144]=cn[26]=-1,fn[144]=fn[26]=0,hn[144]=hn[26]=1,yn[36]=yn[134]=0,mn[36]=mn[134]=1,vn[36]=vn[134]=1,wn[36]=wn[134]=0,In[36]=In[134]=1,Pn[36]=Pn[134]=0,an[36]=an[134]=0,un[36]=un[134]=-1,ln[36]=ln[134]=1,cn[36]=cn[134]=1,fn[36]=fn[134]=0,hn[36]=hn[134]=0,pn[9]=pn[161]=-1,gn[9]=gn[161]=0,dn[9]=dn[161]=0,yn[9]=yn[161]=0,mn[9]=mn[161]=-1,vn[9]=vn[161]=0,_n[9]=_n[161]=1,En[9]=En[161]=0,xn[9]=xn[161]=0,bn[9]=bn[161]=1,Mn[9]=Mn[161]=0,Ln[9]=Ln[161]=1,pn[136]=0,gn[136]=1,dn[136]=1,yn[136]=0,mn[136]=1,vn[136]=0,wn[136]=-1,In[136]=0,Pn[136]=1,_n[136]=-1,En[136]=0,xn[136]=0,bn[136]=0,Mn[136]=-1,Ln[136]=0,Sn[136]=0,Cn[136]=-1,Nn[136]=1,an[136]=1,un[136]=0,ln[136]=0,cn[136]=1,fn[136]=0,hn[136]=1,pn[34]=0,gn[34]=-1,dn[34]=0,yn[34]=0,mn[34]=-1,vn[34]=1,wn[34]=1,In[34]=0,Pn[34]=0,_n[34]=1,En[34]=0,xn[34]=1,bn[34]=0,Mn[34]=1,Ln[34]=1,Sn[34]=0,Cn[34]=1,Nn[34]=0,an[34]=-1,un[34]=0,ln[34]=1,cn[34]=-1,fn[34]=0,hn[34]=0,pn[35]=0,gn[35]=1,dn[35]=1,yn[35]=0,mn[35]=-1,vn[35]=1,wn[35]=1,In[35]=0,Pn[35]=0,_n[35]=-1,En[35]=0,xn[35]=0,bn[35]=0,Mn[35]=-1,Ln[35]=0,Sn[35]=0,Cn[35]=1,Nn[35]=0,an[35]=-1,un[35]=0,ln[35]=1,cn[35]=1,fn[35]=0,hn[35]=1,pn[153]=0,gn[153]=1,dn[153]=1,_n[153]=-1,En[153]=0,xn[153]=0,bn[153]=0,Mn[153]=-1,Ln[153]=0,cn[153]=1,fn[153]=0,hn[153]=1,yn[102]=0,mn[102]=-1,vn[102]=1,wn[102]=1,In[102]=0,Pn[102]=0,Sn[102]=0,Cn[102]=1,Nn[102]=0,an[102]=-1,un[102]=0,ln[102]=1,pn[155]=0,gn[155]=-1,dn[155]=0,_n[155]=1,En[155]=0,xn[155]=1,bn[155]=0,Mn[155]=1,Ln[155]=1,cn[155]=-1,fn[155]=0,hn[155]=0,yn[103]=0,mn[103]=1,vn[103]=0,wn[103]=-1,In[103]=0,Pn[103]=1,Sn[103]=0,Cn[103]=-1,Nn[103]=1,an[103]=1,un[103]=0,ln[103]=0,pn[152]=0,gn[152]=1,dn[152]=1,wn[152]=-1,In[152]=0,Pn[152]=1,_n[152]=-1,En[152]=0,xn[152]=0,bn[152]=0,Mn[152]=-1,Ln[152]=0,Sn[152]=0,Cn[152]=-1,Nn[152]=1,cn[152]=1,fn[152]=0,hn[152]=1,pn[156]=0,gn[156]=-1,dn[156]=1,wn[156]=1,In[156]=0,Pn[156]=1,_n[156]=-1,En[156]=0,xn[156]=0,bn[156]=0,Mn[156]=-1,Ln[156]=0,Sn[156]=0,Cn[156]=1,Nn[156]=1,cn[156]=-1,fn[156]=0,hn[156]=1,pn[137]=0,gn[137]=1,dn[137]=1,yn[137]=0,mn[137]=1,vn[137]=0,_n[137]=-1,En[137]=0,xn[137]=0,bn[137]=0,Mn[137]=-1,Ln[137]=0,an[137]=1,un[137]=0,ln[137]=0,cn[137]=1,fn[137]=0,hn[137]=1,pn[139]=0,gn[139]=1,dn[139]=1,yn[139]=0,mn[139]=-1,vn[139]=0,_n[139]=1,En[139]=0,xn[139]=0,bn[139]=0,Mn[139]=1,Ln[139]=0,an[139]=-1,un[139]=0,ln[139]=0,cn[139]=1,fn[139]=0,hn[139]=1,pn[98]=0,gn[98]=-1,dn[98]=0,yn[98]=0,mn[98]=-1,vn[98]=1,wn[98]=1,In[98]=0,Pn[98]=0,_n[98]=1,En[98]=0,xn[98]=1,Sn[98]=0,Cn[98]=1,Nn[98]=0,an[98]=-1,un[98]=0,ln[98]=1,pn[99]=0,gn[99]=1,dn[99]=0,yn[99]=0,mn[99]=-1,vn[99]=1,wn[99]=1,In[99]=0,Pn[99]=0,_n[99]=-1,En[99]=0,xn[99]=1,Sn[99]=0,Cn[99]=-1,Nn[99]=0,an[99]=1,un[99]=0,ln[99]=1,yn[38]=0,mn[38]=-1,vn[38]=1,wn[38]=1,In[38]=0,Pn[38]=0,bn[38]=0,Mn[38]=1,Ln[38]=1,Sn[38]=0,Cn[38]=1,Nn[38]=0,an[38]=-1,un[38]=0,ln[38]=1,cn[38]=-1,fn[38]=0,hn[38]=0,yn[39]=0,mn[39]=1,vn[39]=1,wn[39]=-1,In[39]=0,Pn[39]=0,bn[39]=0,Mn[39]=-1,Ln[39]=1,Sn[39]=0,Cn[39]=1,Nn[39]=0,an[39]=-1,un[39]=0,ln[39]=1,cn[39]=1,fn[39]=0,hn[39]=0;var Ku=function(n){return[[n.bottomleft,0],[0,0],[0,n.leftbottom]]},tl=function(n){return[[1,n.rightbottom],[1,0],[n.bottomright,0]]},el=function(n){return[[n.topright,1],[1,1],[1,n.righttop]]},nl=function(n){return[[0,n.lefttop],[0,1],[n.topleft,1]]},rl=function(n){return[[n.bottomright,0],[n.bottomleft,0],[0,n.leftbottom],[0,n.lefttop]]},il=function(n){return[[n.bottomright,0],[n.bottomleft,0],[1,n.righttop],[1,n.rightbottom]]},ol=function(n){return[[1,n.righttop],[1,n.rightbottom],[n.topleft,1],[n.topright,1]]},sl=function(n){return[[0,n.leftbottom],[0,n.lefttop],[n.topleft,1],[n.topright,1]]},xe=[],me=[],Re=[],be=[],Fe=[],De=[],On=[],An=[];be[1]=Fe[1]=18,be[169]=Fe[169]=18,Re[4]=me[4]=12,Re[166]=me[166]=12,xe[16]=An[16]=4,xe[154]=An[154]=4,De[64]=On[64]=22,De[106]=On[106]=22,Re[2]=De[2]=17,be[2]=Fe[2]=18,Re[168]=De[168]=17,be[168]=Fe[168]=18,xe[8]=be[8]=9,me[8]=Re[8]=12,xe[162]=be[162]=9,me[162]=Re[162]=12,xe[32]=An[32]=4,me[32]=On[32]=1,xe[138]=An[138]=4,me[138]=On[138]=1,Fe[128]=An[128]=21,De[128]=On[128]=22,Fe[42]=An[42]=21,De[42]=On[42]=22,me[5]=Fe[5]=14,me[165]=Fe[165]=14,Re[20]=An[20]=6,Re[150]=An[150]=6,xe[80]=De[80]=11,xe[90]=De[90]=11,be[65]=On[65]=3,be[105]=On[105]=3,xe[160]=De[160]=11,me[160]=Fe[160]=14,xe[10]=De[10]=11,me[10]=Fe[10]=14,Re[130]=An[130]=6,be[130]=On[130]=3,Re[40]=An[40]=6,be[40]=On[40]=3,me[101]=On[101]=1,me[69]=On[69]=1,Fe[149]=An[149]=21,Fe[21]=An[21]=21,Re[86]=De[86]=17,Re[84]=De[84]=17,xe[89]=be[89]=9,xe[81]=be[81]=9,xe[96]=On[96]=0,me[96]=De[96]=15,xe[74]=On[74]=0,me[74]=De[74]=15,xe[24]=Re[24]=8,be[24]=An[24]=7,xe[146]=Re[146]=8,be[146]=An[146]=7,me[6]=De[6]=15,Re[6]=Fe[6]=16,me[164]=De[164]=15,Re[164]=Fe[164]=16,be[129]=An[129]=7,Fe[129]=On[129]=20,be[41]=An[41]=7,Fe[41]=On[41]=20,Re[66]=On[66]=2,be[66]=De[66]=19,Re[104]=On[104]=2,be[104]=De[104]=19,xe[144]=Fe[144]=10,De[144]=An[144]=23,xe[26]=Fe[26]=10,De[26]=An[26]=23,me[36]=An[36]=5,Re[36]=On[36]=2,me[134]=An[134]=5,Re[134]=On[134]=2,xe[9]=Fe[9]=10,me[9]=be[9]=13,xe[161]=Fe[161]=10,me[161]=be[161]=13,me[37]=An[37]=5,Fe[37]=On[37]=20,me[133]=An[133]=5,Fe[133]=On[133]=20,Re[148]=Fe[148]=16,De[148]=An[148]=23,Re[22]=Fe[22]=16,De[22]=An[22]=23,xe[82]=Re[82]=8,be[82]=De[82]=19,xe[88]=Re[88]=8,be[88]=De[88]=19,xe[73]=On[73]=0,me[73]=be[73]=13,xe[97]=On[97]=0,me[97]=be[97]=13,xe[145]=be[145]=9,Fe[145]=An[145]=21,xe[25]=be[25]=9,Fe[25]=An[25]=21,me[70]=On[70]=1,Re[70]=De[70]=17,me[100]=On[100]=1,Re[100]=De[100]=17,xe[34]=be[34]=9,me[34]=Re[34]=12,Fe[34]=An[34]=21,De[34]=On[34]=22,xe[136]=An[136]=4,me[136]=On[136]=1,Re[136]=De[136]=17,be[136]=Fe[136]=18,xe[35]=An[35]=4,me[35]=Re[35]=12,be[35]=Fe[35]=18,De[35]=On[35]=22,xe[153]=An[153]=4,be[153]=Fe[153]=18,me[102]=Re[102]=12,De[102]=On[102]=22,xe[155]=be[155]=9,Fe[155]=An[155]=23,me[103]=On[103]=1,Re[103]=De[103]=17,xe[152]=An[152]=4,Re[152]=De[152]=17,be[152]=Fe[152]=18,xe[156]=Re[156]=8,be[156]=Fe[156]=18,De[156]=An[156]=23,xe[137]=An[137]=4,me[137]=On[137]=1,be[137]=Fe[137]=18,xe[139]=An[139]=4,me[139]=be[139]=13,Fe[139]=On[139]=20,xe[98]=be[98]=9,me[98]=Re[98]=12,De[98]=On[98]=22,xe[99]=On[99]=0,me[99]=Re[99]=12,be[99]=De[99]=19,me[38]=Re[38]=12,Fe[38]=An[38]=21,De[38]=On[38]=22,me[39]=An[39]=5,Re[39]=Fe[39]=16,De[39]=On[39]=22;var fe=[];function ll(n,r,i){return function yg(n){return(n>0)-(n<0)||+n}((r[0]-n[0])*(i[1]-r[1])-(i[0]-r[0])*(r[1]-n[1]))}function bc(n,r){return r.geometry.coordinates[0].every(function(i){return vs(at(i),n)})}fe[1]=fe[169]=Ku,fe[4]=fe[166]=tl,fe[16]=fe[154]=el,fe[64]=fe[106]=nl,fe[168]=fe[2]=rl,fe[162]=fe[8]=il,fe[138]=fe[32]=ol,fe[42]=fe[128]=sl,fe[5]=fe[165]=function(n){return[[0,0],[0,n.leftbottom],[1,n.rightbottom],[1,0]]},fe[20]=fe[150]=function(n){return[[1,0],[n.bottomright,0],[n.topright,1],[1,1]]},fe[80]=fe[90]=function(n){return[[1,1],[1,n.righttop],[0,n.lefttop],[0,1]]},fe[65]=fe[105]=function(n){return[[n.bottomleft,0],[0,0],[0,1],[n.topleft,1]]},fe[160]=fe[10]=function(n){return[[1,n.righttop],[1,n.rightbottom],[0,n.leftbottom],[0,n.lefttop]]},fe[130]=fe[40]=function(n){return[[n.topleft,1],[n.topright,1],[n.bottomright,0],[n.bottomleft,0]]},fe[85]=function(){return[[0,0],[0,1],[1,1],[1,0]]},fe[101]=fe[69]=function(n){return[[1,n.rightbottom],[1,0],[0,0],[0,1],[n.topleft,1]]},fe[149]=fe[21]=function(n){return[[n.topright,1],[1,1],[1,0],[0,0],[0,n.leftbottom]]},fe[86]=fe[84]=function(n){return[[1,0],[n.bottomright,0],[0,n.lefttop],[0,1],[1,1]]},fe[89]=fe[81]=function(n){return[[1,1],[1,n.righttop],[n.bottomleft,0],[0,0],[0,1]]},fe[96]=fe[74]=function(n){return[[1,n.righttop],[1,n.rightbottom],[0,n.lefttop],[0,1],[n.topleft,1]]},fe[24]=fe[146]=function(n){return[[1,1],[1,n.righttop],[n.bottomright,0],[n.bottomleft,0],[n.topright,1]]},fe[6]=fe[164]=function(n){return[[1,n.rightbottom],[1,0],[n.bottomright,0],[0,n.leftbottom],[0,n.lefttop]]},fe[129]=fe[41]=function(n){return[[n.topright,1],[n.bottomleft,0],[0,0],[0,n.leftbottom],[n.topleft,1]]},fe[66]=fe[104]=function(n){return[[n.bottomright,0],[n.bottomleft,0],[0,n.lefttop],[0,1],[n.topleft,1]]},fe[144]=fe[26]=function(n){return[[1,1],[1,n.righttop],[0,n.leftbottom],[0,n.lefttop],[n.topright,1]]},fe[36]=fe[134]=function(n){return[[1,n.rightbottom],[1,0],[n.bottomright,0],[n.topleft,1],[n.topright,1]]},fe[9]=fe[161]=function(n){return[[1,n.righttop],[1,n.rightbottom],[n.bottomleft,0],[0,0],[0,n.leftbottom]]},fe[37]=fe[133]=function(n){return[[1,n.rightbottom],[1,0],[0,0],[0,n.leftbottom],[n.topleft,1],[n.topright,1]]},fe[148]=fe[22]=function(n){return[[1,1],[1,0],[n.bottomright,0],[0,n.leftbottom],[0,n.lefttop],[n.topright,1]]},fe[82]=fe[88]=function(n){return[[1,1],[1,n.righttop],[n.bottomright,0],[n.bottomleft,0],[0,n.lefttop],[0,1]]},fe[73]=fe[97]=function(n){return[[1,n.righttop],[1,n.rightbottom],[n.bottomleft,0],[0,0],[0,1],[n.topleft,1]]},fe[145]=fe[25]=function(n){return[[1,1],[1,n.righttop],[n.bottomleft,0],[0,0],[0,n.leftbottom],[n.topright,1]]},fe[70]=fe[100]=function(n){return[[1,n.rightbottom],[1,0],[n.bottomright,0],[0,n.lefttop],[0,1],[n.topleft,1]]},fe[34]=function(n){return[sl(n),il(n)]},fe[35]=function(n){return[[1,n.righttop],[1,n.rightbottom],[n.bottomright,0],[n.bottomleft,0],[0,n.leftbottom],[0,n.lefttop],[n.topleft,1],[n.topright,1]]},fe[136]=function(n){return[ol(n),rl(n)]},fe[153]=function(n){return[el(n),Ku(n)]},fe[102]=function(n){return[tl(n),nl(n)]},fe[155]=function(n){return[[1,1],[1,n.righttop],[n.bottomleft,0],[0,0],[0,n.leftbottom],[n.topright,1]]},fe[103]=function(n){return[[1,n.rightbottom],[1,0],[n.bottomright,0],[0,n.lefttop],[0,1],[n.topleft,1]]},fe[152]=function(n){return[el(n),rl(n)]},fe[156]=function(n){return[[1,1],[1,n.righttop],[n.bottomright,0],[n.bottomleft,0],[0,n.leftbottom],[0,n.lefttop],[n.topright,1]]},fe[137]=function(n){return[ol(n),Ku(n)]},fe[139]=function(n){return[[1,n.righttop],[1,n.rightbottom],[n.bottomleft,0],[0,0],[0,n.leftbottom],[n.topleft,1],[n.topright,1]]},fe[98]=function(n){return[il(n),nl(n)]},fe[99]=function(n){return[[1,n.righttop],[1,n.rightbottom],[n.bottomright,0],[n.bottomleft,0],[0,n.lefttop],[0,1],[n.topleft,1]]},fe[38]=function(n){return[tl(n),sl(n)]},fe[39]=function(n){return[[1,n.rightbottom],[1,0],[n.bottomright,0],[0,n.leftbottom],[0,n.lefttop],[n.topleft,1],[n.topright,1]]};const Mc=function(){function n(r){this.id=n.buildId(r),this.coordinates=r,this.innerEdges=[],this.outerEdges=[],this.outerEdgesSorted=!1}return n.buildId=function(r){return r.join(",")},n.prototype.removeInnerEdge=function(r){this.innerEdges=this.innerEdges.filter(function(i){return i.from.id!==r.from.id})},n.prototype.removeOuterEdge=function(r){this.outerEdges=this.outerEdges.filter(function(i){return i.to.id!==r.to.id})},n.prototype.addOuterEdge=function(r){this.outerEdges.push(r),this.outerEdgesSorted=!1},n.prototype.sortOuterEdges=function(){var r=this;this.outerEdgesSorted||(this.outerEdges.sort(function(i,a){var u=i.to,l=a.to;if(u.coordinates[0]-r.coordinates[0]>=0&&l.coordinates[0]-r.coordinates[0]<0)return 1;if(u.coordinates[0]-r.coordinates[0]<0&&l.coordinates[0]-r.coordinates[0]>=0)return-1;if(u.coordinates[0]-r.coordinates[0]==0&&l.coordinates[0]-r.coordinates[0]==0)return u.coordinates[1]-r.coordinates[1]>=0||l.coordinates[1]-r.coordinates[1]>=0?u.coordinates[1]-l.coordinates[1]:l.coordinates[1]-u.coordinates[1];var c=ll(r.coordinates,u.coordinates,l.coordinates);return c<0?1:c>0?-1:Math.pow(u.coordinates[0]-r.coordinates[0],2)+Math.pow(u.coordinates[1]-r.coordinates[1],2)-(Math.pow(l.coordinates[0]-r.coordinates[0],2)+Math.pow(l.coordinates[1]-r.coordinates[1],2))}),this.outerEdgesSorted=!0)},n.prototype.getOuterEdges=function(){return this.sortOuterEdges(),this.outerEdges},n.prototype.getOuterEdge=function(r){return this.sortOuterEdges(),this.outerEdges[r]},n.prototype.addInnerEdge=function(r){this.innerEdges.push(r)},n}(),xg=function(){function n(r,i){this.from=r,this.to=i,this.next=void 0,this.label=void 0,this.symetric=void 0,this.ring=void 0,this.from.addOuterEdge(this),this.to.addInnerEdge(this)}return n.prototype.getSymetric=function(){return this.symetric||(this.symetric=new n(this.to,this.from),this.symetric.symetric=this),this.symetric},n.prototype.deleteEdge=function(){this.from.removeOuterEdge(this),this.to.removeInnerEdge(this)},n.prototype.isEqual=function(r){return this.from.id===r.from.id&&this.to.id===r.to.id},n.prototype.toString=function(){return"Edge { "+this.from.id+" -> "+this.to.id+" }"},n.prototype.toLineString=function(){return kt([this.from.coordinates,this.to.coordinates])},n.prototype.compareTo=function(r){return ll(r.from.coordinates,r.to.coordinates,this.to.coordinates)},n}(),Ig=function(){function n(){this.edges=[],this.polygon=void 0,this.envelope=void 0}return n.prototype.push=function(r){this.edges.push(r),this.polygon=this.envelope=void 0},n.prototype.get=function(r){return this.edges[r]},Object.defineProperty(n.prototype,"length",{get:function(){return this.edges.length},enumerable:!0,configurable:!0}),n.prototype.forEach=function(r){this.edges.forEach(r)},n.prototype.map=function(r){return this.edges.map(r)},n.prototype.some=function(r){return this.edges.some(r)},n.prototype.isValid=function(){return!0},n.prototype.isHole=function(){var r=this,i=this.edges.reduce(function(c,p,g){return p.from.coordinates[1]>r.edges[c].from.coordinates[1]&&(c=g),c},0),a=(0===i?this.length:i)-1,u=(i+1)%this.length,l=ll(this.edges[a].from.coordinates,this.edges[i].from.coordinates,this.edges[u].from.coordinates);return 0===l?this.edges[a].from.coordinates[0]>this.edges[u].from.coordinates[0]:l>0},n.prototype.toMultiPoint=function(){return ct(this.edges.map(function(r){return r.from.coordinates}))},n.prototype.toPolygon=function(){if(this.polygon)return this.polygon;var r=this.edges.map(function(i){return i.from.coordinates});return r.push(this.edges[0].from.coordinates),this.polygon=qt([r])},n.prototype.getEnvelope=function(){return this.envelope?this.envelope:this.envelope=function s(n){return function o(n,r){void 0===r&&(r={});var i=Number(n[0]),a=Number(n[1]),u=Number(n[2]),l=Number(n[3]);if(6===n.length)throw new Error("@turf/bbox-polygon does not support BBox with 6 positions");var c=[i,a];return qt([[c,[u,a],[u,l],[i,l],c]],r.properties,{bbox:n,id:r.id})}(Ue(n))}(this.toPolygon())},n.findEdgeRingContaining=function(r,i){var u,l,a=r.getEnvelope();return i.forEach(function(c){var p=c.getEnvelope();if(l&&(u=l.getEnvelope()),!function mg(n,r){var i=n.geometry.coordinates[0].map(function(c){return c[0]}),a=n.geometry.coordinates[0].map(function(c){return c[1]}),u=r.geometry.coordinates[0].map(function(c){return c[0]}),l=r.geometry.coordinates[0].map(function(c){return c[1]});return Math.max.apply(null,i)===Math.max.apply(null,u)&&Math.max.apply(null,a)===Math.max.apply(null,l)&&Math.min.apply(null,i)===Math.min.apply(null,u)&&Math.min.apply(null,a)===Math.min.apply(null,l)}(p,a)&&bc(p,a)){for(var g=r.map(function(N){return N.from.coordinates}),h=void 0,d=function(N){c.some(function(x){return function vg(n,r){return n[0]===r[0]&&n[1]===r[1]}(N,x.from.coordinates)})||(h=N)},y=0,m=g;y<m.length;y++)d(m[y]);h&&c.inside(at(h))&&(!l||bc(u,p))&&(l=c)}}),l},n.prototype.inside=function(r){return vs(r,this.toPolygon())},n}();!function(){function n(){this.edges=[],this.nodes={}}n.fromGeoJson=function(r){!function Pg(n){if(!n)throw new Error("No geojson passed");if("FeatureCollection"!==n.type&&"GeometryCollection"!==n.type&&"MultiLineString"!==n.type&&"LineString"!==n.type&&"Feature"!==n.type)throw new Error("Invalid input type '"+n.type+"'. Geojson must be FeatureCollection, GeometryCollection, LineString, MultiLineString or Feature")}(r);var i=new n;return Vt(r,function(a){(function Ki(n,r,i){if(!n)throw new Error("No feature passed");if(!i)throw new Error(".featureOf() requires a name");if(!n||"Feature"!==n.type||!n.geometry)throw new Error("Invalid input to "+i+", Feature with geometry required");if(!n.geometry||n.geometry.type!==r)throw new Error("Invalid input to "+i+": must be a "+r+", given "+n.geometry.type)})(a,"LineString","Graph::fromGeoJson"),function wt(n,r,i,a){var u=i;H(n,function(l,c,p,g,h){u=0===c&&void 0===i?l:r(u,l,c,p,g,h)},a)}(a,function(u,l){if(u){var c=i.getNode(u),p=i.getNode(l);i.addEdge(c,p)}return l})}),i},n.prototype.getNode=function(r){var i=Mc.buildId(r),a=this.nodes[i];return a||(a=this.nodes[i]=new Mc(r)),a},n.prototype.addEdge=function(r,i){var a=new xg(r,i),u=a.getSymetric();this.edges.push(a),this.edges.push(u)},n.prototype.deleteDangles=function(){var r=this;Object.keys(this.nodes).map(function(i){return r.nodes[i]}).forEach(function(i){return r._removeIfDangle(i)})},n.prototype._removeIfDangle=function(r){var i=this;if(r.innerEdges.length<=1){var a=r.getOuterEdges().map(function(u){return u.to});this.removeNode(r),a.forEach(function(u){return i._removeIfDangle(u)})}},n.prototype.deleteCutEdges=function(){var r=this;this._computeNextCWEdges(),this._findLabeledEdgeRings(),this.edges.forEach(function(i){i.label===i.symetric.label&&(r.removeEdge(i.symetric),r.removeEdge(i))})},n.prototype._computeNextCWEdges=function(r){var i=this;typeof r>"u"?Object.keys(this.nodes).forEach(function(a){return i._computeNextCWEdges(i.nodes[a])}):r.getOuterEdges().forEach(function(a,u){r.getOuterEdge((0===u?r.getOuterEdges().length:u)-1).symetric.next=a})},n.prototype._computeNextCCWEdges=function(r,i){for(var u,l,a=r.getOuterEdges(),c=a.length-1;c>=0;--c){var p=a[c],g=p.symetric,h=void 0,d=void 0;p.label===i&&(h=p),g.label===i&&(d=g),h&&d&&(d&&(l=d),h&&(l&&(l.next=h,l=void 0),u||(u=h)))}l&&(l.next=u)},n.prototype._findLabeledEdgeRings=function(){var r=[],i=0;return this.edges.forEach(function(a){if(!(a.label>=0)){r.push(a);var u=a;do{u.label=i,u=u.next}while(!a.isEqual(u));i++}}),r},n.prototype.getEdgeRings=function(){var r=this;this._computeNextCWEdges(),this.edges.forEach(function(a){a.label=void 0}),this._findLabeledEdgeRings().forEach(function(a){r._findIntersectionNodes(a).forEach(function(u){r._computeNextCCWEdges(u,a.label)})});var i=[];return this.edges.forEach(function(a){a.ring||i.push(r._findEdgeRing(a))}),i},n.prototype._findIntersectionNodes=function(r){var i=[],a=r,u=function(){var l=0;a.from.getOuterEdges().forEach(function(c){c.label===r.label&&++l}),l>1&&i.push(a.from),a=a.next};do{u()}while(!r.isEqual(a));return i},n.prototype._findEdgeRing=function(r){var i=r,a=new Ig;do{a.push(i),i.ring=a,i=i.next}while(!r.isEqual(i));return a},n.prototype.removeNode=function(r){var i=this;r.getOuterEdges().forEach(function(a){return i.removeEdge(a)}),r.innerEdges.forEach(function(a){return i.removeEdge(a)}),delete this.nodes[r.id]},n.prototype.removeEdge=function(r){this.edges=this.edges.filter(function(i){return!i.isEqual(r)}),r.deleteEdge()}}();var qg=F(9906);const zg=function kg(n,r){return Rn(n).type===Rn(r).type&&new qg({precision:6}).compare(Ts(n),Ts(r))};function Gc(n){for(var r=n,i=[];r.parent;)i.unshift(r),r=r.parent;return i}F(7249),F(3357);var iu={search:function(n,r,i,a){n.cleanDirty();var u=(a=a||{}).heuristic||iu.heuristics.manhattan,l=a.closest||!1,c=function Xg(){return new qc(function(n){return n.f})}(),p=r;for(r.h=u(r,i),c.push(r);c.size()>0;){var g=c.pop();if(g===i)return Gc(g);g.closed=!0;for(var h=n.neighbors(g),d=0,y=h.length;d<y;++d){var m=h[d];if(!m.closed&&!m.isWall()){var _=g.g+m.getCost(g),N=m.visited;(!N||_<m.g)&&(m.visited=!0,m.parent=g,m.h=m.h||u(m,i),m.g=_,m.f=m.g+m.h,n.markDirty(m),l&&(m.h<p.h||m.h===p.h&&m.g<p.g)&&(p=m),N?c.rescoreElement(m):c.push(m))}}}return l?Gc(p):[]},heuristics:{manhattan:function(n,r){return Math.abs(r.x-n.x)+Math.abs(r.y-n.y)},diagonal:function(n,r){var a=Math.sqrt(2),u=Math.abs(r.x-n.x),l=Math.abs(r.y-n.y);return 1*(u+l)+(a-2)*Math.min(u,l)}},cleanNode:function(n){n.f=0,n.g=0,n.h=0,n.visited=!1,n.closed=!1,n.parent=null}};function sa(n,r){r=r||{},this.nodes=[],this.diagonal=!!r.diagonal,this.grid=[];for(var i=0;i<n.length;i++){this.grid[i]=[];for(var a=0,u=n[i];a<u.length;a++){var l=new ou(i,a,u[a]);this.grid[i][a]=l,this.nodes.push(l)}}this.init()}function ou(n,r,i){this.x=n,this.y=r,this.weight=i}function qc(n){this.content=[],this.scoreFunction=n}function fl(){this._=null}function su(n){n.U=n.C=n.L=n.R=n.P=n.N=null}function ba(n,r){var i=r,a=r.R,u=i.U;u?u.L===i?u.L=a:u.R=a:n._=a,a.U=u,i.U=a,i.R=a.L,i.R&&(i.R.U=i),a.L=i}function Ma(n,r){var i=r,a=r.L,u=i.U;u?u.L===i?u.L=a:u.R=a:n._=a,a.U=u,i.U=a,i.L=a.R,i.L&&(i.L.U=i),a.R=i}function kc(n){for(;n.L;)n=n.L;return n}sa.prototype.init=function(){this.dirtyNodes=[];for(var n=0;n<this.nodes.length;n++)iu.cleanNode(this.nodes[n])},sa.prototype.cleanDirty=function(){for(var n=0;n<this.dirtyNodes.length;n++)iu.cleanNode(this.dirtyNodes[n]);this.dirtyNodes=[]},sa.prototype.markDirty=function(n){this.dirtyNodes.push(n)},sa.prototype.neighbors=function(n){var r=[],i=n.x,a=n.y,u=this.grid;return u[i-1]&&u[i-1][a]&&r.push(u[i-1][a]),u[i+1]&&u[i+1][a]&&r.push(u[i+1][a]),u[i]&&u[i][a-1]&&r.push(u[i][a-1]),u[i]&&u[i][a+1]&&r.push(u[i][a+1]),this.diagonal&&(u[i-1]&&u[i-1][a-1]&&r.push(u[i-1][a-1]),u[i+1]&&u[i+1][a-1]&&r.push(u[i+1][a-1]),u[i-1]&&u[i-1][a+1]&&r.push(u[i-1][a+1]),u[i+1]&&u[i+1][a+1]&&r.push(u[i+1][a+1])),r},sa.prototype.toString=function(){for(var i,a,u,l,n=[],r=this.grid,c=0,p=r.length;c<p;c++){for(i=[],u=0,l=(a=r[c]).length;u<l;u++)i.push(a[u].weight);n.push(i.join(" "))}return n.join("\n")},ou.prototype.toString=function(){return"["+this.x+" "+this.y+"]"},ou.prototype.getCost=function(n){return n&&n.x!==this.x&&n.y!==this.y?1.41421*this.weight:this.weight},ou.prototype.isWall=function(){return 0===this.weight},qc.prototype={push:function(n){this.content.push(n),this.sinkDown(this.content.length-1)},pop:function(){var n=this.content[0],r=this.content.pop();return this.content.length>0&&(this.content[0]=r,this.bubbleUp(0)),n},remove:function(n){var r=this.content.indexOf(n),i=this.content.pop();r!==this.content.length-1&&(this.content[r]=i,this.scoreFunction(i)<this.scoreFunction(n)?this.sinkDown(r):this.bubbleUp(r))},size:function(){return this.content.length},rescoreElement:function(n){this.sinkDown(this.content.indexOf(n))},sinkDown:function(n){for(var r=this.content[n];n>0;){var i=(n+1>>1)-1,a=this.content[i];if(!(this.scoreFunction(r)<this.scoreFunction(a)))break;this.content[i]=r,this.content[n]=a,n=i}},bubbleUp:function(n){for(var r=this.content.length,i=this.content[n],a=this.scoreFunction(i);;){var p,u=n+1<<1,l=u-1,c=null;if(l<r&&(p=this.scoreFunction(this.content[l]))<a&&(c=l),u<r&&this.scoreFunction(this.content[u])<(null===c?a:p)&&(c=u),null===c)break;this.content[n]=this.content[c],this.content[c]=i,n=c}}},fl.prototype={constructor:fl,insert:function(n,r){var i,a,u;if(n){if(r.P=n,r.N=n.N,n.N&&(n.N.P=r),n.N=r,n.R){for(n=n.R;n.L;)n=n.L;n.L=r}else n.R=r;i=n}else this._?(n=kc(this._),r.P=null,r.N=n,n.P=n.L=r,i=n):(r.P=r.N=null,this._=r,i=null);for(r.L=r.R=null,r.U=i,r.C=!0,n=r;i&&i.C;)i===(a=i.U).L?(u=a.R)&&u.C?(i.C=u.C=!1,a.C=!0,n=a):(n===i.R&&(ba(this,i),i=(n=i).U),i.C=!1,a.C=!0,Ma(this,a)):(u=a.L)&&u.C?(i.C=u.C=!1,a.C=!0,n=a):(n===i.L&&(Ma(this,i),i=(n=i).U),i.C=!1,a.C=!0,ba(this,a)),i=n.U;this._.C=!1},remove:function(n){n.N&&(n.N.P=n.P),n.P&&(n.P.N=n.N),n.N=n.P=null;var i,l,c,r=n.U,a=n.L,u=n.R;if(l=a?u?kc(u):a:u,r?r.L===n?r.L=l:r.R=l:this._=l,a&&u?(c=l.C,l.C=n.C,l.L=a,a.U=l,l!==u?(r=l.U,l.U=n.U,r.L=n=l.R,l.R=u,u.U=l):(l.U=r,r=l,n=l.R)):(c=n.C,n=l),n&&(n.U=r),!c){if(n&&n.C)return void(n.C=!1);do{if(n===this._)break;if(n===r.L){if((i=r.R).C&&(i.C=!1,r.C=!0,ba(this,r),i=r.R),i.L&&i.L.C||i.R&&i.R.C){(!i.R||!i.R.C)&&(i.L.C=!1,i.C=!0,Ma(this,i),i=r.R),i.C=r.C,r.C=i.R.C=!1,ba(this,r),n=this._;break}}else if((i=r.L).C&&(i.C=!1,r.C=!0,Ma(this,r),i=r.L),i.L&&i.L.C||i.R&&i.R.C){(!i.L||!i.L.C)&&(i.R.C=!1,i.C=!0,ba(this,i),i=r.L),i.C=r.C,r.C=i.L.C=!1,Ma(this,r),n=this._;break}i.C=!0,n=r,r=r.U}while(!n.C);n&&(n.C=!1)}}};const zc=fl;function La(n,r,i,a){var u=[null,null],l=Bi.push(u)-1;return u.left=n,u.right=r,i&&au(u,n,r,i),a&&au(u,r,n,a),wo[n.index].halfedges.push(l),wo[r.index].halfedges.push(l),u}function Oa(n,r,i){var a=[r,i];return a.left=n,a}function au(n,r,i,a){n[0]||n[1]?n.left===i?n[1]=a:n[0]=a:(n[0]=a,n.left=r,n.right=i)}function Hg(n,r,i,a,u){var x,l=n[0],c=n[1],p=l[0],g=l[1],y=0,m=1,_=c[0]-p,N=c[1]-g;if(x=r-p,_||!(x>0)){if(x/=_,_<0){if(x<y)return;x<m&&(m=x)}else if(_>0){if(x>m)return;x>y&&(y=x)}if(x=a-p,_||!(x<0)){if(x/=_,_<0){if(x>m)return;x>y&&(y=x)}else if(_>0){if(x<y)return;x<m&&(m=x)}if(x=i-g,N||!(x>0)){if(x/=N,N<0){if(x<y)return;x<m&&(m=x)}else if(N>0){if(x>m)return;x>y&&(y=x)}if(x=u-g,N||!(x<0)){if(x/=N,N<0){if(x>m)return;x>y&&(y=x)}else if(N>0){if(x<y)return;x<m&&(m=x)}return!(y>0)&&!(m<1)||(y>0&&(n[0]=[p+y*_,g+y*N]),m<1&&(n[1]=[p+m*_,g+m*N])),!0}}}}}function Wg(n,r,i,a,u){var l=n[1];if(l)return!0;var x,b,c=n[0],p=n.left,g=n.right,h=p[0],d=p[1],y=g[0],m=g[1],_=(h+y)/2;if(m===d){if(_<r||_>=a)return;if(h>y){if(c){if(c[1]>=u)return}else c=[_,i];l=[_,u]}else{if(c){if(c[1]<i)return}else c=[_,u];l=[_,i]}}else if(b=(d+m)/2-(x=(h-y)/(m-d))*_,x<-1||x>1)if(h>y){if(c){if(c[1]>=u)return}else c=[(i-b)/x,i];l=[(u-b)/x,u]}else{if(c){if(c[1]<i)return}else c=[(u-b)/x,u];l=[(i-b)/x,i]}else if(d<m){if(c){if(c[0]>=a)return}else c=[r,x*r+b];l=[a,x*a+b]}else{if(c){if(c[0]<r)return}else c=[a,x*a+b];l=[r,x*r+b]}return n[0]=c,n[1]=l,!0}function jg(n,r){var i=n.site,a=r.left,u=r.right;return i===u&&(u=a,a=i),u?Math.atan2(u[1]-a[1],u[0]-a[0]):(i===a?(a=r[1],u=r[0]):(a=r[0],u=r[1]),Math.atan2(a[0]-u[0],u[1]-a[1]))}function Uc(n,r){return r[+(r.left!==n.site)]}function Jg(n,r){return r[+(r.left===n.site)]}var hl,Xc=[];function Kg(){su(this),this.x=this.y=this.arc=this.site=this.cy=null}function aa(n){var r=n.P,i=n.N;if(r&&i){var a=r.site,u=n.site,l=i.site;if(a!==l){var c=u[0],p=u[1],g=a[0]-c,h=a[1]-p,d=l[0]-c,y=l[1]-p,m=2*(g*y-h*d);if(!(m>=-id)){var _=g*g+h*h,N=d*d+y*y,x=(y*_-h*N)/m,b=(g*N-d*_)/m,I=Xc.pop()||new Kg;I.arc=n,I.site=u,I.x=x+c,I.y=(I.cy=b+p)+Math.sqrt(x*x+b*b),n.circle=I;for(var w=null,C=Ra._;C;)if(I.y<C.y||I.y===C.y&&I.x<=C.x){if(!C.L){w=C.P;break}C=C.L}else{if(!C.R){w=C;break}C=C.R}Ra.insert(w,I),w||(hl=I)}}}}function ua(n){var r=n.circle;r&&(r.P||(hl=r.N),Ra.remove(r),Xc.push(r),su(r),n.circle=null)}var Yc=[];function td(){su(this),this.edge=this.site=this.circle=null}function Hc(n){var r=Yc.pop()||new td;return r.site=n,r}function pl(n){ua(n),la.remove(n),Yc.push(n),su(n)}function ed(n){var r=n.circle,i=r.x,a=r.cy,u=[i,a],l=n.P,c=n.N,p=[n];pl(n);for(var g=l;g.circle&&Math.abs(i-g.circle.x)<Ir&&Math.abs(a-g.circle.cy)<Ir;)l=g.P,p.unshift(g),pl(g),g=l;p.unshift(g),ua(g);for(var h=c;h.circle&&Math.abs(i-h.circle.x)<Ir&&Math.abs(a-h.circle.cy)<Ir;)c=h.N,p.push(h),pl(h),h=c;p.push(h),ua(h);var y,d=p.length;for(y=1;y<d;++y)au((h=p[y]).edge,(g=p[y-1]).site,h.site,u);(h=p[d-1]).edge=La((g=p[0]).site,h.site,null,u),aa(g),aa(h)}function nd(n){for(var a,u,l,c,r=n[0],i=n[1],p=la._;p;)if((l=Wc(p,i)-r)>Ir)p=p.L;else{if(!((c=r-rd(p,i))>Ir)){l>-Ir?(a=p.P,u=p):c>-Ir?(a=p,u=p.N):a=u=p;break}if(!p.R){a=p;break}p=p.R}!function Vg(n){wo[n.index]={site:n,halfedges:[]}}(n);var g=Hc(n);if(la.insert(a,g),a||u){if(a===u)return ua(a),u=Hc(a.site),la.insert(g,u),g.edge=u.edge=La(a.site,g.site),aa(a),void aa(u);if(!u)return void(g.edge=La(a.site,g.site));ua(a),ua(u);var h=a.site,d=h[0],y=h[1],m=n[0]-d,_=n[1]-y,N=u.site,x=N[0]-d,b=N[1]-y,I=2*(m*b-_*x),w=m*m+_*_,C=x*x+b*b,T=[(b*w-_*C)/I+d,(m*C-x*w)/I+y];au(u.edge,h,N,T),g.edge=La(h,n,null,T),u.edge=La(n,N,null,T),aa(a),aa(u)}}function Wc(n,r){var i=n.site,a=i[0],u=i[1],l=u-r;if(!l)return a;var c=n.P;if(!c)return-1/0;var p=(i=c.site)[0],g=i[1],h=g-r;if(!h)return p;var d=p-a,y=1/l-1/h,m=d/h;return y?(-m+Math.sqrt(m*m-2*y*(d*d/(-2*h)-g+h/2+u-l/2)))/y+a:(a+p)/2}function rd(n,r){var i=n.N;if(i)return Wc(i,r);var a=n.site;return a[1]===r?a[0]:1/0}var la,wo,Ra,Bi,Ir=1e-6,id=1e-12;function od(n,r,i){return(n[0]-i[0])*(r[1]-n[1])-(n[0]-r[0])*(i[1]-n[1])}function sd(n,r){return r[1]-n[1]||r[0]-n[0]}function $c(n,r){var a,u,l,i=n.sort(sd).pop();for(Bi=[],wo=new Array(n.length),la=new zc,Ra=new zc;;)if(l=hl,i&&(!l||i[1]<l.y||i[1]===l.y&&i[0]<l.x))(i[0]!==a||i[1]!==u)&&(nd(i),a=i[0],u=i[1]),i=n.pop();else{if(!l)break;ed(l.arc)}if(function Zg(){for(var i,a,u,l,n=0,r=wo.length;n<r;++n)if((i=wo[n])&&(l=(a=i.halfedges).length)){var c=new Array(l),p=new Array(l);for(u=0;u<l;++u)c[u]=u,p[u]=jg(i,Bi[a[u]]);for(c.sort(function(g,h){return p[h]-p[g]}),u=0;u<l;++u)p[u]=a[c[u]];for(u=0;u<l;++u)a[u]=p[u]}}(),r){var c=+r[0][0],p=+r[0][1],g=+r[1][0],h=+r[1][1];(function $g(n,r,i,a){for(var l,u=Bi.length;u--;)Wg(l=Bi[u],n,r,i,a)&&Hg(l,n,r,i,a)&&(Math.abs(l[0][0]-l[1][0])>Ir||Math.abs(l[0][1]-l[1][1])>Ir)||delete Bi[u]})(c,p,g,h),function Qg(n,r,i,a){var l,c,p,g,h,d,y,m,_,N,x,b,u=wo.length,I=!0;for(l=0;l<u;++l)if(c=wo[l]){for(p=c.site,g=(h=c.halfedges).length;g--;)Bi[h[g]]||h.splice(g,1);for(g=0,d=h.length;g<d;)x=(N=Jg(c,Bi[h[g]]))[0],b=N[1],m=(y=Uc(c,Bi[h[++g%d]]))[0],_=y[1],(Math.abs(x-m)>Ir||Math.abs(b-_)>Ir)&&(h.splice(g,0,Bi.push(Oa(p,N,Math.abs(x-n)<Ir&&a-b>Ir?[n,Math.abs(m-n)<Ir?_:a]:Math.abs(b-a)<Ir&&i-x>Ir?[Math.abs(_-a)<Ir?m:i,a]:Math.abs(x-i)<Ir&&b-r>Ir?[i,Math.abs(m-i)<Ir?_:r]:Math.abs(b-r)<Ir&&x-n>Ir?[Math.abs(_-r)<Ir?m:n,r]:null))-1),++d);d&&(I=!1)}if(I){var w,C,T,O=1/0;for(l=0,I=null;l<u;++l)(c=wo[l])&&(T=(w=(p=c.site)[0]-n)*w+(C=p[1]-r)*C)<O&&(O=T,I=c);if(I){var k=[n,r],D=[n,a],Y=[i,a],A=[i,r];I.halfedges.push(Bi.push(Oa(p=I.site,k,D))-1,Bi.push(Oa(p,D,Y))-1,Bi.push(Oa(p,Y,A))-1,Bi.push(Oa(p,A,k))-1)}}for(l=0;l<u;++l)(c=wo[l])&&(c.halfedges.length||delete wo[l])}(c,p,g,h)}this.edges=Bi,this.cells=wo,la=Ra=Bi=wo=null}function Bs(){return new uu}function uu(){this.reset()}$c.prototype={constructor:$c,polygons:function(){var n=this.edges;return this.cells.map(function(r){var i=r.halfedges.map(function(a){return Uc(r,n[a])});return i.data=r.site.data,i})},triangles:function(){var n=[],r=this.edges;return this.cells.forEach(function(i,a){if(p=(l=i.halfedges).length)for(var l,p,g,u=i.site,c=-1,h=r[l[p-1]],d=h.left===u?h.right:h.left;++c<p;)g=d,d=(h=r[l[c]]).left===u?h.right:h.left,g&&d&&a<g.index&&a<d.index&&od(u,g,d)<0&&n.push([u.data,g.data,d.data])}),n},links:function(){return this.edges.filter(function(n){return n.right}).map(function(n){return{source:n.left.data,target:n.right.data}})},find:function(n,r,i){for(var u,p,a=this,l=a._found||0,c=a.cells.length;!(p=a.cells[l]);)if(++l>=c)return null;var g=n-p.site[0],h=r-p.site[1],d=g*g+h*h;do{p=a.cells[u=l],l=null,p.halfedges.forEach(function(y){var m=a.edges[y],_=m.left;if(_!==p.site&&_||(_=m.right)){var N=n-_[0],x=r-_[1],b=N*N+x*x;b<d&&(d=b,l=_.index)}})}while(null!==l);return a._found=u,null==i||d<=i*i?p.site:null}},F(5985),F(9258),uu.prototype={constructor:uu,reset:function(){this.s=this.t=0},add:function(n){of(lu,n,this.t),of(this,lu.s,this.s),this.s?this.t+=lu.t:this.s=lu.t},valueOf:function(){return this.s}};var lu=new uu;function of(n,r,i){var a=n.s=r+i,u=a-r;n.t=r-(a-u)+(i-u)}var br=Math.PI,ao=br/2,ca=2*br,_r=br/180,Aa=(Math,Math.atan),fa=Math.atan2,Xn=Math.cos,Tn=(Math,Math,Math,Math,Math,Math.sin),xs=(Math,Math.sqrt);Math;function ha(n){return n>1?ao:n<-1?-ao:Math.asin(n)}function Nl(n,r){return[n>br?n-ca:n<-br?n+ca:n,r]}function Rf(n,r){return n<r?-1:n>r?1:n>=r?0:NaN}Bs(),Bs(),Bs(),Nl.invert=Nl,function Gd(n){1===n.length&&(n=function qd(n){return function(r,i){return Rf(n(r),i)}}(n))}(Rf),Math.sqrt(50),Math.sqrt(10),Math.sqrt(2);Bs();function Wl(){}function ih(n){return function(r,i){var a=Xn(r),u=Xn(i),l=n(a*u);return[l*u*Tn(r),l*Tn(i)]}}function Xa(n){return function(r,i){var a=xs(r*r+i*i),u=n(a),l=Tn(u),c=Xn(u);return[fa(r*l,a*c),ha(a&&i*l/a)]}}function Vl(n,r){return[n,r]}Bs(),Bs(),Bs(),Bs(),function eh(n){return"m0,"+n+"a"+n+","+n+" 0 1,1 0,"+-2*n+"a"+n+","+n+" 0 1,1 0,"+2*n+"z"}(4.5),Wl.prototype={constructor:Wl,point:function(n,r){this.stream.point(n,r)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}},Xn(30*_r),function nh(n){return function(r){var i=new Wl;for(var a in n)i[a]=n[a];return i.stream=r,i}}({point:function(n,r){this.stream.point(n*_r,r*_r)}}),ih(function(n){return xs(2/(1+n))}).invert=Xa(function(n){return 2*ha(n/2)}),ih(function(n){return(n=function Ed(n){return n>1?0:n<-1?br:Math.acos(n)}(n))&&n/Tn(n)}).invert=Xa(function(n){return n}),Vl.invert=Vl,Xa(Aa),Xa(ha),Xa(function(n){return 2*Aa(n)})}}]);