"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[8435],{8435:(F,d,s)=>{s.r(d),s.d(d,{HttpLoaderFactory:()=>f,SettingNetworkPageModule:()=>I});var h=s(177),c=s(9417),m=s(1470),a=s(8974),g=s(467),u=s(9088),e=s(6996),b=s(9884),p=s(1626),w=s(7157),_=s(9664);function S(l,M){if(1&l){const t=e.RV6();e.j41(0,"section")(1,"ion-item")(2,"ion-toggle",13),e.bIt("ngModelChange",function(n){e.eBV(t);const o=e.XpG(2);return e.Njj(o.model_lan0_dhcp=n)})("ionChange",function(n){e.eBV(t);const o=e.XpG(2);return e.Njj(o.dhcpChange(n))}),e.k0s(),e.j41(3,"ion-label"),e.EFF(4,"LAN0 DHCP"),e.k0s()(),e.j41(5,"section")(6,"ion-item")(7,"ion-label",6),e.EFF(8,"LAN0 IP"),e.k0s(),e.j41(9,"ion-input",14),e.bIt("ngModelChange",function(n){e.eBV(t);const o=e.XpG(2);return e.Njj(o.model_lan0_ip=n)}),e.k0s()(),e.j41(10,"ion-item")(11,"ion-label",6),e.EFF(12,"LAN0 Subnet"),e.k0s(),e.j41(13,"ion-input",15),e.bIt("ngModelChange",function(n){e.eBV(t);const o=e.XpG(2);return e.Njj(o.model_lan0_subnet=n)}),e.k0s()(),e.j41(14,"ion-item")(15,"ion-label",6),e.EFF(16,"LAN0 Gateway"),e.k0s(),e.j41(17,"ion-input",14),e.bIt("ngModelChange",function(n){e.eBV(t);const o=e.XpG(2);return e.Njj(o.model_lan0_gateway=n)}),e.k0s()()(),e.j41(18,"ion-item")(19,"ion-label",6),e.EFF(20,"LAN1 IP"),e.k0s(),e.j41(21,"ion-input",16),e.bIt("ngModelChange",function(n){e.eBV(t);const o=e.XpG(2);return e.Njj(o.model_lan1_ip=n)}),e.k0s()(),e.j41(22,"ion-item")(23,"ion-label",6),e.EFF(24,"LAN1 Subnet"),e.k0s(),e.j41(25,"ion-input",17),e.bIt("ngModelChange",function(n){e.eBV(t);const o=e.XpG(2);return e.Njj(o.model_lan1_subnet=n)}),e.k0s()(),e.j41(26,"ion-item")(27,"ion-label",6),e.EFF(28,"LAN1 Gateway"),e.k0s(),e.j41(29,"ion-input",16),e.bIt("ngModelChange",function(n){e.eBV(t);const o=e.XpG(2);return e.Njj(o.model_lan1_gateway=n)}),e.k0s()(),e.j41(30,"ion-item",18)(31,"ion-label"),e.EFF(32),e.nI1(33,"translate"),e.k0s()()()}if(2&l){const t=e.XpG(2);e.R7$(2),e.Y8G("ngModel",t.model_lan0_dhcp),e.R7$(7),e.Y8G("ngModel",t.model_lan0_ip)("disabled",!t.show_ip_lan0),e.R7$(4),e.Y8G("ngModel",t.model_lan0_subnet)("disabled",!t.show_ip_lan0),e.R7$(4),e.Y8G("ngModel",t.model_lan0_gateway)("disabled",!t.show_ip_lan0),e.R7$(4),e.Y8G("ngModel",t.model_lan1_ip),e.R7$(4),e.Y8G("ngModel",t.model_lan1_subnet),e.R7$(4),e.Y8G("ngModel",t.model_lan1_gateway),e.R7$(3),e.JRh(e.bMT(33,11,"MSG_PLEASE_RBOOT"))}}function C(l,M){if(1&l){const t=e.RV6();e.j41(0,"section")(1,"ion-list")(2,"ion-item")(3,"ion-label",6),e.EFF(4),e.nI1(5,"translate"),e.k0s(),e.j41(6,"ion-button",7),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.openWiFiDialog())}),e.EFF(7),e.nI1(8,"translate"),e.k0s()(),e.j41(9,"ion-item")(10,"ion-label",6),e.EFF(11,"SSID"),e.k0s(),e.j41(12,"ion-input",8),e.bIt("ngModelChange",function(n){e.eBV(t);const o=e.XpG();return e.Njj(o.model_SSID=n)}),e.k0s()(),e.j41(13,"ion-item")(14,"ion-label",6),e.EFF(15),e.nI1(16,"translate"),e.k0s(),e.j41(17,"ion-input",9),e.bIt("ngModelChange",function(n){e.eBV(t);const o=e.XpG();return e.Njj(o.model_Password=n)}),e.k0s(),e.j41(18,"ion-icon",10),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.togglePassword())}),e.k0s()(),e.j41(19,"ion-item")(20,"ion-toggle",11),e.bIt("ngModelChange",function(n){e.eBV(t);const o=e.XpG();return e.Njj(o.model_check_wifi=n)}),e.k0s(),e.j41(21,"ion-label"),e.EFF(22),e.nI1(23,"translate"),e.k0s()()(),e.j41(24,"ion-list")(25,"ion-button",12),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.connectWiFi())}),e.EFF(26),e.nI1(27,"translate"),e.k0s(),e.j41(28,"ion-button",12),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.deleteWiFi())}),e.EFF(29),e.nI1(30,"translate"),e.k0s()(),e.DNE(31,S,34,13,"section",5),e.k0s()}if(2&l){const t=e.XpG();e.R7$(4),e.JRh(e.bMT(5,12,"WIFI")),e.R7$(3),e.SpI(" ",e.bMT(8,14,"SCAN")," "),e.R7$(5),e.Y8G("ngModel",t.model_SSID),e.R7$(3),e.JRh(e.bMT(16,16,"PASSWORD")),e.R7$(2),e.Y8G("type",t.passwordType)("ngModel",t.model_Password),e.R7$(1),e.Y8G("name",t.iconEye),e.R7$(2),e.Y8G("ngModel",t.model_check_wifi),e.R7$(2),e.JRh(e.bMT(23,18,"TURNOFF_WIFI5M")),e.R7$(4),e.JRh(e.bMT(27,20,"CONNECT")),e.R7$(3),e.JRh(e.bMT(30,22,"DELETE_WIFI")),e.R7$(2),e.Y8G("ngIf",t.pro_version)}}let k=(()=>{class l{constructor(t,i,n,o,r,N){this.dataService=t,this.http=i,this.nav=n,this.modalController=o,this.alertController=r,this.translate=N,this.model_lan0_dhcp=!1,this.model_lan0_ip="192.168.10.1",this.model_lan0_subnet="255.255.255.0",this.model_lan0_gateway="192.168.10.1",this.model_lan1_ip="192.168.9.1",this.model_lan1_subnet="255.255.255.0",this.model_lan1_gateway="192.168.9.1",this.connected=!1,this.passwordType="password",this.passwordShow=!1,this.iconEye="eye-off",this.pro_version=!1,this.show_ip_lan0=!1,this.alert_wait_reconnect=""}ngOnInit(){if(console.log("Network Tab"),this.translationLanguage(),this.dataConfig=this.dataService.config,this.connected=this.dataService.connected,!this.connected)return void this.nav.navigateBack("tabs/tab1");typeof this.dataService.info.platform<"u"&&"variscite"===this.dataService.info.platform&&(this.pro_version=!0,this.show_ip_lan0=!this.dataConfig.interface.lan0_dhcp,this.model_lan0_dhcp=this.dataConfig.interface.lan0_dhcp,this.model_lan0_ip=this.dataConfig.interface.lan0_ip,this.model_lan0_subnet=this.dataConfig.interface.lan0_subnet,this.model_lan0_gateway=this.dataConfig.interface.lan0_gateway,this.model_lan1_ip=this.dataConfig.interface.lan1_ip,this.model_lan1_subnet=this.dataConfig.interface.lan1_subnet,this.model_lan1_gateway=this.dataConfig.interface.lan1_gateway),this.model_SSID=this.dataConfig.wifi.ssid,this.model_Password=this.dataConfig.wifi.password,this.model_check_wifi=this.dataConfig.wifi.wifi_on_5minutes;let t=setInterval(()=>{if(!this.dataService.connected)return console.log("Timeout"),clearTimeout(t),void this.nav.navigateBack("tabs/tab1")},5e3)}togglePassword(){this.passwordShow?(this.passwordShow=!1,this.passwordType="password",this.iconEye="eye-off"):(this.passwordShow=!0,this.passwordType="string",this.iconEye="eye")}SaveConfig(t){console.log("Save Config"),this.dataService.isValidIP(this.model_lan0_ip)&&this.dataService.isValidIP(this.model_lan0_subnet)&&this.dataService.isValidIP(this.model_lan0_gateway)&&this.dataService.isValidIP(this.model_lan1_ip)&&this.dataService.isValidIP(this.model_lan1_subnet)&&this.dataService.isValidIP(this.model_lan1_gateway)?(this.save_conf_ui(),this.nav.navigateBack("tabs/tab5"),this.dataService.connected&&this.dataService.bluetoothMode?this.dataService.blueRequesSaveNetworkConfig():this.dataService.saveNetworkConfig()):this.alertDialog("IP not valid. Please check!")}save_conf_ui(){this.dataConfig.wifi.ssid=this.model_SSID,this.dataConfig.wifi.password=this.model_Password,this.dataConfig.wifi.wifi_on_5minutes=this.model_check_wifi,this.dataConfig.interface.lan0_dhcp=this.model_lan0_dhcp,this.dataConfig.interface.lan0_ip=this.model_lan0_ip,this.dataConfig.interface.lan0_subnet=this.model_lan0_subnet,this.dataConfig.interface.lan0_gateway=this.model_lan0_gateway,this.dataConfig.interface.lan1_ip=this.model_lan1_ip,this.dataConfig.interface.lan1_subnet=this.model_lan1_subnet,this.dataConfig.interface.lan1_gateway=this.model_lan1_gateway}openWiFiDialog(){var t=this;return(0,g.A)(function*(){const i=yield t.modalController.create({component:u.S,componentProps:{}});return i.onDidDismiss().then(n=>{if(null!==n){let o=n.data,r=n.role;if(typeof o>"u"||typeof r>"u")return;"ssid"==o&&""!==r&&(t.model_SSID=r)}}),yield i.present()})()}connectWiFi(){console.log("WiFi Connecting..."),this.dataService.wifi_connected?this.dataService.joinWiFi(this.model_SSID,this.model_Password):this.dataService.blue_conneted&&this.dataService.blueRequestaJoinWIFI(this.model_SSID,this.model_Password),this.alertDialog(this.alert_wait_reconnect)}deleteWiFi(){console.log("WiFi Delete..."),this.dataService.wifi_connected?this.dataService.deleteWiFi(this.model_SSID):this.dataService.blue_conneted&&this.dataService.blueRequestaDeleteWIFI(this.model_SSID),this.alertDialog(this.alert_wait_reconnect)}dhcpChange(t){this.dataConfig.interface.lan0_dhcp=this.model_lan0_dhcp,this.show_ip_lan0=!this.model_lan0_dhcp}alertDialog(t){var i=this;return(0,g.A)(function*(){yield(yield i.alertController.create({header:"Alert!",message:t,buttons:[{text:"OK",handler:()=>{}}]})).present()})()}translationLanguage(){this.translate.get("AL_WAIT_RECONNECT").subscribe(t=>{this.alert_wait_reconnect=t})}static{this.\u0275fac=function(i){return new(i||l)(e.rXU(b.f),e.rXU(p.Qq),e.rXU(w.q9),e.rXU(a.W3),e.rXU(a.hG),e.rXU(_.c$))}}static{this.\u0275cmp=e.VBU({type:l,selectors:[["app-setting-network"]],decls:13,vars:7,consts:[["color","darkblue"],["slot","start"],["defaultHref","/tabs/tab5"],["slot","end"],[3,"click"],[4,"ngIf"],["position","undefined"],["id","scan_bttn","color","primary",3,"click"],["aria-label","","slot","end","placeholder","SSID",3,"ngModel","ngModelChange"],["aria-label","","slot","end","placeholder","Password",1,"text-center",3,"type","ngModel","ngModelChange"],["slot","end",3,"name","click"],["aria-label","","color","primary","slot","end",3,"ngModel","ngModelChange"],["color","primary","expand","full",3,"click"],["aria-label","","color","primary","slot","end",3,"ngModel","ngModelChange","ionChange"],["aria-label","","slot","end","placeholder","192.168.10.1",3,"ngModel","disabled","ngModelChange"],["aria-label","","slot","end","placeholder","255.255.255.0",3,"ngModel","disabled","ngModelChange"],["aria-label","","slot","end","placeholder","192.168.9.1",3,"ngModel","ngModelChange"],["aria-label","","slot","end","placeholder","255.255.255.0",3,"ngModel","ngModelChange"],["color","warning"]],template:function(i,n){1&i&&(e.j41(0,"ion-header")(1,"ion-toolbar",0)(2,"ion-buttons",1),e.nrm(3,"ion-back-button",2),e.k0s(),e.j41(4,"ion-title"),e.EFF(5),e.nI1(6,"translate"),e.k0s(),e.j41(7,"ion-buttons",3)(8,"ion-button",4),e.bIt("click",function(r){return n.SaveConfig(r)}),e.EFF(9),e.nI1(10,"translate"),e.k0s()()()(),e.j41(11,"ion-content"),e.DNE(12,C,32,24,"section",5),e.k0s()),2&i&&(e.R7$(5),e.JRh(e.bMT(6,3,"NETWORK")),e.R7$(4),e.SpI(" ",e.bMT(10,5,"APPLY")," "),e.R7$(3),e.Y8G("ngIf",n.connected))},dependencies:[h.bT,c.BC,c.vS,a.Jm,a.QW,a.W9,a.eU,a.iq,a.$w,a.uz,a.he,a.nf,a.BC,a.BY,a.ai,a.hB,a.Gw,a.el,_.D9]})}}return l})();var v=s(5635);function f(l){return new v.s(l,"./assets/i18n/",".json")}const j=[{path:"",component:k}];let I=(()=>{class l{static{this.\u0275fac=function(i){return new(i||l)}}static{this.\u0275mod=e.$C({type:l})}static{this.\u0275inj=e.G2t({imports:[h.MD,c.YN,a.bv,m.iI.forChild(j),_.h.forChild({loader:{provide:_.Wr,useFactory:f,deps:[p.Qq]}})]})}}return l})()}}]);