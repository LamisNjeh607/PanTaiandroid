"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[4906],{3632:(P,T,r)=>{r.d(T,{U:()=>E});var v=r(467),M=r(7328),n=r(6996),l=r(8974),g=r(7157),b=r(9884),R=r(177),F=r(9417),I=r(9664);function k(p,f){if(1&p&&(n.j41(0,"ion-select-option",15),n.EFF(1),n.k0s()),2&p){const a=f.$implicit;n.FS9("value",a.value),n.R7$(1),n.JRh(a.name)}}function e(p,f){if(1&p){const a=n.RV6();n.j41(0,"section")(1,"ion-item")(2,"ion-label",8),n.EFF(3,"Antenna Radious (m)"),n.k0s(),n.j41(4,"ion-input",9),n.bIt("ngModelChange",function(_){n.eBV(a);const h=n.XpG();return n.Njj(h.ant_radius=_)}),n.k0s()(),n.j41(5,"ion-item")(6,"ion-label",8),n.EFF(7,"Antenna L1 Height (m)"),n.k0s(),n.j41(8,"ion-input",9),n.bIt("ngModelChange",function(_){n.eBV(a);const h=n.XpG();return n.Njj(h.ant_l1_height=_)}),n.k0s()(),n.j41(9,"ion-item")(10,"ion-label",8),n.EFF(11,"Antenna L2 Height (m)"),n.k0s(),n.j41(12,"ion-input",9),n.bIt("ngModelChange",function(_){n.eBV(a);const h=n.XpG();return n.Njj(h.ant_l2_height=_)}),n.k0s()(),n.j41(13,"ion-item")(14,"ion-label",8),n.EFF(15,"Antenna ARP (m)"),n.k0s(),n.j41(16,"ion-input",9),n.bIt("ngModelChange",function(_){n.eBV(a);const h=n.XpG();return n.Njj(h.ant_arp_height=_)}),n.k0s()()()}if(2&p){const a=n.XpG();n.R7$(4),n.Y8G("ngModel",a.ant_radius),n.R7$(4),n.Y8G("ngModel",a.ant_l1_height),n.R7$(4),n.Y8G("ngModel",a.ant_l2_height),n.R7$(4),n.Y8G("ngModel",a.ant_arp_height)}}let E=(()=>{class p{constructor(a,d,_){this.modalController=a,this.navParams=d,this.dataService=_,this.use_slant_height=!1,this.ant_user_height=0,this.ant_radius=.073,this.ant_l1_height=.05,this.ant_l2_height=.05,this.ant_arp_height=.04,this.ant_calculated_height=0,this.ant_measure_type="pole",this.ant_measure_type_list=[{name:"Pole Height",value:"pole"},{name:"Phase Center",value:"phase center"},{name:"Slant Height",value:"slant"}],this.ant_type=[{name:"GN-GG0710",value:{radious:.07575,l1:.048,l2:.044,arp:.036}},{name:"GPS500",value:{radious:.076,l1:.054,l2:.0478,arp:.03}},{name:"PRB2",value:{radious:.0675,l1:.087,l2:.0824,arp:.078}},{name:"PRB3",value:{radious:.0675,l1:.087,l2:.0824,arp:.078}}],this.show_detail=!1}ngOnInit(){this.ant_user_height=this.navParams.get("ant_height"),this.ant_measure_type=this.navParams.get("measure_type"),"variscite"===this.dataService.info.platform?this.ant_model=typeof this.dataService.info.ant_model>"u"?"GN-GG0710":this.dataService.info.ant_model:this.dataService.isPRB2?this.ant_model=typeof this.dataService.info.ant_model>"u"?"PRB2":this.dataService.info.ant_model:this.dataService.isPRB3&&(this.ant_model=typeof this.dataService.info.ant_model>"u"?"PRB3":this.dataService.info.ant_model);let a=this.getAntInfo(this.ant_model);this.ant_radius=a.value.radious,this.ant_l1_height=a.value.l1,this.ant_l2_height=a.value.l2,this.ant_arp_height=a.value.arp}confirm_modal(){var a=this;return(0,v.A)(function*(){let d=(a.ant_l1_height+a.ant_l2_height)/2,_=d-a.ant_arp_height;switch(console.log("height_edge_phase_center",_),a.ant_measure_type){case"pole":a.ant_calculated_height=a.ant_user_height+d;break;case"phase center":a.ant_calculated_height=a.ant_user_height+_;break;case"slant":a.ant_calculated_height=Math.sqrt(a.ant_user_height**2-a.ant_radius**2)+_}a.ant_calculated_height=M.LIG(a.ant_calculated_height,4),console.log("Calculated Antenna Height",a.ant_calculated_height),yield a.modalController.dismiss(a.ant_measure_type,`${a.ant_calculated_height}`)})()}cancel_modal(){var a=this;return(0,v.A)(function*(){yield a.modalController.dismiss("cancel")})()}getAntInfo(a){return this.ant_type.find(_=>_.name==a)}showDetail(){this.show_detail=!this.show_detail}static{this.\u0275fac=function(d){return new(d||p)(n.rXU(l.W3),n.rXU(g.y8),n.rXU(b.f))}}static{this.\u0275cmp=n.VBU({type:p,selectors:[["app-modal-antenna"]],decls:35,vars:22,consts:[[1,"custom-header"],["color","darkblue",1,"ion-align-items-center","custom-toolbar"],["slot","end",1,"center-vertical",3,"click"],["slot","icon-only","name","close"],[3,"fullscreen"],[1,"mt-3"],["label","Antenna Measure Type",3,"ngModel","okText","cancelText","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],["position","floating"],["aria-label","","type","number",3,"ngModel","ngModelChange"],[3,"click"],[4,"ngIf"],[3,"translucent"],["expand","full","color","medium",3,"click"],["expand","full","color","success",3,"click"],[3,"value"]],template:function(d,_){1&d&&(n.j41(0,"ion-header",0)(1,"ion-toolbar",1)(2,"ion-title"),n.EFF(3,"Antenna Height"),n.k0s(),n.j41(4,"ion-buttons",2),n.bIt("click",function(){return _.cancel_modal()}),n.nrm(5,"ion-icon",3),n.k0s()()(),n.j41(6,"ion-content",4)(7,"ion-list")(8,"ion-item",5)(9,"ion-select",6),n.bIt("ngModelChange",function(C){return _.ant_measure_type=C}),n.nI1(10,"translate"),n.nI1(11,"translate"),n.DNE(12,k,2,2,"ion-select-option",7),n.k0s()(),n.j41(13,"ion-item")(14,"ion-label",8),n.EFF(15),n.nI1(16,"translate"),n.k0s(),n.j41(17,"ion-input",9),n.bIt("ngModelChange",function(C){return _.ant_user_height=C}),n.k0s()(),n.j41(18,"ion-item")(19,"ion-label",10),n.bIt("click",function(){return _.showDetail()}),n.EFF(20),n.k0s()(),n.DNE(21,e,17,4,"section",11),n.k0s()(),n.j41(22,"ion-footer",12)(23,"ion-grid")(24,"ion-row")(25,"ion-col")(26,"div")(27,"ion-button",13),n.bIt("click",function(){return _.cancel_modal()}),n.EFF(28),n.nI1(29,"translate"),n.k0s()()(),n.j41(30,"ion-col")(31,"div")(32,"ion-button",14),n.bIt("click",function(){return _.confirm_modal()}),n.EFF(33),n.nI1(34,"translate"),n.k0s()()()()()()),2&d&&(n.R7$(6),n.Y8G("fullscreen",!0),n.R7$(3),n.FS9("okText",n.bMT(10,12,"OK")),n.FS9("cancelText",n.bMT(11,14,"CANCEL")),n.Y8G("ngModel",_.ant_measure_type),n.R7$(3),n.Y8G("ngForOf",_.ant_measure_type_list),n.R7$(3),n.SpI("",n.bMT(16,16,"ANT_HEIGHT")," (m)"),n.R7$(2),n.Y8G("ngModel",_.ant_user_height),n.R7$(3),n.SpI(" Antenna Model ",_.ant_model," "),n.R7$(1),n.Y8G("ngIf",_.show_detail),n.R7$(1),n.Y8G("translucent",!0),n.R7$(6),n.JRh(n.bMT(29,18,"CANCEL")),n.R7$(5),n.JRh(n.bMT(34,20,"CONFIRM")))},dependencies:[R.Sq,R.bT,F.BC,F.vS,l.Jm,l.QW,l.hU,l.W9,l.M0,l.lO,l.eU,l.iq,l.$w,l.uz,l.he,l.nf,l.ln,l.Nm,l.Ip,l.BC,l.ai,l.su,l.Je,I.D9],styles:['@charset "UTF-8";.custom-header[_ngcontent-%COMP%]{position:relative;max-height:52px;height:52px}.custom-toolbar[_ngcontent-%COMP%]{position:absolute;top:50%;transform:translateY(-50%);width:100%;display:flex;align-items:center;justify-content:space-between}']})}}return p})()},4906:(P,T,r)=>{r.r(T),r.d(T,{HttpLoaderFactory:()=>S,SettingRoverPageModule:()=>x});var v=r(177),M=r(9417),n=r(1470),l=r(8974),g=r(467),b=r(1626),R=r(2272),F=r(6576),I=r(5046),k=r(3632),e=r(6996),E=r(9884),p=r(7157),f=r(9664);function a(c,j){if(1&c){const t=e.RV6();e.j41(0,"section")(1,"ion-item")(2,"ion-select",44),e.bIt("ngModelChange",function(o){e.eBV(t);const i=e.XpG(2);return e.Njj(i.model_Correction_Input=o)})("ionChange",function(o){e.eBV(t);const i=e.XpG(2);return e.Njj(i.typeChange(o))}),e.nI1(3,"translate"),e.nI1(4,"translate"),e.nI1(5,"translate"),e.j41(6,"ion-select-option",46),e.EFF(7,"TCP"),e.k0s(),e.j41(8,"ion-select-option",56),e.EFF(9,"NTRIP"),e.k0s(),e.j41(10,"ion-select-option",47),e.EFF(11,"Serial"),e.k0s(),e.j41(12,"ion-select-option",48),e.EFF(13,"Bluetooth"),e.k0s()()()()}if(2&c){const t=e.XpG(2);e.R7$(2),e.FS9("label",e.bMT(3,4,"CORRETION_INPUT")),e.FS9("okText",e.bMT(4,6,"OK")),e.FS9("cancelText",e.bMT(5,8,"CANCEL")),e.Y8G("ngModel",t.model_Correction_Input)}}function d(c,j){if(1&c){const t=e.RV6();e.j41(0,"section")(1,"ion-item")(2,"ion-select",44),e.bIt("ngModelChange",function(o){e.eBV(t);const i=e.XpG(2);return e.Njj(i.model_Correction_Input=o)})("ionChange",function(o){e.eBV(t);const i=e.XpG(2);return e.Njj(i.typeChange(o))}),e.nI1(3,"translate"),e.nI1(4,"translate"),e.nI1(5,"translate"),e.j41(6,"ion-select-option",46),e.EFF(7,"TCP"),e.k0s(),e.j41(8,"ion-select-option",56),e.EFF(9,"NTRIP"),e.k0s(),e.j41(10,"ion-select-option",57),e.EFF(11,"Internal Radio"),e.k0s(),e.j41(12,"ion-select-option",47),e.EFF(13,"Serial"),e.k0s(),e.j41(14,"ion-select-option",48),e.EFF(15,"Bluetooth"),e.k0s()()()()}if(2&c){const t=e.XpG(2);e.R7$(2),e.FS9("label",e.bMT(3,4,"CORRETION_INPUT")),e.FS9("okText",e.bMT(4,6,"OK")),e.FS9("cancelText",e.bMT(5,8,"CANCEL")),e.Y8G("ngModel",t.model_Correction_Input)}}function _(c,j){if(1&c){const t=e.RV6();e.j41(0,"section")(1,"ion-item")(2,"ion-label",15),e.EFF(3),e.nI1(4,"translate"),e.k0s(),e.j41(5,"ion-input",27),e.bIt("ngModelChange",function(o){e.eBV(t);const i=e.XpG(2);return e.Njj(i.model_ip=o)}),e.k0s(),e.j41(6,"ion-button",58),e.bIt("click",function(){e.eBV(t);const o=e.XpG(2);return e.Njj(o.reconnectNTRIP())}),e.EFF(7,"Connect"),e.k0s()()()}if(2&c){const t=e.XpG(2);e.R7$(3),e.JRh(e.bMT(4,2,"SERVER_IP")),e.R7$(2),e.Y8G("ngModel",t.model_ip)}}function h(c,j){if(1&c){const t=e.RV6();e.j41(0,"section")(1,"ion-item")(2,"ion-label",15),e.EFF(3),e.nI1(4,"translate"),e.k0s(),e.j41(5,"ion-input",27),e.bIt("ngModelChange",function(o){e.eBV(t);const i=e.XpG(2);return e.Njj(i.model_ip=o)}),e.k0s()()()}if(2&c){const t=e.XpG(2);e.R7$(3),e.JRh(e.bMT(4,2,"SERVER_IP")),e.R7$(2),e.Y8G("ngModel",t.model_ip)}}function C(c,j){if(1&c){const t=e.RV6();e.j41(0,"section")(1,"ion-list")(2,"ion-item")(3,"ion-label"),e.EFF(4),e.nI1(5,"translate"),e.k0s(),e.j41(6,"ion-toggle",7),e.bIt("ngModelChange",function(o){e.eBV(t);const i=e.XpG();return e.Njj(i.model_rover_mode=o)}),e.k0s()(),e.j41(7,"ion-item")(8,"ion-select",8),e.bIt("ngModelChange",function(o){e.eBV(t);const i=e.XpG();return e.Njj(i.model_mode=o)}),e.nI1(9,"translate"),e.nI1(10,"translate"),e.nI1(11,"translate"),e.j41(12,"ion-select-option",9),e.EFF(13,"Standalone"),e.k0s(),e.j41(14,"ion-select-option",10),e.EFF(15,"Static"),e.k0s(),e.j41(16,"ion-select-option",11),e.EFF(17,"Survey"),e.k0s(),e.j41(18,"ion-select-option",12),e.EFF(19,"Drone"),e.k0s(),e.j41(20,"ion-select-option",13),e.EFF(21,"Car"),e.k0s(),e.j41(22,"ion-select-option",14),e.EFF(23,"Sea"),e.k0s()()(),e.j41(24,"ion-item")(25,"ion-label",15),e.EFF(26),e.nI1(27,"translate"),e.k0s(),e.j41(28,"ion-input",16),e.bIt("ngModelChange",function(o){e.eBV(t);const i=e.XpG();return e.Njj(i.model_ant_height=o)}),e.k0s(),e.j41(29,"ion-button",17),e.bIt("click",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.set_ant_height())}),e.EFF(30,"..."),e.k0s()()(),e.j41(31,"ion-list"),e.DNE(32,a,14,10,"section",5),e.DNE(33,d,16,10,"section",5),e.j41(34,"ion-item",18)(35,"ion-select",8),e.bIt("ngModelChange",function(o){e.eBV(t);const i=e.XpG();return e.Njj(i.model_Port=o)}),e.nI1(36,"translate"),e.nI1(37,"translate"),e.nI1(38,"translate"),e.j41(39,"ion-select-option",19),e.EFF(40,"OTG Port"),e.k0s()()(),e.j41(41,"ion-item",18)(42,"ion-select",8),e.bIt("ngModelChange",function(o){e.eBV(t);const i=e.XpG();return e.Njj(i.model_Baudrates=o)}),e.nI1(43,"translate"),e.nI1(44,"translate"),e.nI1(45,"translate"),e.j41(46,"ion-select-option",20),e.EFF(47,"9600"),e.k0s(),e.j41(48,"ion-select-option",21),e.EFF(49,"19200"),e.k0s(),e.j41(50,"ion-select-option",22),e.EFF(51,"38400"),e.k0s(),e.j41(52,"ion-select-option",23),e.EFF(53,"57600"),e.k0s(),e.j41(54,"ion-select-option",24),e.EFF(55,"115200"),e.k0s()()(),e.j41(56,"ion-item",18)(57,"ion-label"),e.EFF(58),e.nI1(59,"translate"),e.k0s(),e.j41(60,"ion-select",8),e.bIt("ngModelChange",function(o){e.eBV(t);const i=e.XpG();return e.Njj(i.model_Format=o)}),e.nI1(61,"translate"),e.nI1(62,"translate"),e.nI1(63,"translate"),e.j41(64,"ion-select-option",25),e.EFF(65,"RTCM3"),e.k0s(),e.j41(66,"ion-select-option",26),e.EFF(67,"UBX"),e.k0s()()()(),e.j41(68,"ion-list",18)(69,"ion-item")(70,"ion-label",15),e.EFF(71),e.nI1(72,"translate"),e.k0s(),e.j41(73,"ion-input",27),e.bIt("ngModelChange",function(o){e.eBV(t);const i=e.XpG();return e.Njj(i.model_ip=o)}),e.k0s()(),e.j41(74,"ion-item")(75,"ion-label",15),e.EFF(76),e.nI1(77,"translate"),e.k0s(),e.j41(78,"ion-input",28),e.bIt("ngModelChange",function(o){e.eBV(t);const i=e.XpG();return e.Njj(i.model_nt_port=o)}),e.k0s()()(),e.j41(79,"ion-list",18)(80,"ion-item")(81,"ion-label"),e.EFF(82),e.nI1(83,"translate"),e.k0s(),e.j41(84,"ion-button",29),e.bIt("click",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.ntrip_list())}),e.EFF(85),e.nI1(86,"translate"),e.k0s(),e.j41(87,"ion-button",30),e.bIt("click",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.mt_list())}),e.EFF(88),e.nI1(89,"translate"),e.k0s(),e.j41(90,"ion-button",31),e.bIt("click",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.save_list())}),e.EFF(91),e.nI1(92,"translate"),e.k0s()(),e.DNE(93,_,8,4,"section",5),e.DNE(94,h,6,4,"section",5),e.j41(95,"ion-item")(96,"ion-label",15),e.EFF(97),e.nI1(98,"translate"),e.k0s(),e.j41(99,"ion-input",28),e.bIt("ngModelChange",function(o){e.eBV(t);const i=e.XpG();return e.Njj(i.model_nt_port=o)}),e.k0s()(),e.j41(100,"ion-item")(101,"ion-label",15),e.EFF(102),e.nI1(103,"translate"),e.k0s(),e.j41(104,"ion-input",32),e.bIt("ngModelChange",function(o){e.eBV(t);const i=e.XpG();return e.Njj(i.model_mountpoint=o)}),e.k0s()(),e.j41(105,"ion-item")(106,"ion-label",15),e.EFF(107),e.nI1(108,"translate"),e.k0s(),e.j41(109,"ion-input",33),e.bIt("ngModelChange",function(o){e.eBV(t);const i=e.XpG();return e.Njj(i.model_user=o)}),e.k0s()(),e.j41(110,"ion-item")(111,"ion-label",15),e.EFF(112),e.nI1(113,"translate"),e.k0s(),e.j41(114,"ion-input",34),e.bIt("ngModelChange",function(o){e.eBV(t);const i=e.XpG();return e.Njj(i.model_password=o)}),e.k0s(),e.j41(115,"ion-icon",35),e.bIt("click",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.togglePassword())}),e.k0s()()(),e.j41(116,"ion-list")(117,"ion-item",18)(118,"ion-select",8),e.bIt("ngModelChange",function(o){e.eBV(t);const i=e.XpG();return e.Njj(i.model_arMode=o)}),e.nI1(119,"translate"),e.nI1(120,"translate"),e.nI1(121,"translate"),e.j41(122,"ion-select-option",36),e.EFF(123,"Continuous"),e.k0s(),e.j41(124,"ion-select-option",37),e.EFF(125,"Instantaneous"),e.k0s(),e.j41(126,"ion-select-option",38),e.EFF(127,"Fix-and-Hold"),e.k0s()()(),e.j41(128,"ion-label",18),e.EFF(129),e.nI1(130,"translate"),e.j41(131,"h5",39)(132,"strong"),e.EFF(133),e.k0s()()(),e.j41(134,"ion-item",18)(135,"ion-range",40),e.bIt("ngModelChange",function(o){e.eBV(t);const i=e.XpG();return e.Njj(i.model_ambiguity=o)}),e.j41(136,"ion-label",1),e.EFF(137,"1"),e.k0s(),e.j41(138,"ion-label",3),e.EFF(139,"10"),e.k0s()()(),e.j41(140,"ion-label",41),e.EFF(141),e.nI1(142,"translate"),e.j41(143,"h5",39)(144,"strong"),e.EFF(145),e.k0s()()(),e.j41(146,"ion-item")(147,"ion-range",42),e.bIt("ngModelChange",function(o){e.eBV(t);const i=e.XpG();return e.Njj(i.model_elevation_mask=o)}),e.j41(148,"ion-label",1),e.EFF(149,"0"),e.k0s(),e.j41(150,"ion-label",3),e.EFF(151,"90"),e.k0s()()(),e.j41(152,"ion-label",41),e.EFF(153),e.nI1(154,"translate"),e.j41(155,"h5",39)(156,"strong"),e.EFF(157),e.k0s()()(),e.j41(158,"ion-item")(159,"ion-range",43),e.bIt("ngModelChange",function(o){e.eBV(t);const i=e.XpG();return e.Njj(i.model_snr_mask=o)}),e.j41(160,"ion-label",1),e.EFF(161,"0"),e.k0s(),e.j41(162,"ion-label",3),e.EFF(163,"50"),e.k0s()()()(),e.j41(164,"ion-list")(165,"ion-label",41),e.EFF(166),e.nI1(167,"translate"),e.k0s(),e.j41(168,"ion-item")(169,"ion-select",44),e.bIt("ngModelChange",function(o){e.eBV(t);const i=e.XpG();return e.Njj(i.model_so_type=o)})("ionChange",function(o){e.eBV(t);const i=e.XpG();return e.Njj(i.solutionChange(o))}),e.nI1(170,"translate"),e.nI1(171,"translate"),e.nI1(172,"translate"),e.j41(173,"ion-select-option",45),e.EFF(174,"NONE"),e.k0s(),e.j41(175,"ion-select-option",46),e.EFF(176,"TCP"),e.k0s(),e.j41(177,"ion-select-option",47),e.EFF(178,"Serial"),e.k0s(),e.j41(179,"ion-select-option",48),e.EFF(180,"Bluetooth"),e.k0s()()(),e.j41(181,"ion-list",18)(182,"ion-item")(183,"ion-label",15),e.EFF(184),e.nI1(185,"translate"),e.k0s(),e.j41(186,"ion-input",27),e.bIt("ngModelChange",function(o){e.eBV(t);const i=e.XpG();return e.Njj(i.model_so_tcp_ip=o)}),e.k0s()(),e.j41(187,"ion-item")(188,"ion-label",15),e.EFF(189),e.nI1(190,"translate"),e.k0s(),e.j41(191,"ion-input",28),e.bIt("ngModelChange",function(o){e.eBV(t);const i=e.XpG();return e.Njj(i.model_so_tcp_port=o)}),e.k0s()()(),e.j41(192,"ion-item",18)(193,"ion-select",8),e.bIt("ngModelChange",function(o){e.eBV(t);const i=e.XpG();return e.Njj(i.model_so_port=o)}),e.nI1(194,"translate"),e.nI1(195,"translate"),e.nI1(196,"translate"),e.j41(197,"ion-select-option",19),e.EFF(198,"OTG Port"),e.k0s()()(),e.j41(199,"ion-item",18)(200,"ion-select",8),e.bIt("ngModelChange",function(o){e.eBV(t);const i=e.XpG();return e.Njj(i.model_so_baudrates=o)}),e.nI1(201,"translate"),e.nI1(202,"translate"),e.nI1(203,"translate"),e.j41(204,"ion-select-option",20),e.EFF(205,"9600"),e.k0s(),e.j41(206,"ion-select-option",21),e.EFF(207,"19200"),e.k0s(),e.j41(208,"ion-select-option",22),e.EFF(209,"38400"),e.k0s(),e.j41(210,"ion-select-option",23),e.EFF(211,"57600"),e.k0s(),e.j41(212,"ion-select-option",24),e.EFF(213,"115200"),e.k0s()()(),e.j41(214,"ion-item",18)(215,"ion-label"),e.EFF(216),e.nI1(217,"translate"),e.k0s(),e.j41(218,"ion-select",49),e.bIt("ngModelChange",function(o){e.eBV(t);const i=e.XpG();return e.Njj(i.model_so_outputformat=o)}),e.nI1(219,"translate"),e.nI1(220,"translate"),e.j41(221,"ion-select-option",50),e.EFF(222,"LLH"),e.k0s(),e.j41(223,"ion-select-option",51),e.EFF(224,"XYZ"),e.k0s(),e.j41(225,"ion-select-option",52),e.EFF(226,"ENU"),e.k0s(),e.j41(227,"ion-select-option",53),e.EFF(228,"NMEA"),e.k0s()()(),e.j41(229,"ion-item")(230,"ion-label",15),e.EFF(231),e.nI1(232,"translate"),e.k0s(),e.j41(233,"ion-input",54),e.bIt("ngModelChange",function(o){e.eBV(t);const i=e.XpG();return e.Njj(i.model_op_filename=o)}),e.k0s(),e.j41(234,"ion-toggle",55),e.bIt("ngModelChange",function(o){e.eBV(t);const i=e.XpG();return e.Njj(i.model_op_toggle=o)}),e.k0s()()()()}if(2&c){const t=e.XpG();e.R7$(4),e.JRh(e.bMT(5,93,"ENABLE_ROVER")),e.R7$(2),e.Y8G("ngModel",t.model_rover_mode),e.R7$(2),e.FS9("label",e.bMT(9,95,"ROVER_MODE")),e.FS9("okText",e.bMT(10,97,"OK")),e.FS9("cancelText",e.bMT(11,99,"CANCEL")),e.Y8G("ngModel",t.model_mode),e.R7$(18),e.SpI("",e.bMT(27,101,"ANT_HEIGHT")," (m)"),e.R7$(2),e.Y8G("ngModel",t.model_ant_height),e.R7$(4),e.Y8G("ngIf",!t.isPRB2&&!t.isPRB3),e.R7$(1),e.Y8G("ngIf",t.isPRB2||t.isPRB3),e.R7$(1),e.Y8G("hidden",t.ion_select_port),e.R7$(1),e.FS9("label",e.bMT(36,103,"PORT")),e.FS9("okText",e.bMT(37,105,"OK")),e.FS9("cancelText",e.bMT(38,107,"CANCEL")),e.Y8G("ngModel",t.model_Port),e.R7$(6),e.Y8G("hidden",t.ion_select_baudrates),e.R7$(1),e.FS9("label",e.bMT(43,109,"BAUDRATE")),e.FS9("okText",e.bMT(44,111,"OK")),e.FS9("cancelText",e.bMT(45,113,"CANCEL")),e.Y8G("ngModel",t.model_Baudrates),e.R7$(14),e.Y8G("hidden",t.ion_select_format),e.R7$(2),e.JRh(e.bMT(59,115,"FORMAT")),e.R7$(2),e.FS9("label",e.bMT(61,117,"FORMAT")),e.FS9("okText",e.bMT(62,119,"OK")),e.FS9("cancelText",e.bMT(63,121,"CANCEL")),e.Y8G("ngModel",t.model_Format),e.R7$(8),e.Y8G("hidden",t.ion_list_typeTcp),e.R7$(3),e.JRh(e.bMT(72,123,"SERVER_IP")),e.R7$(2),e.Y8G("ngModel",t.model_ip),e.R7$(3),e.JRh(e.bMT(77,125,"PORT")),e.R7$(2),e.Y8G("ngModel",t.model_nt_port),e.R7$(1),e.Y8G("hidden",t.ion_list_typeNtrip),e.R7$(3),e.Lme("",e.bMT(83,127,"NTRIP_SERVER")," [",t.ntrip_note,"]"),e.R7$(3),e.JRh(e.bMT(86,129,"LIST")),e.R7$(3),e.JRh(e.bMT(89,131,"MT")),e.R7$(3),e.JRh(e.bMT(92,133,"SAVE")),e.R7$(2),e.Y8G("ngIf",t.isAndroid),e.R7$(1),e.Y8G("ngIf",!t.isAndroid),e.R7$(3),e.JRh(e.bMT(98,135,"PORT")),e.R7$(2),e.Y8G("ngModel",t.model_nt_port),e.R7$(3),e.JRh(e.bMT(103,137,"MOUNT_POINT")),e.R7$(2),e.Y8G("ngModel",t.model_mountpoint),e.R7$(3),e.JRh(e.bMT(108,139,"USER")),e.R7$(2),e.Y8G("ngModel",t.model_user),e.R7$(3),e.JRh(e.bMT(113,141,"PASSWORD")),e.R7$(2),e.Y8G("type",t.passwordType)("ngModel",t.model_password),e.R7$(1),e.Y8G("name",t.iconEye),e.R7$(2),e.Y8G("hidden",t.ublox_engine),e.R7$(1),e.FS9("label",e.bMT(119,143,"AR_MODE")),e.FS9("okText",e.bMT(120,145,"OK")),e.FS9("cancelText",e.bMT(121,147,"CANCEL")),e.Y8G("ngModel",t.model_arMode),e.R7$(10),e.Y8G("hidden",t.ublox_engine),e.R7$(1),e.SpI(" ",e.bMT(130,149,"MIN_AR")," "),e.R7$(4),e.JRh(t.model_ambiguity),e.R7$(1),e.Y8G("hidden",t.ublox_engine),e.R7$(1),e.Y8G("ngModel",t.model_ambiguity),e.R7$(6),e.SpI("",e.bMT(142,151,"ELEVATION_MASK")," "),e.R7$(4),e.JRh(t.model_elevation_mask),e.R7$(2),e.Y8G("ngModel",t.model_elevation_mask),e.R7$(6),e.SpI("",e.bMT(154,153,"SNR_MASK")," "),e.R7$(4),e.JRh(t.model_snr_mask),e.R7$(2),e.Y8G("ngModel",t.model_snr_mask),e.R7$(7),e.JRh(e.bMT(167,155,"SOLUTION_OUTPUT")),e.R7$(3),e.FS9("label",e.bMT(170,157,"TYPE")),e.FS9("okText",e.bMT(171,159,"OK")),e.FS9("cancelText",e.bMT(172,161,"CANCEL")),e.Y8G("ngModel",t.model_so_type),e.R7$(12),e.Y8G("hidden",t.ion_select_so_tcp),e.R7$(3),e.JRh(e.bMT(185,163,"IP_DOMAIN")),e.R7$(2),e.Y8G("ngModel",t.model_so_tcp_ip),e.R7$(3),e.JRh(e.bMT(190,165,"PORT")),e.R7$(2),e.Y8G("ngModel",t.model_so_tcp_port),e.R7$(1),e.Y8G("hidden",t.ion_select_so),e.R7$(1),e.FS9("label",e.bMT(194,167,"PORT")),e.FS9("okText",e.bMT(195,169,"OK")),e.FS9("cancelText",e.bMT(196,171,"CANCEL")),e.Y8G("ngModel",t.model_so_port),e.R7$(6),e.Y8G("hidden",t.ion_select_so),e.R7$(1),e.FS9("label",e.bMT(201,173,"BAUDRATE")),e.FS9("okText",e.bMT(202,175,"OK")),e.FS9("cancelText",e.bMT(203,177,"CANCEL")),e.Y8G("ngModel",t.model_so_baudrates),e.R7$(14),e.Y8G("hidden",t.ion_select_so||t.ublox_engine),e.R7$(2),e.JRh(e.bMT(217,179,"OUTPUT_FORMAT")),e.R7$(2),e.FS9("okText",e.bMT(219,181,"OK")),e.FS9("cancelText",e.bMT(220,183,"CANCEL")),e.Y8G("ngModel",t.model_so_outputformat),e.R7$(13),e.JRh(e.bMT(232,185,"OUTPUT_FILE")),e.R7$(2),e.Y8G("ngModel",t.model_op_filename),e.R7$(1),e.Y8G("ngModel",t.model_op_toggle)}}var u=[];let y=(()=>{class c{constructor(t,s,o,i,m){this.dataService=t,this.http=s,this.nav=o,this.modalController=i,this.platform=m,this.model_ant_height=0,this.ant_measure_type="slant",this.ion_select_so=!1,this.ion_select_so_tcp=!1,this.ublox_engine=!1,this.connected=!1,this.ntrip_note="",this.model_rover_mode=!1,this.isPRB2=!1,this.isPRB3=!1,this.isAndroid=!0,this.passwordType="password",this.passwordShow=!1,this.iconEye="eye-off"}ngOnInit(){var t=this;return(0,g.A)(function*(){if(console.log("Rover Tab"),t.isAndroid=t.platform.is("android"),t.dataConfig=t.dataService.config,t.dataInfo=t.dataService.info,t.connected=t.dataService.connected,!t.connected)return void t.nav.navigateBack("tabs/tab1");t.model_rover_mode=0==t.dataConfig.use_as_base,t.isPRB2=t.dataService.isPRB2,t.isPRB3=t.dataService.isPRB3,t.localConfig=t.dataService.getLocalConfig(),u=t.localConfig.ntrips,t.buildPage(),t.checkType(),t.checkSolution(),u=t.dataService.getNTRIPs();let s=t.findNTRIPbyHost(t.model_ip,t.model_nt_port,t.model_user);typeof s<"u"&&(t.ntrip_note=s.note);let o=setInterval(()=>{if(!t.dataService.connected)return console.log("Timeout"),clearTimeout(o),void t.nav.navigateBack("tabs/tab1")},5e3)})()}buildPage(){this.model_mode=this.dataConfig.rover.mode,this.model_ant_height=typeof this.dataConfig.rover.antenna_height<"u"?this.dataConfig.rover.antenna_height:0,this.ant_measure_type=this.dataService.config.rover.antenna_measure_type,this.model_Correction_Input=this.dataConfig.rover.correction_input_type,this.model_Port=this.dataConfig.rover.input_correction_tty,this.model_Baudrates=this.dataConfig.rover.input_correction_baudrate,this.model_Format=this.dataConfig.rover.ntrip_client_format,this.model_ip=this.dataConfig.rover.ntrip_client_host,this.model_nt_port=this.dataConfig.rover.ntrip_client_port,this.model_mountpoint=this.dataConfig.rover.ntrip_client_mountpoint,this.model_user=this.dataConfig.rover.ntrip_client_user,this.model_password=this.dataConfig.rover.ntrip_client_password,this.model_arMode=this.dataConfig.rover.ar_mode,this.model_so_type=this.dataConfig.rover.output_solution_type,this.model_so_port=this.dataConfig.rover.output_solution_tty,this.model_so_baudrates=this.dataConfig.rover.output_solution_baudrate,this.model_so_outputformat=this.dataConfig.rover.output_solution_format,this.model_so_tcp_ip=this.dataConfig.rover.output_solution_tcp_ip,this.model_so_tcp_port=this.dataConfig.rover.output_solution_tcp_port,this.model_ambiguity=this.dataConfig.rover.min_fix_ambiguity,this.model_elevation_mask=this.dataConfig.rover.elevation_mask,this.model_snr_mask=this.dataConfig.rover.snr_mask,this.model_op_filename=this.dataConfig.rover.output_solution_file,this.model_op_toggle=this.dataConfig.rover.output_solution_log,this.ublox_engine="ublox"===this.dataConfig.rtk_engine}checkType(){"tcpcli"==this.model_Correction_Input?(this.ion_select_port=!0,this.ion_select_baudrates=!0,this.ion_select_format=!1,this.ion_list_typeTcp=!1,this.ion_list_typeNtrip=!0,this.ion_list_typeSerial=!0):"ntripcli"==this.model_Correction_Input?(this.ion_select_port=!0,this.ion_select_baudrates=!0,this.ion_select_format=!1,this.ion_list_typeTcp=!0,this.ion_list_typeNtrip=!1,this.ion_list_typeSerial=!0):"serial"==this.model_Correction_Input?(this.ion_select_port=!1,this.ion_select_baudrates=!1,this.ion_select_format=!1,this.ion_list_typeTcp=!0,this.ion_list_typeNtrip=!0,this.ion_list_typeSerial=!1):("radio"==this.model_Correction_Input||"bluetooth"==this.model_Correction_Input)&&(this.ion_select_port=!0,this.ion_select_baudrates=!0,this.ion_select_format=!1,this.ion_list_typeTcp=!0,this.ion_list_typeNtrip=!0,this.ion_list_typeSerial=!0)}checkSolution(){"off"==this.model_so_type?(this.ion_select_so=!0,this.ion_select_so_tcp=!0):"tcpcli"==this.model_so_type?(this.ion_select_so=!0,this.ion_select_so_tcp=!1):"serial"==this.model_so_type?(this.ion_select_so=!1,this.ion_select_so_tcp=!0):"bluetooth"==this.model_so_type&&(this.ion_select_so=!0,this.ion_select_so_tcp=!0)}typeChange(t){"tcpcli"==t.target.value?(this.ion_select_port=!0,this.ion_select_baudrates=!0,this.ion_select_format=!1,this.ion_list_typeTcp=!1,this.ion_list_typeNtrip=!0,this.ion_list_typeSerial=!0):"ntripcli"==t.target.value?(this.ion_select_port=!0,this.ion_select_baudrates=!0,this.ion_select_format=!1,this.ion_list_typeTcp=!0,this.ion_list_typeNtrip=!1,this.ion_list_typeSerial=!0):"serial"==t.target.value?(this.ion_select_port=!1,this.ion_select_baudrates=!1,this.ion_select_format=!1,this.ion_list_typeTcp=!0,this.ion_list_typeNtrip=!0,this.ion_list_typeSerial=!1):("radio"==t.target.value||"bluetooth"==t.target.value)&&(this.ion_select_port=!0,this.ion_select_baudrates=!0,this.ion_select_format=!1,this.ion_list_typeTcp=!0,this.ion_list_typeNtrip=!0,this.ion_list_typeSerial=!0)}solutionChange(t){"off"==t.target.value?(this.ion_select_so=!0,this.ion_select_so_tcp=!0):"tcpcli"==this.model_so_type?(this.ion_select_so=!0,this.ion_select_so_tcp=!1):"serial"==t.target.value?(this.ion_select_so=!1,this.ion_select_so_tcp=!0):"bluetooth"==t.target.value&&(this.ion_select_so=!0,this.ion_select_so_tcp=!0)}SaveConfig(t){console.log("Save Config"),this.save_conf_ui(),this.nav.navigateBack("tabs/tab5"),this.dataService.connected&&this.dataService.bluetoothMode?this.dataService.blueRequesSaveRoverConfig():((new b.Lr).append("Content-Type","application/json"),this.ublox_engine="ublox"===this.dataConfig.rtk_engine,this.dataService.saveRoverConfig()),this.reconnectNTRIP()}save_conf_ui(){this.dataConfig.rover.mode=this.model_mode,this.dataConfig.rover.antenna_height=Number(this.model_ant_height),this.dataConfig.rover.correction_input_type=this.model_Correction_Input,this.dataConfig.rover.input_correction_tty=this.model_Port,this.dataConfig.rover.input_correction_baudrate=this.model_Baudrates,this.dataConfig.rover.ntrip_client_format=this.model_Format,this.dataConfig.rover.ntrip_client_host=this.model_ip,this.dataConfig.rover.ntrip_client_port=this.model_nt_port,this.dataConfig.rover.ntrip_client_mountpoint=this.model_mountpoint,this.dataConfig.rover.ntrip_client_user=this.model_user,this.dataConfig.rover.ntrip_client_password=this.model_password,this.dataConfig.rover.ar_mode=this.model_arMode,this.dataConfig.rover.output_solution_type=this.model_so_type,this.dataConfig.rover.output_solution_tty=this.model_so_port,this.dataConfig.rover.output_solution_baudrate=this.model_so_baudrates,this.dataConfig.rover.output_solution_format=this.model_so_outputformat,this.dataConfig.rover.output_solution_tcp_ip=this.model_so_tcp_ip,this.dataConfig.rover.output_solution_tcp_port=this.model_so_tcp_port,this.dataConfig.rover.min_fix_ambiguityx=this.model_ambiguity,this.dataConfig.rover.elevation_mask=this.model_elevation_mask,this.dataConfig.rover.snr_mask=this.model_snr_mask,this.dataConfig.rover.output_solution_file=this.model_op_filename,this.dataConfig.rover.output_solution_log=this.model_op_toggle,this.dataConfig.use_as_base=!this.model_rover_mode}ntrip_list(){var t=this;return(0,g.A)(function*(){const s=yield t.modalController.create({component:I.W,componentProps:{Ntrip_List:u}});return s.onDidDismiss().then(o=>{if(null!==o){if(typeof o.data>"u")return;if("select"===o.data&&typeof o.role<"u"){let i=o.role;t.model_ip=i.host,t.model_nt_port=i.port,t.model_mountpoint=i.mountpoint,t.model_user=i.user,t.model_password=i.password,t.ntrip_note=i.note}else"delete"===o.data&&typeof o.role<"u"&&(t.deleteNTRIP(o.role),t.dataService.updateNTRIPs(u))}}),yield s.present()})()}mt_list(){var t=this;return(0,g.A)(function*(){const s=yield t.modalController.create({component:R.w,componentProps:{Host:t.model_ip,Port:t.model_nt_port}});return s.onDidDismiss().then(o=>{if(null!==o){if(typeof o.data>"u")return;"select"===o.data&&typeof o.role<"u"&&(t.model_mountpoint=o.role)}}),yield s.present()})()}save_list(){var t=this;return(0,g.A)(function*(){const s=yield t.modalController.create({component:F.D,componentProps:{Note:t.ntrip_note}});return s.onDidDismiss().then(o=>{if(null!==o){if(typeof o.data>"u")return;if("ok"===o.data&&typeof o.role<"u"){let i={};i.note=o.role,i.host=t.model_ip,i.port=t.model_nt_port,i.mountpoint=t.model_mountpoint,i.user=t.model_user,i.password=t.model_password,t.ntrip_note=i.note,typeof t.findNTRIP(i)<"u"?t.updateNTRIP(i):u.push(i),t.dataService.updateNTRIPs(u)}}}),yield s.present()})()}findNTRIP(t){return u.find(o=>o.note===t.note&&o.host===t.host&&o.port===t.port)}findNTRIPbyHost(t,s,o){return u.find(m=>m.host===t&&m.port===s&&m.user===o)}updateNTRIP(t){u.forEach(s=>{if(s.note===t.note)return s.note=t.note,s.host=t.host,s.port=t.port,s.mountpoint=t.mountpoint,s.user=t.user,void(s.password=t.password)})}deleteNTRIP(t){let s=0;for(s in u)u[s].note===t.note&&u[s].host==t.host&&u.splice(s)}reconnectNTRIP(){var t=this;return(0,g.A)(function*(){t.dataConfig.rover.ntrip_client_host=t.model_ip,t.dataConfig.rover.ntrip_client_port=t.model_nt_port,t.dataConfig.rover.ntrip_client_mountpoint=t.model_mountpoint,t.dataConfig.rover.ntrip_client_user=t.model_user,t.dataConfig.rover.ntrip_client_password=t.model_password,t.dataService.NetNTRIPReconnect()})()}togglePassword(){this.passwordShow?(this.passwordShow=!1,this.passwordType="password",this.iconEye="eye-off"):(this.passwordShow=!0,this.passwordType="string",this.iconEye="eye")}set_ant_height(){var t=this;return(0,g.A)(function*(){const s=yield t.modalController.create({component:k.U,cssClass:"modal-css-70",componentProps:{ant_height:t.model_ant_height,measure_type:t.ant_measure_type}});return s.onDidDismiss().then(o=>{if(null!==o){let i=o.role;if(typeof i>"u"||"cancel"===o.data||"backdrop"===i)return;t.ant_measure_type=o.data,t.model_ant_height=Number(i),t.dataService.config.rover.antenna_height=t.model_ant_height,t.dataService.config.rover.antenna_measure_type=t.ant_measure_type}}),yield s.present()})()}static{this.\u0275fac=function(s){return new(s||c)(e.rXU(E.f),e.rXU(b.Qq),e.rXU(p.q9),e.rXU(l.W3),e.rXU(p.OD))}}static{this.\u0275cmp=e.VBU({type:c,selectors:[["app-setting-rover"]],decls:15,vars:7,consts:[["color","darkblue"],["slot","start"],["defaultHref","/tabs/tab5"],["slot","end"],[3,"click"],[4,"ngIf"],[1,"ion-no-border"],["aria-label","Enable Rover","color","primary","slot","end",3,"ngModel","ngModelChange"],[3,"label","ngModel","okText","cancelText","ngModelChange"],["value","single"],["value","static"],["value","kinematic-survey"],["value","kinematic-drone"],["value","kinematic-car"],["value","kinematic-sea"],["position","stacked"],["label","","placeholder","1.8","type","number",3,"ngModel","ngModelChange"],["id","ant_bttn","slot","end",3,"click"],[3,"hidden"],["value","ttyUSB0"],["value","9600:8:n:1:off"],["value","19200:8:n:1:off"],["value","38400:8:n:1:off"],["value","57600:8:n:1:off"],["value","115200:8:n:1:off"],["value","rtcm3"],["value","ubx"],["label","","placeholder","IP or Domain",3,"ngModel","ngModelChange"],["label","","placeholder","Number[1024-65535]","type","number",3,"ngModel","ngModelChange"],["id","ntrip_bttn","color","primary",3,"click"],["id","mt_bttn","color","primary",3,"click"],["id","ntrip_save_bttn","color","primary",3,"click"],["label","","placeholder","Mountpoint",3,"ngModel","ngModelChange"],["label","","placeholder","Username",3,"ngModel","ngModelChange"],["label","","placeholder","Password",3,"type","ngModel","ngModelChange"],["slot","end",3,"name","click"],["value","continuous"],["value","instantaneous"],["value","fix-and-hold"],[1,"mx-4","mt-2"],["aria-label","","min","1","max","10","pin","true","color","secondary",3,"ngModel","ngModelChange"],[1,"ps-3"],["aria-label","","min","0","max","90","pin","true","color","secondary",3,"ngModel","ngModelChange"],["aria-label","","min","0","max","50","pin","true","color","secondary",3,"ngModel","ngModelChange"],[3,"label","ngModel","okText","cancelText","ngModelChange","ionChange"],["value","off"],["value","tcpcli"],["value","serial"],["value","bluetooth"],["label","",3,"ngModel","okText","cancelText","ngModelChange"],["value","llh"],["value","xyz"],["value","enu"],["value","nmea"],["aria-label","","placeholder","filename",3,"ngModel","ngModelChange"],["aria-label","Log","color","primary","slot","end",3,"ngModel","ngModelChange"],["value","ntripcli"],["value","radio"],["slot","end","id","mt_bttn","color","primary",1,"b_serverip",3,"click"]],template:function(s,o){1&s&&(e.j41(0,"ion-header")(1,"ion-toolbar",0)(2,"ion-buttons",1),e.nrm(3,"ion-back-button",2),e.k0s(),e.j41(4,"ion-title"),e.EFF(5),e.nI1(6,"translate"),e.k0s(),e.j41(7,"ion-buttons",3)(8,"ion-button",4),e.bIt("click",function(m){return o.SaveConfig(m)}),e.EFF(9),e.nI1(10,"translate"),e.k0s()()()(),e.j41(11,"ion-content"),e.DNE(12,C,235,187,"section",5),e.k0s(),e.j41(13,"ion-footer",6),e.nrm(14,"ion-toolbar"),e.k0s()),2&s&&(e.R7$(5),e.JRh(e.bMT(6,3,"ROVER")),e.R7$(4),e.SpI(" ",e.bMT(10,5,"APPLY")," "),e.R7$(3),e.Y8G("ngIf",o.connected))},dependencies:[v.bT,M.BC,M.vS,l.Jm,l.QW,l.W9,l.M0,l.eU,l.iq,l.$w,l.uz,l.he,l.nf,l.Ob,l.Nm,l.Ip,l.BC,l.BY,l.ai,l.hB,l.su,l.Je,l.Gw,l.el,f.D9],styles:[".b_serverip[_ngcontent-%COMP%]{transform:translateY(18px)}"]})}}return c})();var N=r(5635);function S(c){return new N.s(c,"./assets/i18n/",".json")}const G=[{path:"",component:y}];let x=(()=>{class c{static{this.\u0275fac=function(s){return new(s||c)}}static{this.\u0275mod=e.$C({type:c})}static{this.\u0275inj=e.G2t({imports:[v.MD,M.YN,l.bv,n.iI.forChild(G),f.h.forChild({loader:{provide:f.Wr,useFactory:S,deps:[b.Qq]}})]})}}return c})()}}]);