"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[596],{685:(C,h,i)=>{i.r(h),i.d(h,{HttpLoaderFactory:()=>m,ModalAddMarkPageModule:()=>_});var c=i(177),p=i(9417),t=i(8974),a=i(1470),f=i(5472),r=i(6996);const d=[{path:"",component:f.z}];let u=(()=>{class l{static{this.\u0275fac=function(n){return new(n||l)}}static{this.\u0275mod=r.$C({type:l})}static{this.\u0275inj=r.G2t({imports:[a.iI.forChild(d),a.iI]})}}return l})();var g=i(9664),M=i(1626),v=i(5635);function m(l){return new v.s(l,"./assets/i18n/",".json")}let _=(()=>{class l{static{this.\u0275fac=function(n){return new(n||l)}}static{this.\u0275mod=r.$C({type:l})}static{this.\u0275inj=r.G2t({imports:[c.MD,p.YN,t.bv,u,g.h.forChild({loader:{provide:g.Wr,useFactory:m,deps:[M.Qq]}})]})}}return l})()},3632:(C,h,i)=>{i.d(h,{U:()=>m});var c=i(467),p=i(7328),t=i(6996),a=i(8974),f=i(7157),r=i(9884),d=i(177),u=i(9417),g=i(9664);function M(_,l){if(1&_&&(t.j41(0,"ion-select-option",15),t.EFF(1),t.k0s()),2&_){const e=l.$implicit;t.FS9("value",e.value),t.R7$(1),t.JRh(e.name)}}function v(_,l){if(1&_){const e=t.RV6();t.j41(0,"section")(1,"ion-item")(2,"ion-label",8),t.EFF(3,"Antenna Radious (m)"),t.k0s(),t.j41(4,"ion-input",9),t.bIt("ngModelChange",function(n){t.eBV(e);const s=t.XpG();return t.Njj(s.ant_radius=n)}),t.k0s()(),t.j41(5,"ion-item")(6,"ion-label",8),t.EFF(7,"Antenna L1 Height (m)"),t.k0s(),t.j41(8,"ion-input",9),t.bIt("ngModelChange",function(n){t.eBV(e);const s=t.XpG();return t.Njj(s.ant_l1_height=n)}),t.k0s()(),t.j41(9,"ion-item")(10,"ion-label",8),t.EFF(11,"Antenna L2 Height (m)"),t.k0s(),t.j41(12,"ion-input",9),t.bIt("ngModelChange",function(n){t.eBV(e);const s=t.XpG();return t.Njj(s.ant_l2_height=n)}),t.k0s()(),t.j41(13,"ion-item")(14,"ion-label",8),t.EFF(15,"Antenna ARP (m)"),t.k0s(),t.j41(16,"ion-input",9),t.bIt("ngModelChange",function(n){t.eBV(e);const s=t.XpG();return t.Njj(s.ant_arp_height=n)}),t.k0s()()()}if(2&_){const e=t.XpG();t.R7$(4),t.Y8G("ngModel",e.ant_radius),t.R7$(4),t.Y8G("ngModel",e.ant_l1_height),t.R7$(4),t.Y8G("ngModel",e.ant_l2_height),t.R7$(4),t.Y8G("ngModel",e.ant_arp_height)}}let m=(()=>{class _{constructor(e,o,n){this.modalController=e,this.navParams=o,this.dataService=n,this.use_slant_height=!1,this.ant_user_height=0,this.ant_radius=.073,this.ant_l1_height=.05,this.ant_l2_height=.05,this.ant_arp_height=.04,this.ant_calculated_height=0,this.ant_measure_type="pole",this.ant_measure_type_list=[{name:"Pole Height",value:"pole"},{name:"Phase Center",value:"phase center"},{name:"Slant Height",value:"slant"}],this.ant_type=[{name:"GN-GG0710",value:{radious:.07575,l1:.048,l2:.044,arp:.036}},{name:"GPS500",value:{radious:.076,l1:.054,l2:.0478,arp:.03}},{name:"PRB2",value:{radious:.0675,l1:.087,l2:.0824,arp:.078}},{name:"PRB3",value:{radious:.0675,l1:.087,l2:.0824,arp:.078}}],this.show_detail=!1}ngOnInit(){this.ant_user_height=this.navParams.get("ant_height"),this.ant_measure_type=this.navParams.get("measure_type"),"variscite"===this.dataService.info.platform?this.ant_model=typeof this.dataService.info.ant_model>"u"?"GN-GG0710":this.dataService.info.ant_model:this.dataService.isPRB2?this.ant_model=typeof this.dataService.info.ant_model>"u"?"PRB2":this.dataService.info.ant_model:this.dataService.isPRB3&&(this.ant_model=typeof this.dataService.info.ant_model>"u"?"PRB3":this.dataService.info.ant_model);let e=this.getAntInfo(this.ant_model);this.ant_radius=e.value.radious,this.ant_l1_height=e.value.l1,this.ant_l2_height=e.value.l2,this.ant_arp_height=e.value.arp}confirm_modal(){var e=this;return(0,c.A)(function*(){let o=(e.ant_l1_height+e.ant_l2_height)/2,n=o-e.ant_arp_height;switch(console.log("height_edge_phase_center",n),e.ant_measure_type){case"pole":e.ant_calculated_height=e.ant_user_height+o;break;case"phase center":e.ant_calculated_height=e.ant_user_height+n;break;case"slant":e.ant_calculated_height=Math.sqrt(e.ant_user_height**2-e.ant_radius**2)+n}e.ant_calculated_height=p.LIG(e.ant_calculated_height,4),console.log("Calculated Antenna Height",e.ant_calculated_height),yield e.modalController.dismiss(e.ant_measure_type,`${e.ant_calculated_height}`)})()}cancel_modal(){var e=this;return(0,c.A)(function*(){yield e.modalController.dismiss("cancel")})()}getAntInfo(e){return this.ant_type.find(n=>n.name==e)}showDetail(){this.show_detail=!this.show_detail}static{this.\u0275fac=function(o){return new(o||_)(t.rXU(a.W3),t.rXU(f.y8),t.rXU(r.f))}}static{this.\u0275cmp=t.VBU({type:_,selectors:[["app-modal-antenna"]],decls:35,vars:22,consts:[[1,"custom-header"],["color","darkblue",1,"ion-align-items-center","custom-toolbar"],["slot","end",1,"center-vertical",3,"click"],["slot","icon-only","name","close"],[3,"fullscreen"],[1,"mt-3"],["label","Antenna Measure Type",3,"ngModel","okText","cancelText","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],["position","floating"],["aria-label","","type","number",3,"ngModel","ngModelChange"],[3,"click"],[4,"ngIf"],[3,"translucent"],["expand","full","color","medium",3,"click"],["expand","full","color","success",3,"click"],[3,"value"]],template:function(o,n){1&o&&(t.j41(0,"ion-header",0)(1,"ion-toolbar",1)(2,"ion-title"),t.EFF(3,"Antenna Height"),t.k0s(),t.j41(4,"ion-buttons",2),t.bIt("click",function(){return n.cancel_modal()}),t.nrm(5,"ion-icon",3),t.k0s()()(),t.j41(6,"ion-content",4)(7,"ion-list")(8,"ion-item",5)(9,"ion-select",6),t.bIt("ngModelChange",function(P){return n.ant_measure_type=P}),t.nI1(10,"translate"),t.nI1(11,"translate"),t.DNE(12,M,2,2,"ion-select-option",7),t.k0s()(),t.j41(13,"ion-item")(14,"ion-label",8),t.EFF(15),t.nI1(16,"translate"),t.k0s(),t.j41(17,"ion-input",9),t.bIt("ngModelChange",function(P){return n.ant_user_height=P}),t.k0s()(),t.j41(18,"ion-item")(19,"ion-label",10),t.bIt("click",function(){return n.showDetail()}),t.EFF(20),t.k0s()(),t.DNE(21,v,17,4,"section",11),t.k0s()(),t.j41(22,"ion-footer",12)(23,"ion-grid")(24,"ion-row")(25,"ion-col")(26,"div")(27,"ion-button",13),t.bIt("click",function(){return n.cancel_modal()}),t.EFF(28),t.nI1(29,"translate"),t.k0s()()(),t.j41(30,"ion-col")(31,"div")(32,"ion-button",14),t.bIt("click",function(){return n.confirm_modal()}),t.EFF(33),t.nI1(34,"translate"),t.k0s()()()()()()),2&o&&(t.R7$(6),t.Y8G("fullscreen",!0),t.R7$(3),t.FS9("okText",t.bMT(10,12,"OK")),t.FS9("cancelText",t.bMT(11,14,"CANCEL")),t.Y8G("ngModel",n.ant_measure_type),t.R7$(3),t.Y8G("ngForOf",n.ant_measure_type_list),t.R7$(3),t.SpI("",t.bMT(16,16,"ANT_HEIGHT")," (m)"),t.R7$(2),t.Y8G("ngModel",n.ant_user_height),t.R7$(3),t.SpI(" Antenna Model ",n.ant_model," "),t.R7$(1),t.Y8G("ngIf",n.show_detail),t.R7$(1),t.Y8G("translucent",!0),t.R7$(6),t.JRh(t.bMT(29,18,"CANCEL")),t.R7$(5),t.JRh(t.bMT(34,20,"CONFIRM")))},dependencies:[d.Sq,d.bT,u.BC,u.vS,a.Jm,a.QW,a.hU,a.W9,a.M0,a.lO,a.eU,a.iq,a.$w,a.uz,a.he,a.nf,a.ln,a.Nm,a.Ip,a.BC,a.ai,a.su,a.Je,g.D9],styles:['@charset "UTF-8";.custom-header[_ngcontent-%COMP%]{position:relative;max-height:52px;height:52px}.custom-toolbar[_ngcontent-%COMP%]{position:absolute;top:50%;transform:translateY(-50%);width:100%;display:flex;align-items:center;justify-content:space-between}']})}}return _})()}}]);